{"ast":null,"code":"import litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { isShow, isBackSpace, isLeft, isRight } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { MULTIINPUT_ROLEDESCRIPTION_TEXT } from \"./generated/i18n/i18n-defaults.js\";\nimport Input from \"./Input.js\";\nimport MultiInputTemplate from \"./generated/templates/MultiInputTemplate.lit.js\";\nimport styles from \"./generated/themes/MultiInput.css.js\";\nimport Token from \"./Token.js\";\nimport Tokenizer from \"./Tokenizer.js\";\nimport Icon from \"./Icon.js\";\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-multi-input\",\n  properties:\n  /** @lends sap.ui.webcomponents.main.MultiInput.prototype */\n  {\n    /**\n     * Determines whether a value help icon will be visualized in the end of the input.\n     * Pressing the icon will fire <code>value-help-trigger</code> event.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    showValueHelpIcon: {\n      type: Boolean\n    },\n\n    /**\n     * Indicates whether the tokenizer is expanded or collapsed(shows the n more label)\n     * @private\n     */\n    expandedTokenizer: {\n      type: Boolean\n    }\n  },\n  slots:\n  /** @lends  sap.ui.webcomponents.main.MultiInput.prototype */\n  {\n    /**\n     * Defines the component tokens.\n     *\n     * @type {sap.ui.webcomponents.main.IToken[]}\n     * @slot\n     * @public\n     */\n    tokens: {\n      type: HTMLElement\n    }\n  },\n  events:\n  /** @lends  sap.ui.webcomponents.main.MultiInput.prototype */\n  {\n    /**\n     * Fired when the value help icon is pressed\n     * and F4 or ALT/OPTION + ARROW_UP/ARROW_DOWN keyboard keys are used.\n     *\n     * @event sap.ui.webcomponents.main.MultiInput#value-help-trigger\n     * @public\n     */\n    \"value-help-trigger\": {},\n\n    /**\n     * Fired when a token is about to be deleted.\n     *\n     * @event sap.ui.webcomponents.main.MultiInput#token-delete\n     * @param {HTMLElement} token deleted token.\n     * @public\n     */\n    \"token-delete\": {\n      detail: {\n        token: {\n          type: HTMLElement\n        }\n      }\n    }\n  }\n};\n/**\n * @class\n * <h3>Overview</h3>\n * A <code>ui5-multi-input</code> field allows the user to enter multiple values, which are displayed as <code>ui5-token</code>.\n *\n * User can choose interaction for creating tokens.\n * Fiori Guidelines say that user should create tokens when:\n * <ul>\n * <li>Type a value in the input and press enter or focus out the input field (<code>change</code> event is fired)\n * <li>Select a value from the suggestion list</li> (<code>suggestion-item-select</code> event is fired)\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/MultiInput\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MultiInput\n * @extends Input\n * @tagname ui5-multi-input\n * @appenddocs Token\n * @since 1.0.0-rc.9\n * @public\n */\n\nclass MultiInput extends Input {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get template() {\n    return MultiInputTemplate;\n  }\n\n  static get styles() {\n    return [Input.styles, styles];\n  }\n\n  constructor() {\n    super(); // Prevent suggestions' opening.\n\n    this._skipOpenSuggestions = false;\n  }\n\n  valueHelpPress(event) {\n    this.closePopover();\n    this.fireEvent(\"value-help-trigger\", {});\n  }\n\n  showMorePress(event) {\n    this.expandedTokenizer = false;\n    this.focus();\n  }\n\n  tokenDelete(event) {\n    this.fireEvent(\"token-delete\", {\n      token: event.detail.ref\n    });\n    this.focus();\n  }\n\n  valueHelpMouseDown(event) {\n    this.closePopover();\n    this.tokenizer.closeMorePopover();\n    this._valueHelpIconPressed = true;\n    event.target.focus();\n  }\n\n  _tokenizerFocusOut(event) {\n    if (!this.contains(event.relatedTarget)) {\n      this.tokenizer._tokens.forEach(token => {\n        token.selected = false;\n      });\n\n      this.tokenizer.scrollToStart();\n    }\n  }\n\n  valueHelpMouseUp(event) {\n    setTimeout(() => {\n      this._valueHelpIconPressed = false;\n    }, 0);\n  }\n\n  innerFocusIn() {\n    this.expandedTokenizer = true;\n  }\n\n  _onkeydown(event) {\n    super._onkeydown(event);\n\n    if (isLeft(event)) {\n      this._skipOpenSuggestions = true; // Prevent input focus when navigating through the tokens.\n\n      return this._handleLeft(event);\n    }\n\n    this._skipOpenSuggestions = false;\n\n    if (isBackSpace(event) && event.target.value === \"\") {\n      event.preventDefault();\n\n      this.tokenizer._focusLastToken();\n    }\n\n    if (isShow(event)) {\n      this.valueHelpPress();\n    }\n  }\n\n  _onTokenizerKeydown(event) {\n    if (isRight(event)) {\n      const lastTokenIndex = this.tokenizer._tokens.length - 1;\n\n      if (this.tokenizer._tokens[lastTokenIndex] === document.activeElement) {\n        setTimeout(() => {\n          this.focus();\n        }, 0);\n      }\n    }\n  }\n\n  _handleLeft() {\n    const cursorPosition = this.getDomRef().querySelector(`input`).selectionStart;\n\n    if (cursorPosition === 0) {\n      this.tokenizer._focusLastToken();\n    }\n  }\n\n  _onfocusout(event) {\n    super._onfocusout(event);\n\n    const relatedTarget = event.relatedTarget;\n    const insideDOM = this.contains(relatedTarget);\n    const insideShadowDom = this.shadowRoot.contains(relatedTarget);\n\n    if (!insideDOM && !insideShadowDom) {\n      this.expandedTokenizer = false;\n    }\n  }\n  /**\n   * @override\n   */\n\n\n  async _onfocusin(event) {\n    const inputDomRef = await this.getInputDOMRef();\n\n    if (event.target === inputDomRef) {\n      await super._onfocusin(event);\n    }\n  }\n\n  shouldOpenSuggestions() {\n    const parent = super.shouldOpenSuggestions();\n    const valueHelpPressed = this._valueHelpIconPressed;\n    const nonEmptyValue = this.value !== \"\";\n    return parent && nonEmptyValue && !valueHelpPressed && !this._skipOpenSuggestions;\n  }\n\n  lastItemDeleted() {\n    setTimeout(() => {\n      this.focus();\n    }, 0);\n  }\n\n  get tokenizer() {\n    return this.shadowRoot.querySelector(\"[ui5-tokenizer]\");\n  }\n\n  get _tokensCountText() {\n    if (!this.tokenizer) {\n      return;\n    }\n\n    return this.tokenizer._tokensCountText();\n  }\n\n  get _tokensCountTextId() {\n    return `${this._id}-hiddenText-nMore`;\n  }\n  /**\n   * Returns the placeholder value when there are no tokens.\n   * @protected\n   */\n\n\n  get _placeholder() {\n    if (this.tokenizer && this.tokenizer._tokens.length) {\n      return \"\";\n    }\n\n    return this.placeholder;\n  }\n\n  get accInfo() {\n    const ariaDescribedBy = `${this._tokensCountTextId} ${this.suggestionsTextId} ${this.valueStateTextId}`.trim();\n    return {\n      \"input\": { ...super.accInfo.input,\n        \"ariaRoledescription\": this.ariaRoleDescription,\n        \"ariaDescribedBy\": ariaDescribedBy\n      }\n    };\n  }\n\n  get ariaRoleDescription() {\n    return MultiInput.i18nBundle.getText(MULTIINPUT_ROLEDESCRIPTION_TEXT);\n  }\n\n  static get dependencies() {\n    return [...Input.dependencies, Tokenizer, Token, Icon];\n  }\n\n}\n\nMultiInput.define();\nexport default MultiInput;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/MultiInput.js"],"names":["litRender","isShow","isBackSpace","isLeft","isRight","MULTIINPUT_ROLEDESCRIPTION_TEXT","Input","MultiInputTemplate","styles","Token","Tokenizer","Icon","metadata","tag","properties","showValueHelpIcon","type","Boolean","expandedTokenizer","slots","tokens","HTMLElement","events","detail","token","MultiInput","render","template","constructor","_skipOpenSuggestions","valueHelpPress","event","closePopover","fireEvent","showMorePress","focus","tokenDelete","ref","valueHelpMouseDown","tokenizer","closeMorePopover","_valueHelpIconPressed","target","_tokenizerFocusOut","contains","relatedTarget","_tokens","forEach","selected","scrollToStart","valueHelpMouseUp","setTimeout","innerFocusIn","_onkeydown","_handleLeft","value","preventDefault","_focusLastToken","_onTokenizerKeydown","lastTokenIndex","length","document","activeElement","cursorPosition","getDomRef","querySelector","selectionStart","_onfocusout","insideDOM","insideShadowDom","shadowRoot","_onfocusin","inputDomRef","getInputDOMRef","shouldOpenSuggestions","parent","valueHelpPressed","nonEmptyValue","lastItemDeleted","_tokensCountText","_tokensCountTextId","_id","_placeholder","placeholder","accInfo","ariaDescribedBy","suggestionsTextId","valueStateTextId","trim","input","ariaRoleDescription","i18nBundle","getText","dependencies","define"],"mappings":"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","sourcesContent":["import litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport {\n\tisShow,\n\tisBackSpace,\n\tisLeft,\n\tisRight,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { MULTIINPUT_ROLEDESCRIPTION_TEXT } from \"./generated/i18n/i18n-defaults.js\";\nimport Input from \"./Input.js\";\nimport MultiInputTemplate from \"./generated/templates/MultiInputTemplate.lit.js\";\nimport styles from \"./generated/themes/MultiInput.css.js\";\nimport Token from \"./Token.js\";\nimport Tokenizer from \"./Tokenizer.js\";\nimport Icon from \"./Icon.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-multi-input\",\n\tproperties: /** @lends sap.ui.webcomponents.main.MultiInput.prototype */ {\n\t\t/**\n\t\t * Determines whether a value help icon will be visualized in the end of the input.\n\t\t * Pressing the icon will fire <code>value-help-trigger</code> event.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tshowValueHelpIcon: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether the tokenizer is expanded or collapsed(shows the n more label)\n\t\t * @private\n\t\t */\n\t\texpandedTokenizer: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tslots: /** @lends  sap.ui.webcomponents.main.MultiInput.prototype */ {\n\t\t/**\n\t\t * Defines the component tokens.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.IToken[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\ttokens: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.MultiInput.prototype */ {\n\t\t/**\n\t\t * Fired when the value help icon is pressed\n\t\t * and F4 or ALT/OPTION + ARROW_UP/ARROW_DOWN keyboard keys are used.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.MultiInput#value-help-trigger\n\t\t * @public\n\t\t */\n\t\t\"value-help-trigger\": {},\n\n\t\t/**\n\t\t * Fired when a token is about to be deleted.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.MultiInput#token-delete\n\t\t * @param {HTMLElement} token deleted token.\n\t\t * @public\n\t\t */\n\t\t\"token-delete\": {\n\t\t\tdetail: {\n\t\t\t\ttoken: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n * <h3>Overview</h3>\n * A <code>ui5-multi-input</code> field allows the user to enter multiple values, which are displayed as <code>ui5-token</code>.\n *\n * User can choose interaction for creating tokens.\n * Fiori Guidelines say that user should create tokens when:\n * <ul>\n * <li>Type a value in the input and press enter or focus out the input field (<code>change</code> event is fired)\n * <li>Select a value from the suggestion list</li> (<code>suggestion-item-select</code> event is fired)\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/MultiInput\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MultiInput\n * @extends Input\n * @tagname ui5-multi-input\n * @appenddocs Token\n * @since 1.0.0-rc.9\n * @public\n */\nclass MultiInput extends Input {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn MultiInputTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn [Input.styles, styles];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\t// Prevent suggestions' opening.\n\t\tthis._skipOpenSuggestions = false;\n\t}\n\n\tvalueHelpPress(event) {\n\t\tthis.closePopover();\n\t\tthis.fireEvent(\"value-help-trigger\", {});\n\t}\n\n\tshowMorePress(event) {\n\t\tthis.expandedTokenizer = false;\n\t\tthis.focus();\n\t}\n\n\ttokenDelete(event) {\n\t\tthis.fireEvent(\"token-delete\", {\n\t\t\ttoken: event.detail.ref,\n\t\t});\n\n\t\tthis.focus();\n\t}\n\n\tvalueHelpMouseDown(event) {\n\t\tthis.closePopover();\n\t\tthis.tokenizer.closeMorePopover();\n\t\tthis._valueHelpIconPressed = true;\n\t\tevent.target.focus();\n\t}\n\n\t_tokenizerFocusOut(event) {\n\t\tif (!this.contains(event.relatedTarget)) {\n\t\t\tthis.tokenizer._tokens.forEach(token => { token.selected = false; });\n\t\t\tthis.tokenizer.scrollToStart();\n\t\t}\n\t}\n\n\tvalueHelpMouseUp(event) {\n\t\tsetTimeout(() => {\n\t\t\tthis._valueHelpIconPressed = false;\n\t\t}, 0);\n\t}\n\n\tinnerFocusIn() {\n\t\tthis.expandedTokenizer = true;\n\t}\n\n\t_onkeydown(event) {\n\t\tsuper._onkeydown(event);\n\n\t\tif (isLeft(event)) {\n\t\t\tthis._skipOpenSuggestions = true; // Prevent input focus when navigating through the tokens.\n\n\t\t\treturn this._handleLeft(event);\n\t\t}\n\n\t\tthis._skipOpenSuggestions = false;\n\t\tif (isBackSpace(event) && event.target.value === \"\") {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.tokenizer._focusLastToken();\n\t\t}\n\n\t\tif (isShow(event)) {\n\t\t\tthis.valueHelpPress();\n\t\t}\n\t}\n\n\t_onTokenizerKeydown(event) {\n\t\tif (isRight(event)) {\n\t\t\tconst lastTokenIndex = this.tokenizer._tokens.length - 1;\n\n\t\t\tif (this.tokenizer._tokens[lastTokenIndex] === document.activeElement) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.focus();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t_handleLeft() {\n\t\tconst cursorPosition = this.getDomRef().querySelector(`input`).selectionStart;\n\n\t\tif (cursorPosition === 0) {\n\t\t\tthis.tokenizer._focusLastToken();\n\t\t}\n\t}\n\n\t_onfocusout(event) {\n\t\tsuper._onfocusout(event);\n\t\tconst relatedTarget = event.relatedTarget;\n\t\tconst insideDOM = this.contains(relatedTarget);\n\t\tconst insideShadowDom = this.shadowRoot.contains(relatedTarget);\n\n\t\tif (!insideDOM && !insideShadowDom) {\n\t\t\tthis.expandedTokenizer = false;\n\t\t}\n\t}\n\n\t/**\n\t * @override\n\t */\n\tasync _onfocusin(event) {\n\t\tconst inputDomRef = await this.getInputDOMRef();\n\n\t\tif (event.target === inputDomRef) {\n\t\t\tawait super._onfocusin(event);\n\t\t}\n\t}\n\n\tshouldOpenSuggestions() {\n\t\tconst parent = super.shouldOpenSuggestions();\n\t\tconst valueHelpPressed = this._valueHelpIconPressed;\n\t\tconst nonEmptyValue = this.value !== \"\";\n\n\t\treturn parent && nonEmptyValue && !valueHelpPressed && !this._skipOpenSuggestions;\n\t}\n\n\tlastItemDeleted() {\n\t\tsetTimeout(() => {\n\t\t\tthis.focus();\n\t\t}, 0);\n\t}\n\n\tget tokenizer() {\n\t\treturn this.shadowRoot.querySelector(\"[ui5-tokenizer]\");\n\t}\n\n\tget _tokensCountText() {\n\t\tif (!this.tokenizer) {\n\t\t\treturn;\n\t\t}\n\t\treturn this.tokenizer._tokensCountText();\n\t}\n\n\tget _tokensCountTextId() {\n\t\treturn `${this._id}-hiddenText-nMore`;\n\t}\n\n\t/**\n\t * Returns the placeholder value when there are no tokens.\n\t * @protected\n\t */\n\tget _placeholder() {\n\t\tif (this.tokenizer && this.tokenizer._tokens.length) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\treturn this.placeholder;\n\t}\n\n\tget accInfo() {\n\t\tconst ariaDescribedBy = `${this._tokensCountTextId} ${this.suggestionsTextId} ${this.valueStateTextId}`.trim();\n\t\treturn {\n\t\t\t\"input\": {\n\t\t\t\t...super.accInfo.input,\n\t\t\t\t\"ariaRoledescription\": this.ariaRoleDescription,\n\t\t\t\t\"ariaDescribedBy\": ariaDescribedBy,\n\t\t\t},\n\t\t};\n\t}\n\n\tget ariaRoleDescription() {\n\t\treturn MultiInput.i18nBundle.getText(MULTIINPUT_ROLEDESCRIPTION_TEXT);\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\t...Input.dependencies,\n\t\t\tTokenizer,\n\t\t\tToken,\n\t\t\tIcon,\n\t\t];\n\t}\n}\n\nMultiInput.define();\n\nexport default MultiInput;\n"]},"metadata":{},"sourceType":"module"}