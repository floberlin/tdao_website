{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport { isPhone } from '@ui5/webcomponents-base/dist/Device.js';\nimport { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming.js';\nimport { useI18nBundle, useSyncRef } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { AVAILABLE_ACTIONS, CANCEL, X_OF_Y } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { ResponsivePopover } from '@ui5/webcomponents-react/dist/ResponsivePopover';\nimport clsx from 'clsx';\nimport React, { useEffect, forwardRef, useRef, useReducer, Children, useCallback, cloneElement } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\n\nvar useDeprecationNoticeForTooltip = function useDeprecationNoticeForTooltip(component, tooltip) {\n  useEffect(function () {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n\nvar styles = {\n  /*\n   *  is being applied to the encapsulating ul element\n   */\n  actionSheet: {\n    margin: 0,\n    padding: '0.1875rem 0.375rem',\n    '& [ui5-button]': {\n      display: 'block'\n    },\n    '& [ui5-button]:not([data-cancel-btn])::part(button)': {\n      justifyContent: 'flex-start'\n    }\n  },\n  contentMobile: {\n    backgroundColor: ThemingParameters.sapGroup_ContentBackground,\n    padding: '0.25rem 0.5rem',\n    boxSizing: 'border-box',\n    overflow: 'auto',\n    maxHeight: '82vh',\n    borderTopLeftRadius: ThemingParameters.sapElement_BorderCornerRadius,\n    borderTopRightRadius: ThemingParameters.sapElement_BorderCornerRadius,\n    boxShadow: ThemingParameters.sapContent_Shadow2,\n    '& > *': {\n      margin: '0.25rem 0'\n    }\n  }\n};\nvar styles$1 = styles;\nvar _excluded = [\"a11yConfig\", \"allowTargetOverlap\", \"alwaysShowHeader\", \"children\", \"className\", \"footer\", \"header\", \"headerText\", \"hideArrow\", \"horizontalAlign\", \"initialFocus\", \"modal\", \"placementType\", \"portalContainer\", \"showCancelButton\", \"slot\", \"style\", \"verticalAlign\", \"onAfterClose\", \"onAfterOpen\", \"onBeforeClose\", \"onBeforeOpen\"];\nvar useStyles = createUseStyles(styles$1, {\n  name: 'ActionSheet'\n});\n\nif (isPhone()) {\n  addCustomCSS('ui5-responsive-popover', \"\\n  :host([data-actionsheet]) [ui5-button] {\\n    display: none;\\n  }\\n  :host([data-actionsheet]) [ui5-dialog] {\\n    top: auto !important;\\n    bottom: 0;\\n    height: auto;\\n    border-radius: 0;\\n    background-color: transparent;\\n    box-shadow: none;\\n    box-sizing: border-box;\\n    min-height: unset;\\n  }\\n  :host([data-actionsheet]) [ui5-title] {\\n    color: \".concat(ThemingParameters.sapContent_ContrastTextColor, \" !important;\\n    text-shadow: none;\\n    text-align: start !important;\\n    padding-left:1rem !important;\\n  }\\n  \"));\n}\n/**\n * The `ActionSheet` holds a list of buttons from which the user can select to complete an action. <br />\n * The children of the action sheet should be `Button` components. Elements in the `ActionSheet` are left-aligned. Actions should be arranged in order of importance, from top to bottom.\n */\n\n\nvar ActionSheet = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _a11yConfig$actionShe, _a11yConfig$actionShe2, _a11yConfig$actionShe3, _a11yConfig$actionShe4;\n\n  var a11yConfig = props.a11yConfig,\n      allowTargetOverlap = props.allowTargetOverlap,\n      alwaysShowHeader = props.alwaysShowHeader,\n      children = props.children,\n      className = props.className,\n      footer = props.footer,\n      header = props.header,\n      headerText = props.headerText,\n      hideArrow = props.hideArrow,\n      horizontalAlign = props.horizontalAlign,\n      initialFocus = props.initialFocus,\n      modal = props.modal,\n      placementType = props.placementType,\n      portalContainer = props.portalContainer,\n      showCancelButton = props.showCancelButton,\n      slot = props.slot,\n      style = props.style,\n      verticalAlign = props.verticalAlign,\n      onAfterClose = props.onAfterClose,\n      onAfterOpen = props.onAfterOpen,\n      onBeforeClose = props.onBeforeClose,\n      onBeforeOpen = props.onBeforeOpen,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  useDeprecationNoticeForTooltip('ActionSheet', props.tooltip);\n  var i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  var classes = useStyles();\n\n  var _useSyncRef = useSyncRef(ref),\n      _useSyncRef2 = _slicedToArray(_useSyncRef, 2),\n      componentRef = _useSyncRef2[0],\n      popoverRef = _useSyncRef2[1];\n\n  var actionBtnsRef = useRef(null);\n\n  var _useReducer = useReducer(function (_, action) {\n    return parseInt(action.target.dataset.actionBtnIndex);\n  }, 0),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      focusedItem = _useReducer2[0],\n      setFocusedItem = _useReducer2[1];\n\n  var childrenToRender = Children.toArray(children).filter(Boolean);\n  var childrenArrayLength = childrenToRender.length;\n  var childrenLength = isPhone() && showCancelButton ? childrenArrayLength + 1 : childrenArrayLength;\n\n  var handleCancelBtnClick = function handleCancelBtnClick() {\n    popoverRef.current.close();\n  };\n\n  var onActionButtonClicked = function onActionButtonClicked(handler) {\n    return function (e) {\n      popoverRef.current.close();\n\n      if (typeof handler === 'function') {\n        handler(e);\n      }\n    };\n  };\n\n  var handleFocus = function handleFocus(handler) {\n    return function (e) {\n      if (typeof handler === 'function') {\n        handler(e);\n      }\n\n      setFocusedItem(e);\n    };\n  };\n\n  var handleKeyDown = useCallback(function (e) {\n    var currentIndex = parseInt(e.target.dataset.actionBtnIndex);\n\n    if (e.key === 'ArrowDown' && currentIndex + 1 < childrenLength) {\n      actionBtnsRef.current.querySelector(\"[data-action-btn-index=\\\"\".concat(currentIndex + 1, \"\\\"]\")).focus();\n    }\n\n    if (e.key === 'ArrowUp' && currentIndex > 0) {\n      actionBtnsRef.current.querySelector(\"[data-action-btn-index=\\\"\".concat(currentIndex - 1, \"\\\"]\")).focus();\n    }\n  }, [childrenLength, actionBtnsRef.current]);\n\n  var renderActionSheetButton = function renderActionSheetButton(element, index, childrenArray) {\n    var _element$props, _element$props2, _element$props3;\n\n    return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n      role: 'button',\n      'aria-label': \"\".concat(i18nBundle.getText(X_OF_Y, index + 1, childrenArray.length), \" \").concat((_element$props = element.props) === null || _element$props === void 0 ? void 0 : _element$props.children),\n      key: index,\n      tabIndex: focusedItem === index ? 0 : -1\n    }, element.props), {}, {\n      design: ButtonDesign.Transparent,\n      onClick: onActionButtonClicked((_element$props2 = element.props) === null || _element$props2 === void 0 ? void 0 : _element$props2.onClick),\n      onFocus: handleFocus((_element$props3 = element.props) === null || _element$props3 === void 0 ? void 0 : _element$props3.onFocus),\n      'data-action-btn-index': index\n    }));\n  };\n\n  var handleAfterOpen = useCallback(function (e) {\n    if (isPhone()) {\n      actionBtnsRef.current.querySelector(\"[data-action-btn-index=\\\"\".concat(focusedItem, \"\\\"]\")).focus();\n    }\n\n    if (typeof onAfterOpen === 'function') {\n      onAfterOpen(e);\n    }\n  }, [onAfterOpen, actionBtnsRef.current, focusedItem]);\n  var displayHeader = alwaysShowHeader || isPhone();\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(ResponsivePopover, _extends({\n    \"aria-modal\": true,\n    role: \"dialog\",\n    style: style,\n    slot: slot,\n    allowTargetOverlap: allowTargetOverlap,\n    headerText: displayHeader ? headerText : undefined,\n    horizontalAlign: horizontalAlign,\n    initialFocus: initialFocus,\n    modal: modal,\n    hideArrow: hideArrow,\n    placementType: placementType,\n    verticalAlign: verticalAlign,\n    footer: footer,\n    header: displayHeader ? header : undefined,\n    onAfterClose: onAfterClose,\n    onBeforeClose: onBeforeClose,\n    onBeforeOpen: onBeforeOpen\n  }, rest, {\n    onAfterOpen: handleAfterOpen,\n    ref: componentRef,\n    className: clsx(classes.actionSheet, className),\n    \"data-actionsheet\": true\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: isPhone() ? classes.contentMobile : undefined,\n    \"data-component-name\": \"ActionSheetMobileContent\",\n    role: (_a11yConfig$actionShe = a11yConfig === null || a11yConfig === void 0 ? void 0 : (_a11yConfig$actionShe2 = a11yConfig.actionSheetMobileContent) === null || _a11yConfig$actionShe2 === void 0 ? void 0 : _a11yConfig$actionShe2.role) !== null && _a11yConfig$actionShe !== void 0 ? _a11yConfig$actionShe : 'presentation',\n    \"aria-label\": (_a11yConfig$actionShe3 = a11yConfig === null || a11yConfig === void 0 ? void 0 : (_a11yConfig$actionShe4 = a11yConfig.actionSheetMobileContent) === null || _a11yConfig$actionShe4 === void 0 ? void 0 : _a11yConfig$actionShe4.ariaLabel) !== null && _a11yConfig$actionShe3 !== void 0 ? _a11yConfig$actionShe3 : i18nBundle.getText(AVAILABLE_ACTIONS),\n    onKeyDown: handleKeyDown,\n    ref: actionBtnsRef\n  }, childrenToRender.map(renderActionSheetButton), isPhone() && showCancelButton && /*#__PURE__*/React.createElement(Button, {\n    design: ButtonDesign.Negative,\n    onClick: handleCancelBtnClick,\n    tabIndex: focusedItem === childrenLength - 1 ? 0 : -1,\n    \"data-action-btn-index\": childrenLength - 1,\n    \"data-cancel-btn\": true,\n    onFocus: setFocusedItem\n  }, i18nBundle.getText(CANCEL)))), portalContainer);\n});\nActionSheet.defaultProps = {\n  showCancelButton: true,\n  alwaysShowHeader: true,\n  portalContainer: document.body\n};\nActionSheet.displayName = 'ActionSheet';\nexport { ActionSheet };","map":{"version":3,"sources":["../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/ActionSheet/ActionSheet.jss.ts","../src/components/ActionSheet/index.tsx"],"names":["useDeprecationNoticeForTooltip","useEffect","deprecationNotice","styles","actionSheet","margin","padding","display","justifyContent","contentMobile","backgroundColor","ThemingParameters","boxSizing","overflow","maxHeight","borderTopLeftRadius","borderTopRightRadius","boxShadow","useStyles","createUseStyles","name","isPhone","addCustomCSS","ActionSheet","forwardRef","a11yConfig","allowTargetOverlap","alwaysShowHeader","children","className","footer","header","headerText","hideArrow","horizontalAlign","initialFocus","modal","placementType","portalContainer","showCancelButton","slot","style","verticalAlign","onAfterClose","onAfterOpen","onBeforeClose","onBeforeOpen","rest","props","i18nBundle","useI18nBundle","classes","componentRef","popoverRef","useSyncRef","actionBtnsRef","useRef","focusedItem","setFocusedItem","useReducer","parseInt","action","childrenToRender","Children","childrenArrayLength","childrenLength","handleCancelBtnClick","onActionButtonClicked","handler","handleFocus","handleKeyDown","useCallback","currentIndex","e","renderActionSheetButton","cloneElement","role","index","childrenArray","element","key","tabIndex","design","ButtonDesign","onClick","onFocus","handleAfterOpen","displayHeader","createPortal","clsx","document","body"],"mappings":"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","sourcesContent":["import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nconst styles = {\n  /*\n   *  is being applied to the encapsulating ul element\n   */\n  actionSheet: {\n    margin: 0,\n    padding: '0.1875rem 0.375rem',\n    '& [ui5-button]': {\n      display: 'block'\n    },\n    '& [ui5-button]:not([data-cancel-btn])::part(button)': {\n      justifyContent: 'flex-start'\n    }\n  },\n  contentMobile: {\n    backgroundColor: ThemingParameters.sapGroup_ContentBackground,\n    padding: '0.25rem 0.5rem',\n    boxSizing: 'border-box',\n    overflow: 'auto',\n    maxHeight: '82vh',\n    borderTopLeftRadius: ThemingParameters.sapElement_BorderCornerRadius,\n    borderTopRightRadius: ThemingParameters.sapElement_BorderCornerRadius,\n    boxShadow: ThemingParameters.sapContent_Shadow2,\n    '& > *': {\n      margin: '0.25rem 0'\n    }\n  }\n};\n\nexport default styles;\n","import { isPhone } from '@ui5/webcomponents-base/dist/Device.js';\nimport { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming.js';\nimport { useI18nBundle, useSyncRef } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { AVAILABLE_ACTIONS, CANCEL, X_OF_Y } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { ResponsivePopover } from '@ui5/webcomponents-react/dist/ResponsivePopover';\nimport clsx from 'clsx';\nimport React, {\n  Children,\n  cloneElement,\n  forwardRef,\n  ReactElement,\n  RefObject,\n  useCallback,\n  useReducer,\n  useRef\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport { ButtonPropTypes } from '../../webComponents/Button';\nimport { ResponsivePopoverDomRef, ResponsivePopoverPropTypes } from '../../webComponents/ResponsivePopover';\nimport styles from './ActionSheet.jss';\n\nexport interface ActionSheetPropTypes extends Omit<ResponsivePopoverPropTypes, 'children'> {\n  /**\n   * Defines the actions of the `ActionSheet`.\n   *\n   * __Note:__ Although this slot accepts all HTML Elements, it is strongly recommended that you only use `Buttons` in order to preserve the intended design.\n   */\n  children?: ReactElement<ButtonPropTypes> | ReactElement<ButtonPropTypes>[];\n  /**\n   * Displays a cancel button below the action buttons on mobile devices. No cancel button will be shown on desktop and tablet devices.\n   */\n  showCancelButton?: boolean;\n  /**\n   * Defines whether the `header` or `headerText` should always be displayed or only on mobile devices.\n   */\n  alwaysShowHeader?: boolean;\n  /**\n   * Defines internally used a11y properties.\n   */\n  a11yConfig?: {\n    actionSheetMobileContent?: {\n      role?: string;\n      ariaLabel?: string;\n    };\n  };\n  /**\n   * Defines where modals are rendered into via `React.createPortal`.\n   *\n   * Defaults to: `document.body`\n   */\n  portalContainer?: Element;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'ActionSheet' });\n\nif (isPhone()) {\n  addCustomCSS(\n    'ui5-responsive-popover',\n    `\n  :host([data-actionsheet]) [ui5-button] {\n    display: none;\n  }\n  :host([data-actionsheet]) [ui5-dialog] {\n    top: auto !important;\n    bottom: 0;\n    height: auto;\n    border-radius: 0;\n    background-color: transparent;\n    box-shadow: none;\n    box-sizing: border-box;\n    min-height: unset;\n  }\n  :host([data-actionsheet]) [ui5-title] {\n    color: ${ThemingParameters.sapContent_ContrastTextColor} !important;\n    text-shadow: none;\n    text-align: start !important;\n    padding-left:1rem !important;\n  }\n  `\n  );\n}\n\n/**\n * The `ActionSheet` holds a list of buttons from which the user can select to complete an action. <br />\n * The children of the action sheet should be `Button` components. Elements in the `ActionSheet` are left-aligned. Actions should be arranged in order of importance, from top to bottom.\n */\nconst ActionSheet = forwardRef((props: ActionSheetPropTypes, ref: RefObject<ResponsivePopoverDomRef>) => {\n  const {\n    a11yConfig,\n    allowTargetOverlap,\n    alwaysShowHeader,\n    children,\n    className,\n    footer,\n    header,\n    headerText,\n    hideArrow,\n    horizontalAlign,\n    initialFocus,\n    modal,\n    placementType,\n    portalContainer,\n    showCancelButton,\n    slot,\n    style,\n    verticalAlign,\n    onAfterClose,\n    onAfterOpen,\n    onBeforeClose,\n    onBeforeOpen,\n    ...rest\n  } = props;\n\n  useDeprecationNoticeForTooltip('ActionSheet', props.tooltip);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  const classes = useStyles();\n  const [componentRef, popoverRef] = useSyncRef(ref);\n  const actionBtnsRef = useRef(null);\n  const [focusedItem, setFocusedItem] = useReducer((_, action) => {\n    return parseInt(action.target.dataset.actionBtnIndex);\n  }, 0);\n  const childrenToRender = Children.toArray(children).filter(Boolean);\n  const childrenArrayLength = childrenToRender.length;\n  const childrenLength = isPhone() && showCancelButton ? childrenArrayLength + 1 : childrenArrayLength;\n\n  const handleCancelBtnClick = () => {\n    popoverRef.current.close();\n  };\n\n  const onActionButtonClicked = (handler) => (e) => {\n    popoverRef.current.close();\n    if (typeof handler === 'function') {\n      handler(e);\n    }\n  };\n\n  const handleFocus = (handler) => (e) => {\n    if (typeof handler === 'function') {\n      handler(e);\n    }\n    setFocusedItem(e);\n  };\n\n  const handleKeyDown = useCallback(\n    (e) => {\n      const currentIndex = parseInt(e.target.dataset.actionBtnIndex);\n      if (e.key === 'ArrowDown' && currentIndex + 1 < childrenLength) {\n        actionBtnsRef.current.querySelector(`[data-action-btn-index=\"${currentIndex + 1}\"]`).focus();\n      }\n      if (e.key === 'ArrowUp' && currentIndex > 0) {\n        actionBtnsRef.current.querySelector(`[data-action-btn-index=\"${currentIndex - 1}\"]`).focus();\n      }\n    },\n    [childrenLength, actionBtnsRef.current]\n  );\n\n  const renderActionSheetButton = (element, index: number, childrenArray) => {\n    return cloneElement(element, {\n      role: 'button',\n      'aria-label': `${i18nBundle.getText(X_OF_Y, index + 1, childrenArray.length)} ${element.props?.children}`,\n      key: index,\n      tabIndex: focusedItem === index ? 0 : -1,\n      ...element.props,\n      design: ButtonDesign.Transparent,\n      onClick: onActionButtonClicked(element.props?.onClick),\n      onFocus: handleFocus(element.props?.onFocus),\n      'data-action-btn-index': index\n    });\n  };\n\n  const handleAfterOpen = useCallback(\n    (e) => {\n      if (isPhone()) {\n        actionBtnsRef.current.querySelector(`[data-action-btn-index=\"${focusedItem}\"]`).focus();\n      }\n      if (typeof onAfterOpen === 'function') {\n        onAfterOpen(e);\n      }\n    },\n    [onAfterOpen, actionBtnsRef.current, focusedItem]\n  );\n  const displayHeader = alwaysShowHeader || isPhone();\n  return createPortal(\n    <ResponsivePopover\n      aria-modal\n      role=\"dialog\"\n      style={style}\n      slot={slot}\n      allowTargetOverlap={allowTargetOverlap}\n      headerText={displayHeader ? headerText : undefined}\n      horizontalAlign={horizontalAlign}\n      initialFocus={initialFocus}\n      modal={modal}\n      hideArrow={hideArrow}\n      placementType={placementType}\n      verticalAlign={verticalAlign}\n      footer={footer}\n      header={displayHeader ? header : undefined}\n      onAfterClose={onAfterClose}\n      onBeforeClose={onBeforeClose}\n      onBeforeOpen={onBeforeOpen}\n      {...rest}\n      onAfterOpen={handleAfterOpen}\n      ref={componentRef}\n      className={clsx(classes.actionSheet, className)}\n      data-actionsheet\n    >\n      <div\n        className={isPhone() ? classes.contentMobile : undefined}\n        data-component-name=\"ActionSheetMobileContent\"\n        role={a11yConfig?.actionSheetMobileContent?.role ?? 'presentation'}\n        aria-label={a11yConfig?.actionSheetMobileContent?.ariaLabel ?? i18nBundle.getText(AVAILABLE_ACTIONS)}\n        onKeyDown={handleKeyDown}\n        ref={actionBtnsRef}\n      >\n        {childrenToRender.map(renderActionSheetButton)}\n        {isPhone() && showCancelButton && (\n          <Button\n            design={ButtonDesign.Negative}\n            onClick={handleCancelBtnClick}\n            tabIndex={focusedItem === childrenLength - 1 ? 0 : -1}\n            data-action-btn-index={childrenLength - 1}\n            data-cancel-btn\n            onFocus={setFocusedItem}\n          >\n            {i18nBundle.getText(CANCEL)}\n          </Button>\n        )}\n      </div>\n    </ResponsivePopover>,\n    portalContainer\n  );\n});\n\nActionSheet.defaultProps = {\n  showCancelButton: true,\n  alwaysShowHeader: true,\n  portalContainer: document.body\n};\n\nActionSheet.displayName = 'ActionSheet';\n\nexport { ActionSheet };\n"]},"metadata":{},"sourceType":"module"}