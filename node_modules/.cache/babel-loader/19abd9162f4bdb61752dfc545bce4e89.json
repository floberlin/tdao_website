{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport { getMaxCalendarDate, getMinCalendarDate } from \"@ui5/webcomponents-localization/dist/dates/ExtremeDates.js\";\n/**\n * @public\n */\n\nconst metadata = {\n  languageAware: true,\n  properties:\n  /** @lends  sap.ui.webcomponents.main.DateComponentBase.prototype */\n  {\n    /**\n     * Sets a calendar type used for display.\n     * If not set, the calendar type of the global configuration is used.\n     * @type {CalendarType}\n     * @public\n     */\n    primaryCalendarType: {\n      type: CalendarType\n    },\n\n    /**\n     * Determines the мinimum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    minDate: {\n      type: String\n    },\n\n    /**\n     * Determines the maximum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    maxDate: {\n      type: String\n    },\n\n    /**\n     * Determines the format, displayed in the input field.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    formatPattern: {\n      type: String\n    }\n  }\n};\n/**\n * @class\n *\n * Abstract class that provides common functionality for date-related components (day picker, month picker, year picker, calendar, date picker, date range picker, date time picker)\n * This includes:\n *  - \"languageAware: true\" metadata setting, CLDR fetch and i18n initialization\n *  - common properties (primaryCalendar, minDate, maxDate and formatPattern) declaration and methods that operate on them\n *  - additional common methods\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.DateComponentBase\n * @extends sap.ui.webcomponents.base.UI5Element\n * @public\n */\n\nclass DateComponentBase extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  constructor() {\n    super();\n    this.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n  }\n\n  get _primaryCalendarType() {\n    const localeData = getCachedLocaleDataInstance(getLocale());\n    return this.primaryCalendarType || getCalendarType() || localeData.getPreferredCalendarType();\n  }\n\n  get _minDate() {\n    return this.minDate && this.getFormat().parse(this.minDate) ? this._getCalendarDateFromString(this.minDate) : getMinCalendarDate(this._primaryCalendarType);\n  }\n\n  get _maxDate() {\n    return this.maxDate && this.getFormat().parse(this.maxDate) ? this._getCalendarDateFromString(this.maxDate) : getMaxCalendarDate(this._primaryCalendarType);\n  }\n\n  get _formatPattern() {\n    return this.formatPattern || \"medium\"; // get from config\n  }\n\n  get _isPattern() {\n    return this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n  }\n\n  _getCalendarDateFromString(value) {\n    const jsDate = this.getFormat().parse(value);\n\n    if (jsDate) {\n      return CalendarDate.fromLocalJSDate(jsDate, this._primaryCalendarType);\n    }\n  }\n\n  _getTimeStampFromString(value) {\n    const calDate = this._getCalendarDateFromString(value);\n\n    if (calDate) {\n      return calDate.toUTCJSDate().valueOf();\n    }\n  }\n\n  _getStringFromTimestamp(timestamp) {\n    const localDate = new Date(timestamp);\n    return this.getFormat().format(localDate, true);\n  }\n\n  getFormat() {\n    let dateFormat;\n\n    if (this._isPattern) {\n      dateFormat = DateFormat.getInstance({\n        pattern: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    } else {\n      dateFormat = DateFormat.getInstance({\n        style: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    }\n\n    return dateFormat;\n  }\n\n  static async onDefine() {\n    await Promise.all([fetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()), fetchI18nBundle(\"@ui5/webcomponents\")]);\n  }\n\n}\n\nexport default DateComponentBase;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/DateComponentBase.js"],"names":["UI5Element","litRender","fetchCldr","fetchI18nBundle","getI18nBundle","getCalendarType","DateFormat","getCachedLocaleDataInstance","CalendarType","getLocale","CalendarDate","getMaxCalendarDate","getMinCalendarDate","metadata","languageAware","properties","primaryCalendarType","type","minDate","String","maxDate","formatPattern","DateComponentBase","render","constructor","i18nBundle","_primaryCalendarType","localeData","getPreferredCalendarType","_minDate","getFormat","parse","_getCalendarDateFromString","_maxDate","_formatPattern","_isPattern","value","jsDate","fromLocalJSDate","_getTimeStampFromString","calDate","toUTCJSDate","valueOf","_getStringFromTimestamp","timestamp","localDate","Date","format","dateFormat","getInstance","pattern","calendarType","style","onDefine","Promise","all","getLanguage","getRegion","getScript"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport { getMaxCalendarDate, getMinCalendarDate } from \"@ui5/webcomponents-localization/dist/dates/ExtremeDates.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\tlanguageAware: true,\n\tproperties: /** @lends  sap.ui.webcomponents.main.DateComponentBase.prototype */ {\n\t\t/**\n\t\t * Sets a calendar type used for display.\n\t\t * If not set, the calendar type of the global configuration is used.\n\t\t * @type {CalendarType}\n\t\t * @public\n\t\t */\n\t\tprimaryCalendarType: {\n\t\t\ttype: CalendarType,\n\t\t},\n\n\t\t/**\n\t\t * Determines the мinimum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tminDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines the maximum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tmaxDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines the format, displayed in the input field.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tformatPattern: {\n\t\t\ttype: String,\n\t\t},\n\t},\n};\n\n/**\n * @class\n *\n * Abstract class that provides common functionality for date-related components (day picker, month picker, year picker, calendar, date picker, date range picker, date time picker)\n * This includes:\n *  - \"languageAware: true\" metadata setting, CLDR fetch and i18n initialization\n *  - common properties (primaryCalendar, minDate, maxDate and formatPattern) declaration and methods that operate on them\n *  - additional common methods\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.DateComponentBase\n * @extends sap.ui.webcomponents.base.UI5Element\n * @public\n */\nclass DateComponentBase extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tget _primaryCalendarType() {\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\treturn this.primaryCalendarType || getCalendarType() || localeData.getPreferredCalendarType();\n\t}\n\n\tget _minDate() {\n\t\treturn this.minDate && this.getFormat().parse(this.minDate) ? this._getCalendarDateFromString(this.minDate) : getMinCalendarDate(this._primaryCalendarType);\n\t}\n\n\tget _maxDate() {\n\t\treturn this.maxDate && this.getFormat().parse(this.maxDate) ? this._getCalendarDateFromString(this.maxDate) : getMaxCalendarDate(this._primaryCalendarType);\n\t}\n\n\tget _formatPattern() {\n\t\treturn this.formatPattern || \"medium\"; // get from config\n\t}\n\n\tget _isPattern() {\n\t\treturn this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n\t}\n\n\t_getCalendarDateFromString(value) {\n\t\tconst jsDate = this.getFormat().parse(value);\n\t\tif (jsDate) {\n\t\t\treturn CalendarDate.fromLocalJSDate(jsDate, this._primaryCalendarType);\n\t\t}\n\t}\n\n\t_getTimeStampFromString(value) {\n\t\tconst calDate = this._getCalendarDateFromString(value);\n\t\tif (calDate) {\n\t\t\treturn calDate.toUTCJSDate().valueOf();\n\t\t}\n\t}\n\n\t_getStringFromTimestamp(timestamp) {\n\t\tconst localDate = new Date(timestamp);\n\t\treturn this.getFormat().format(localDate, true);\n\t}\n\n\tgetFormat() {\n\t\tlet dateFormat;\n\t\tif (this._isPattern) {\n\t\t\tdateFormat = DateFormat.getInstance({\n\t\t\t\tpattern: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t} else {\n\t\t\tdateFormat = DateFormat.getInstance({\n\t\t\t\tstyle: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t}\n\t\treturn dateFormat;\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Promise.all([\n\t\t\tfetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()),\n\t\t\tfetchI18nBundle(\"@ui5/webcomponents\"),\n\t\t]);\n\t}\n}\n\nexport default DateComponentBase;\n"]},"metadata":{},"sourceType":"module"}