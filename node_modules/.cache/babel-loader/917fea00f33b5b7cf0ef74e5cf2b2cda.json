{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport _toPropertyKey from '@babel/runtime/helpers/toPropertyKey';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport { useI18nBundle, useConsolidatedRef, useIsRTL } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/dist/StyleClassHelper';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/dist/usePassThroughHtmlProps';\nimport { enrichEventWithDetails, debounce } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { BASIC, CANCEL, CLEAR, RESTORE, SAVE, SEARCH_FOR_FILTERS, SHOW_ON_FILTER_BAR, FILTERS, GO, SHOW_FILTER_BAR, HIDE_FILTER_BAR, ADAPT_FILTERS } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { BusyIndicator } from '@ui5/webcomponents-react/dist/BusyIndicator';\nimport { BusyIndicatorSize } from '@ui5/webcomponents-react/dist/BusyIndicatorSize';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { Toolbar } from '@ui5/webcomponents-react/dist/Toolbar';\nimport { ToolbarSeparator } from '@ui5/webcomponents-react/dist/ToolbarSeparator';\nimport { ToolbarSpacer } from '@ui5/webcomponents-react/dist/ToolbarSpacer';\nimport { ToolbarStyle } from '@ui5/webcomponents-react/dist/ToolbarStyle';\nimport React, { cloneElement, useState, useRef, useEffect, useCallback, useMemo, Children, forwardRef } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { isIE } from '@ui5/webcomponents-base/dist/Device';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport '@ui5/webcomponents-icons/dist/search';\nimport { Bar } from '@ui5/webcomponents-react/dist/Bar';\nimport { BarDesign } from '@ui5/webcomponents-react/dist/BarDesign';\nimport { CheckBox } from '@ui5/webcomponents-react/dist/CheckBox';\nimport { Dialog } from '@ui5/webcomponents-react/dist/Dialog';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/dist/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/dist/FlexBoxDirection';\nimport { FlexBoxJustifyContent } from '@ui5/webcomponents-react/dist/FlexBoxJustifyContent';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { Input } from '@ui5/webcomponents-react/dist/Input';\nimport { Text } from '@ui5/webcomponents-react/dist/Text';\nimport { Title } from '@ui5/webcomponents-react/dist/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/dist/TitleLevel';\nimport { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { sapUiContentPadding } from '@ui5/webcomponents-react-base/dist/spacing';\nimport { createPortal } from 'react-dom';\nvar styles$2 = {\n  outerContainer: {\n    background: ThemingParameters.sapObjectHeader_Background,\n    '--_ui5_input_width': '100%'\n  },\n  outerContainerWithToolbar: {\n    paddingTop: '0.5rem',\n    paddingLeft: '2rem',\n    paddingRight: '2rem',\n    paddingBottom: '1px',\n    boxShadow: ThemingParameters.sapContent_HeaderShadow\n  },\n  filterBarHeader: {\n    alignItems: 'center',\n    display: 'flex',\n    background: ThemingParameters.sapObjectHeader_Background,\n    minHeight: '3rem',\n    paddingBottom: '0.5rem',\n    boxShadow: 'none',\n    flexWrap: 'wrap'\n  },\n  filterArea: {\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    paddingTop: '1rem',\n    marginBottom: '1rem',\n    background: ThemingParameters.sapObjectHeader_Background,\n    transition: 'max-height 0.2s ease-out, opacity 0.2s ease-in'\n  },\n  filterAreaClosed: {\n    maxHeight: '0',\n    opacity: 0,\n    padding: 0,\n    margin: 0,\n    overflowY: 'auto'\n  },\n  filterAreaOpen: {\n    opacity: 1\n  },\n  showFiltersBtn: {\n    minWidth: '108px'\n  },\n  loadingContainer: {\n    marginBottom: '0.5rem',\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'center'\n  },\n  filterBarButtons: {\n    display: 'flex',\n    alignItems: 'center',\n    position: 'absolute',\n    right: 0,\n    marginBottom: '1rem',\n    '& > *:not(:first-child)': {\n      marginLeft: '0.25rem'\n    },\n    '& > *:not(:last-child)': {\n      marginRight: '0.25rem'\n    }\n  },\n  spacer: {\n    height: 0,\n    marginTop: 0,\n    flexGrow: 1,\n    flexShrink: 0,\n    maxWidth: isIE() ? '26.25rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis) * 2)',\n    flexBasis: isIE() ? '13.125rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis))'\n  },\n  lastSpacer: {\n    height: 'var(--_ui5_input_height)',\n    flexGrow: 1,\n    flexShrink: 0,\n    maxWidth: isIE() ? '26.25rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis) * 2)',\n    flexBasis: isIE() ? '13.125rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis))'\n  }\n};\nvar styles$3 = styles$2;\n\nvar stopPropagation = function stopPropagation(e) {\n  var _e$stopImmediatePropa;\n\n  e.stopPropagation();\n  (_e$stopImmediatePropa = e.stopImmediatePropagation) === null || _e$stopImmediatePropa === void 0 ? void 0 : _e$stopImmediatePropa.call(e);\n};\n\nvar styles = {\n  dialog: _objectSpread(_objectSpread({}, sapUiContentPadding), {}, {\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: '960px',\n    width: '80vw',\n    maxHeight: '70vh',\n    '--_ui5_input_width': '100%'\n  }),\n  header: {\n    width: '100%',\n    padding: '0.25rem 1rem 0 1rem',\n    '& *': {\n      margin: '0.25rem 0 0.25rem 0'\n    },\n    '& ui5-input': {\n      width: '100%'\n    }\n  },\n  footer: {\n    '& :not(:last-child)': {\n      marginRight: '0.25rem'\n    }\n  },\n  groupContainer: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  groupTitle: {\n    maxWidth: '85%',\n    marginRight: '0.5rem'\n  },\n  filters: {\n    padding: '1rem 0 2rem 0'\n  },\n  singleFilter: {\n    display: 'grid',\n    gridTemplateColumns: \"auto minmax(\".concat(CssSizeVariables.sapWcrCheckBoxWidthHeight, \",7%)\"),\n    gridTemplateRows: 'auto',\n    gridColumnGap: '0.5rem',\n    '@media(max-width:700px)': {\n      marginTop: '0.5rem'\n    },\n    '& ui5-checkbox': {\n      placeSelf: 'center start',\n      '@media(max-width:700px)': {\n        marginTop: '0.8rem',\n        paddingLeft: 0,\n        placeSelf: 'end start'\n      }\n    }\n  },\n  fbSearch: {\n    '@media(min-width:700px)': {\n      display: 'grid',\n      gridTemplateColumns: '20% auto 7%',\n      gridTemplateRows: 'auto',\n      gridRowGap: '0.5rem',\n      gridColumnGap: '0.5rem'\n    },\n    paddingBottom: '2rem',\n    width: '100%',\n    '& ui5-input': {\n      width: '100%'\n    }\n  }\n};\nvar styles$1 = styles;\nvar inputTagNames = new Set(['UI5-COMBOBOX', 'UI5-DATE-PICKER', 'UI5-DATERANGE-PICKER', 'UI5-DATETIME-PICKER', 'UI5-DURATION-PICKER', 'UI5-INPUT', 'UI5-MULTI-INPUT', 'UI5-RATING-INDICATOR', 'UI5-STEP-INPUT', 'UI5-TIME-PICKER']);\n\nvar filterValue = function filterValue(ref, child) {\n  var tagName = ref.tagName;\n  var filterItemProps = {};\n\n  if (inputTagNames.has(tagName)) {\n    filterItemProps = {\n      value: ref.value\n    };\n  }\n\n  if (tagName === 'UI5-SELECT' || tagName === 'UI5-MULTI-COMBOBOX') {\n    var _child$props$children;\n\n    var selectedIndices = Array.from(ref.children).map(function (item, index) {\n      return item.selected ? index : false;\n    }).filter(function (el) {\n      return el !== false;\n    });\n    var selectedIndicesSet = new Set(selectedIndices);\n    var options = (_child$props$children = child.props.children.props.children) === null || _child$props$children === void 0 ? void 0 : _child$props$children.map(function (item, index) {\n      if (selectedIndicesSet.has(index)) {\n        return /*#__PURE__*/cloneElement(item, {\n          selected: true\n        });\n      }\n\n      return /*#__PURE__*/cloneElement(item, {\n        selected: false\n      });\n    });\n    filterItemProps = {\n      children: options\n    };\n  }\n\n  if (tagName === 'UI5-SWITCH' || tagName === 'UI5-CHECKBOX') {\n    filterItemProps = {\n      checked: ref.checked\n    };\n  }\n\n  return filterItemProps;\n};\n\nvar renderSearchWithValue = function renderSearchWithValue(renderSearchElement, searchValue) {\n  var _renderSearchElement$;\n\n  return /*#__PURE__*/cloneElement(renderSearchElement, {\n    value: searchValue !== null && searchValue !== void 0 ? searchValue : renderSearchElement === null || renderSearchElement === void 0 ? void 0 : (_renderSearchElement$ = renderSearchElement.props) === null || _renderSearchElement$ === void 0 ? void 0 : _renderSearchElement$.value\n  });\n};\n\nvar syncRef = function syncRef(ref, node) {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    } else if (ref.hasOwnProperty('current')) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      ref.current = node;\n    }\n  }\n};\n\nvar useStyles$1 = createUseStyles(styles$1, {\n  name: 'FilterBarDialog'\n});\n\nvar FilterDialog = function FilterDialog(props) {\n  var filterBarRefs = props.filterBarRefs,\n      open = props.open,\n      handleDialogClose = props.handleDialogClose,\n      children = props.children,\n      showClearButton = props.showClearButton,\n      showRestoreButton = props.showRestoreButton,\n      showGoButton = props.showGoButton,\n      showSearch = props.showSearch,\n      renderFBSearch = props.renderFBSearch,\n      handleClearFilters = props.handleClearFilters,\n      handleRestoreFilters = props.handleRestoreFilters,\n      handleDialogSave = props.handleDialogSave,\n      searchValue = props.searchValue,\n      handleSearchValueChange = props.handleSearchValueChange,\n      onGo = props.onGo,\n      handleSelectionChange = props.handleSelectionChange,\n      handleDialogSearch = props.handleDialogSearch,\n      handleDialogCancel = props.handleDialogCancel;\n  var classes = useStyles$1();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchString = _useState2[0],\n      setSearchString = _useState2[1];\n\n  var searchRef = useRef(null);\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      toggledFilters = _useState4[0],\n      setToggledFilters = _useState4[1];\n\n  var dialogRefs = useRef({});\n  var dialogRef = useRef();\n  var i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  var basicText = i18nBundle.getText(BASIC);\n  var cancelText = i18nBundle.getText(CANCEL);\n  var clearText = i18nBundle.getText(CLEAR);\n  var restoreText = i18nBundle.getText(RESTORE);\n  var saveText = i18nBundle.getText(SAVE);\n  var searchForFiltersText = i18nBundle.getText(SEARCH_FOR_FILTERS);\n  var showOnFilterBarText = i18nBundle.getText(SHOW_ON_FILTER_BAR);\n  var filtersTitle = i18nBundle.getText(FILTERS);\n  var goText = i18nBundle.getText(GO);\n  useEffect(function () {\n    if (open) {\n      dialogRef.current.show();\n    }\n  }, [open]);\n  var handleSearch = useCallback(function (e) {\n    if (handleDialogSearch) {\n      handleDialogSearch(enrichEventWithDetails(e, {\n        value: e.target.value\n      }));\n    }\n\n    setSearchString(e.target.value);\n  }, [setSearchString, handleDialogSearch]);\n  var handleSave = useCallback(function (e) {\n    if (renderFBSearch) {\n      var _searchRef$current;\n\n      handleSearchValueChange((_searchRef$current = searchRef.current) === null || _searchRef$current === void 0 ? void 0 : _searchRef$current.children[1].value);\n    }\n\n    handleDialogSave(e, dialogRefs.current, toggledFilters);\n  }, [renderFBSearch, handleSearchValueChange, searchRef, handleDialogSave, toggledFilters, dialogRefs]);\n  var handleClose = useCallback(function (e) {\n    stopPropagation(e);\n\n    if (!showGoButton) {\n      handleSave(e);\n      return;\n    }\n\n    handleDialogClose(e);\n  }, [showGoButton, handleSave, handleDialogClose]);\n  var handleDialogGo = useCallback(function (e) {\n    if (onGo) {\n      onGo(enrichEventWithDetails(e));\n    }\n\n    handleDialogClose(e);\n  }, [onGo, handleDialogClose]);\n  var handleRestore = useCallback(function (e) {\n    handleRestoreFilters(e, 'dialog');\n  }, [handleRestoreFilters]);\n  var handleCancel = useCallback(function (e) {\n    if (handleDialogCancel) {\n      handleDialogCancel(enrichEventWithDetails(e));\n    }\n\n    handleDialogClose(e);\n  }, [handleDialogCancel]);\n  var footerContentRight = useMemo(function () {\n    return /*#__PURE__*/React.createElement(FlexBox, {\n      justifyContent: FlexBoxJustifyContent.End,\n      className: classes.footer\n    }, showGoButton && /*#__PURE__*/React.createElement(Button, {\n      onClick: handleDialogGo,\n      design: ButtonDesign.Emphasized,\n      title: goText\n    }, goText), showClearButton && /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClearFilters\n    }, clearText), showRestoreButton && /*#__PURE__*/React.createElement(Button, {\n      onClick: handleRestore\n    }, restoreText), /*#__PURE__*/React.createElement(Button, {\n      onClick: handleSave\n    }, saveText), /*#__PURE__*/React.createElement(Button, {\n      design: ButtonDesign.Transparent,\n      onClick: handleCancel\n    }, cancelText));\n  }, [goText, showGoButton, classes.footer, handleDialogGo, showClearButton, handleClearFilters, showRestoreButton, handleRestore, handleSave, handleCancel]);\n\n  var renderChildren = function renderChildren() {\n    return children.filter(function (item) {\n      var _item$props, _item$props2, _item$props2$label;\n\n      return !!(item !== null && item !== void 0 && item.props) && ((_item$props = item.props) === null || _item$props === void 0 ? void 0 : _item$props.visible) && (((_item$props2 = item.props) === null || _item$props2 === void 0 ? void 0 : (_item$props2$label = _item$props2.label) === null || _item$props2$label === void 0 ? void 0 : _item$props2$label.toLowerCase().includes(searchString.toLowerCase())) || searchString.length === 0);\n    }).map(function (child) {\n      var filterBarItemRef = filterBarRefs.current[child.key];\n      var filterItemProps = {};\n\n      if (filterBarItemRef) {\n        filterItemProps = filterValue(filterBarItemRef, child);\n      }\n\n      if (!child.props.children) return child;\n      return /*#__PURE__*/cloneElement(child, {\n        children: _objectSpread(_objectSpread({}, child.props.children), {}, {\n          props: _objectSpread(_objectSpread({}, child.props.children.props), filterItemProps),\n          ref: function ref(node) {\n            dialogRefs.current[child.key] = node;\n            syncRef(child.props.children.ref, node);\n          }\n        })\n      });\n    });\n  };\n\n  var handleCheckBoxChange = useCallback(function (element) {\n    return function (e) {\n      if (handleSelectionChange) {\n        handleSelectionChange(enrichEventWithDetails(e, {\n          element: element,\n          checked: e.target.checked\n        }));\n      }\n\n      setToggledFilters(function (old) {\n        return _objectSpread(_objectSpread({}, old), {}, _defineProperty({}, element.key, e.target.checked));\n      });\n    };\n  }, [setToggledFilters, handleSelectionChange]);\n\n  var renderGroups = function renderGroups() {\n    var groups = {};\n    Children.forEach(renderChildren(), function (child) {\n      var _child$props$groupNam;\n\n      var childGroups = (_child$props$groupNam = child.props.groupName) !== null && _child$props$groupNam !== void 0 ? _child$props$groupNam : 'default';\n\n      if (groups[childGroups]) {\n        groups[childGroups].push(child);\n      } else {\n        groups[childGroups] = [child];\n      }\n    });\n    return Object.keys(groups).sort(function (x, y) {\n      return x === 'default' ? -1 : y === 'role' ? 1 : 0;\n    }).map(function (item, index) {\n      var filters = groups[item].map(function (el) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.singleFilter,\n          key: \"\".concat(el.key, \"-container\")\n        }, el, /*#__PURE__*/React.createElement(CheckBox, {\n          role: \"checkbox\",\n          checked: el.props.visibleInFilterBar || el.props.required || el.type.displayName !== 'FilterGroupItem',\n          onChange: handleCheckBoxChange(el),\n          disabled: el.props.required || el.type.displayName !== 'FilterGroupItem'\n        }));\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.groupContainer,\n        key: item\n      }, /*#__PURE__*/React.createElement(FlexBox, {\n        justifyContent: FlexBoxJustifyContent.SpaceBetween,\n        alignItems: FlexBoxAlignItems.Center\n      }, /*#__PURE__*/React.createElement(Title, {\n        level: TitleLevel.H5,\n        className: index === 0 ? classes.groupTitle : '',\n        tooltip: item === 'default' ? basicText : item\n      }, item === 'default' ? basicText : item), index === 0 && /*#__PURE__*/React.createElement(Text, {\n        wrapping: false\n      }, showOnFilterBarText)), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.filters\n      }, filters));\n    });\n  };\n\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Dialog, {\n    ref: dialogRef,\n    header: /*#__PURE__*/React.createElement(FlexBox, {\n      direction: FlexBoxDirection.Column,\n      alignItems: FlexBoxAlignItems.Center,\n      className: classes.header\n    }, /*#__PURE__*/React.createElement(Title, {\n      level: TitleLevel.H4,\n      tooltip: filtersTitle\n    }, filtersTitle), showSearch && /*#__PURE__*/React.createElement(Input, {\n      placeholder: searchForFiltersText,\n      onInput: handleSearch,\n      icon: /*#__PURE__*/React.createElement(Icon, {\n        name: \"search\"\n      })\n    })),\n    footer: /*#__PURE__*/React.createElement(Bar, {\n      design: BarDesign.Footer,\n      endContent: footerContentRight\n    }),\n    onAfterClose: handleClose\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.dialog,\n    role: \"dialog\"\n  }, renderFBSearch && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.fbSearch,\n    ref: searchRef\n  }, /*#__PURE__*/React.createElement(\"span\", null), renderSearchWithValue(renderFBSearch, searchValue)), renderGroups())), document.body);\n};\n\nvar resizeObserverEntryWidth = function resizeObserverEntryWidth(entry) {\n  if (entry.borderBoxSize) {\n    var _entry$borderBoxSize$, _entry$borderBoxSize; // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n\n\n    return Array.isArray(entry.borderBoxSize) ? (_entry$borderBoxSize$ = entry.borderBoxSize[0]) === null || _entry$borderBoxSize$ === void 0 ? void 0 : _entry$borderBoxSize$.inlineSize : (_entry$borderBoxSize = entry.borderBoxSize) === null || _entry$borderBoxSize === void 0 ? void 0 : _entry$borderBoxSize.inlineSize;\n  } // Safari doesn't implement `borderBoxSize`\n\n\n  return entry.target.getBoundingClientRect().width;\n};\n\nvar useStyles = createUseStyles(styles$3, {\n  name: 'FilterBar'\n});\n/**\n * The `FilterBar` displays filters in a user-friendly manner to populate values for a query. It consists of a row containing the `VariantManagement`, the related buttons, and an area underneath displaying the filters. The filters are arranged in a logical row that is divided depending on the space available and the width of the filters. The area containing the filters can be hidden or shown using the \"Hide FilterBar / Show FilterBar\" button, the \"Filters\" button shows the filter dialog.\n In this dialog, the consumer has full control over the FilterBar. The filters in this dialog are displayed in one column and organized in groups. Each filter can be marked as visible in the FilterBar by selecting \"Add to FilterBar\".\n */\n\nvar FilterBar = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _search$props2, _search$props5, _searchRef$current, _ref9;\n\n  var children = props.children,\n      useToolbar = props.useToolbar,\n      loading = props.loading,\n      filterBarExpanded = props.filterBarExpanded,\n      considerGroupName = props.considerGroupName,\n      filterContainerWidth = props.filterContainerWidth,\n      activeFiltersCount = props.activeFiltersCount,\n      showClearOnFB = props.showClearOnFB,\n      showGoOnFB = props.showGoOnFB,\n      showGo = props.showGo,\n      showFilterConfiguration = props.showFilterConfiguration,\n      showRestoreOnFB = props.showRestoreOnFB,\n      showClearButton = props.showClearButton,\n      showRestoreButton = props.showRestoreButton,\n      showSearchOnFiltersDialog = props.showSearchOnFiltersDialog,\n      hideToggleFiltersButton = props.hideToggleFiltersButton,\n      style = props.style,\n      className = props.className,\n      tooltip = props.tooltip,\n      slot = props.slot,\n      search = props.search,\n      variants = props.variants,\n      onToggleFilters = props.onToggleFilters,\n      onFiltersDialogOpen = props.onFiltersDialogOpen,\n      onFiltersDialogCancel = props.onFiltersDialogCancel,\n      onFiltersDialogClose = props.onFiltersDialogClose,\n      onFiltersDialogSave = props.onFiltersDialogSave,\n      onFiltersDialogClear = props.onFiltersDialogClear,\n      onClear = props.onClear,\n      onFiltersDialogSelectionChange = props.onFiltersDialogSelectionChange,\n      onFiltersDialogSearch = props.onFiltersDialogSearch,\n      onGo = props.onGo,\n      onRestore = props.onRestore;\n\n  var _useState = useState(useToolbar ? filterBarExpanded : true),\n      _useState2 = _slicedToArray(_useState, 2),\n      showFilters = _useState2[0],\n      setShowFilters = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mountFilters = _useState4[0],\n      setMountFilters = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dialogOpen = _useState6[0],\n      setDialogOpen = _useState6[1];\n\n  var _useState7 = useState(undefined),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchValue = _useState8[0],\n      setSearchValue = _useState8[1];\n\n  var searchRef = useRef(null);\n  var filterRefs = useRef({});\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dialogRefs = _useState10[0],\n      setDialogRefs = _useState10[1];\n\n  var _useState11 = useState({}),\n      _useState12 = _slicedToArray(_useState11, 2),\n      toggledFilters = _useState12[0],\n      setToggledFilters = _useState12[1];\n\n  var prevVisibleInFilterBarProps = useRef({});\n  var prevSearchInputPropsValueRef = useRef();\n  var filterBarButtonsRef = useRef(null);\n  var filterAreaRef = useRef(null);\n  var filterBarRef = useConsolidatedRef(ref);\n  var i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  var clearText = i18nBundle.getText(CLEAR);\n  var restoreText = i18nBundle.getText(RESTORE);\n  var showFilterBarText = i18nBundle.getText(SHOW_FILTER_BAR);\n  var hideFilterBarText = i18nBundle.getText(HIDE_FILTER_BAR);\n  var goText = i18nBundle.getText(GO);\n  var filtersText = useToolbar ? i18nBundle.getText(FILTERS) : i18nBundle.getText(ADAPT_FILTERS);\n  var isRtl = useIsRTL(filterBarRef);\n  var transformRightRTL = isRtl ? 'Left' : 'Right';\n  useEffect(function () {\n    Children.toArray(children).forEach(function (item) {\n      setToggledFilters(function (prev) {\n        if (!item.props.hasOwnProperty('visibleInFilterBar') && (prev === null || prev === void 0 ? void 0 : prev[item.key]) === undefined) {\n          return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, item.key, true));\n        }\n\n        if (item.props.hasOwnProperty('visibleInFilterBar')) {\n          return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, item.key, item.props.visibleInFilterBar));\n        }\n\n        return prev;\n      });\n    });\n  }, [children, setToggledFilters]);\n  useEffect(function () {\n    setShowFilters(useToolbar ? filterBarExpanded : true);\n  }, [setShowFilters, useToolbar, filterBarExpanded]);\n  var classes = useStyles();\n  var filterAreaClasses = StyleClassHelper.of(classes.filterArea);\n\n  if (showFilters) {\n    filterAreaClasses.put(classes.filterAreaOpen);\n  } else {\n    filterAreaClasses.put(classes.filterAreaClosed);\n  }\n\n  var handleToggle = useCallback(function (e) {\n    if (onToggleFilters) {\n      onToggleFilters(enrichEventWithDetails(e, {\n        visible: !showFilters\n      }));\n    }\n\n    setShowFilters(!showFilters);\n  }, [showFilters, onToggleFilters, setShowFilters]);\n  var handleDialogSave = useCallback(function (e, newRefs, updatedToggledFilters) {\n    setDialogRefs(newRefs);\n    setToggledFilters(function (old) {\n      return _objectSpread(_objectSpread({}, old), updatedToggledFilters);\n    });\n\n    if (onFiltersDialogSave) {\n      onFiltersDialogSave(enrichEventWithDetails(e, {\n        elements: newRefs,\n        toggledElements: _objectSpread(_objectSpread({}, toggledFilters), updatedToggledFilters)\n      }));\n    }\n\n    handleDialogClose(e);\n  }, [setDialogOpen, setDialogRefs, setToggledFilters, onFiltersDialogSave, toggledFilters]);\n  var handleDialogOpen = useCallback(function (e) {\n    setDialogOpen(true);\n\n    if (onFiltersDialogOpen) {\n      onFiltersDialogOpen(enrichEventWithDetails(e));\n    }\n  }, [setDialogOpen, onFiltersDialogOpen]);\n  var handleDialogClose = useCallback(function (e) {\n    if (onFiltersDialogClose) {\n      onFiltersDialogClose(enrichEventWithDetails(e));\n    }\n\n    setDialogOpen(false);\n  }, [setDialogOpen, onFiltersDialogClose]);\n  var passThroughProps = usePassThroughHtmlProps(props, ['onToggleFilters', 'onFiltersDialogOpen', 'onFiltersDialogClose', 'onFiltersDialogSave', 'onFiltersDialogClear', 'onClear', 'onFiltersDialogSelectionChange', 'onFiltersDialogSearch', 'onGo', 'onRestore', 'onFiltersDialogCancel']);\n\n  var safeChildren = function safeChildren() {\n    if (Object.keys(toggledFilters).length > 0) {\n      return Children.toArray(children).map(function (child) {\n        if ((toggledFilters === null || toggledFilters === void 0 ? void 0 : toggledFilters[child.key]) !== undefined) {\n          return /*#__PURE__*/cloneElement(child, {\n            visibleInFilterBar: toggledFilters[child.key]\n          });\n        }\n\n        return child;\n      });\n    }\n\n    return Children.toArray(children);\n  };\n\n  var prevChildren = useRef({});\n\n  var renderChildren = function renderChildren() {\n    var _childProps;\n\n    var childProps = (_childProps = {\n      considerGroupName: considerGroupName\n    }, _defineProperty(_childProps, 'data-in-fb', true), _defineProperty(_childProps, 'data-with-toolbar', useToolbar), _childProps);\n    return safeChildren().filter(function (item) {\n      var _item$props, _item$props2;\n\n      return (item === null || item === void 0 ? void 0 : (_item$props = item.props) === null || _item$props === void 0 ? void 0 : _item$props.visible) && ((_item$props2 = item.props) === null || _item$props2 === void 0 ? void 0 : _item$props2.visibleInFilterBar);\n    }).map(function (child) {\n      var _prevChildren$current, _child$props$children, _child$props$children2, _prevChildren$current2, _prevChildren$current3, _child$props$children3, _child$props$children4, _prevChildren$current4, _prevChildren$current5, _child$props$children5, _child$props$children6, _child$props$children7, _prevChildren$current6, _prevChildren$current7, _prevChildren$current8; // necessary because of varying widths of input elements\n\n\n      if (filterContainerWidth) {\n        childProps.style = _objectSpread({\n          width: filterContainerWidth\n        }, child.props.style);\n      }\n\n      if (!showFilterConfiguration) {\n        return /*#__PURE__*/cloneElement(child, _objectSpread({}, childProps));\n      }\n\n      prevVisibleInFilterBarProps.current[child.key] = child.props.visibleInFilterBar;\n      var filterItemProps = {};\n\n      if (Object.keys(dialogRefs).length > 0) {\n        var dialogItemRef = dialogRefs[child.key];\n\n        if (dialogItemRef) {\n          filterItemProps = filterValue(dialogItemRef, child);\n        }\n      }\n\n      if (!child.props.children) {\n        return /*#__PURE__*/cloneElement(child, _objectSpread({}, childProps));\n      }\n\n      if ((_prevChildren$current = prevChildren.current) !== null && _prevChildren$current !== void 0 && _prevChildren$current[child.key] && (((_child$props$children = child.props.children) === null || _child$props$children === void 0 ? void 0 : (_child$props$children2 = _child$props$children.props) === null || _child$props$children2 === void 0 ? void 0 : _child$props$children2.value) !== ((_prevChildren$current2 = prevChildren.current) === null || _prevChildren$current2 === void 0 ? void 0 : (_prevChildren$current3 = _prevChildren$current2[child.key]) === null || _prevChildren$current3 === void 0 ? void 0 : _prevChildren$current3.value) || //Checkbox\n      ((_child$props$children3 = child.props.children) === null || _child$props$children3 === void 0 ? void 0 : (_child$props$children4 = _child$props$children3.props) === null || _child$props$children4 === void 0 ? void 0 : _child$props$children4.checked) !== ((_prevChildren$current4 = prevChildren.current) === null || _prevChildren$current4 === void 0 ? void 0 : (_prevChildren$current5 = _prevChildren$current4[child.key]) === null || _prevChildren$current5 === void 0 ? void 0 : _prevChildren$current5.checked) || //Selectable\n      ((_child$props$children5 = child.props.children) === null || _child$props$children5 === void 0 ? void 0 : (_child$props$children6 = _child$props$children5.props) === null || _child$props$children6 === void 0 ? void 0 : (_child$props$children7 = _child$props$children6.children) === null || _child$props$children7 === void 0 ? void 0 : _child$props$children7.map(function (item) {\n        return item.props.selected;\n      }).join(',')) !== (prevChildren === null || prevChildren === void 0 ? void 0 : (_prevChildren$current6 = prevChildren.current) === null || _prevChildren$current6 === void 0 ? void 0 : (_prevChildren$current7 = _prevChildren$current6[child.key]) === null || _prevChildren$current7 === void 0 ? void 0 : (_prevChildren$current8 = _prevChildren$current7.children) === null || _prevChildren$current8 === void 0 ? void 0 : _prevChildren$current8.map(function (item) {\n        return item.props.selected;\n      }).join(',')))) {\n        // @ts-ignore\n        var _child$key = child.key;\n        dialogRefs[_child$key];\n\n        var rest = _objectWithoutProperties(dialogRefs, [_child$key].map(_toPropertyKey));\n\n        setDialogRefs(rest);\n      }\n\n      prevChildren.current[child.key] = child.props.children.props;\n      return /*#__PURE__*/cloneElement(child, _objectSpread(_objectSpread({}, childProps), {}, {\n        children: _objectSpread(_objectSpread({}, child.props.children), {}, {\n          props: _objectSpread(_objectSpread({}, child.props.children.props), filterItemProps),\n          ref: function ref(node) {\n            filterRefs.current[child.key] = node;\n            syncRef(child.props.children.ref, node);\n          }\n        })\n      }));\n    });\n  };\n\n  var handleRestoreFilters = useCallback(function (e, source) {\n    if (source === 'dialog' && showGo) {\n      setDialogOpen(false);\n      setDialogOpen(true);\n    } else if (source === 'filterBar' && showGoOnFB) {\n      setMountFilters(false);\n      setMountFilters(true);\n    }\n\n    if (onRestore) {\n      onRestore(enrichEventWithDetails(e, {\n        source: source\n      }));\n    }\n  }, [setDialogOpen, showGo, showGoOnFB, onRestore]);\n  var handleFBRestore = useCallback(function (e) {\n    handleRestoreFilters(e, 'filterBar');\n  }, [handleRestoreFilters]);\n  var cssClasses = StyleClassHelper.of(classes.outerContainer);\n\n  if (className) {\n    cssClasses.put(className);\n  }\n\n  if (useToolbar) {\n    cssClasses.put(classes.outerContainerWithToolbar);\n  }\n\n  useEffect(function () {\n    var _search$props;\n\n    prevSearchInputPropsValueRef.current = search === null || search === void 0 ? void 0 : (_search$props = search.props) === null || _search$props === void 0 ? void 0 : _search$props.value;\n  }, [search === null || search === void 0 ? void 0 : (_search$props2 = search.props) === null || _search$props2 === void 0 ? void 0 : _search$props2.value]);\n  var prevSearchInputPropsValue = prevSearchInputPropsValueRef.current;\n  useEffect(function () {\n    var _search$props3;\n\n    if (prevSearchInputPropsValue !== (search === null || search === void 0 ? void 0 : (_search$props3 = search.props) === null || _search$props3 === void 0 ? void 0 : _search$props3.value)) {\n      var _search$props4;\n\n      setSearchValue(search === null || search === void 0 ? void 0 : (_search$props4 = search.props) === null || _search$props4 === void 0 ? void 0 : _search$props4.value);\n    }\n  }, [prevSearchInputPropsValue, search === null || search === void 0 ? void 0 : (_search$props5 = search.props) === null || _search$props5 === void 0 ? void 0 : _search$props5.value]);\n  var ToolbarButtons = /*#__PURE__*/React.createElement(React.Fragment, null, showClearOnFB && /*#__PURE__*/React.createElement(Button, {\n    onClick: onClear,\n    design: ButtonDesign.Transparent\n  }, clearText), showRestoreOnFB && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleFBRestore,\n    design: ButtonDesign.Transparent\n  }, restoreText), !hideToggleFiltersButton && useToolbar && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleToggle,\n    design: ButtonDesign.Transparent,\n    className: classes.showFiltersBtn\n  }, showFilters ? hideFilterBarText : showFilterBarText), showFilterConfiguration && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDialogOpen,\n    \"aria-haspopup\": \"dialog\"\n  }, \"\".concat(filtersText).concat(activeFiltersCount && parseInt(activeFiltersCount) > 0 ? \" (\".concat(activeFiltersCount, \")\") : '')), showGoOnFB && /*#__PURE__*/React.createElement(Button, {\n    onClick: onGo,\n    design: ButtonDesign.Emphasized\n  }, goText));\n  var hasButtons = ToolbarButtons.props.children.some(Boolean);\n\n  var _useState13 = useState(undefined),\n      _useState14 = _slicedToArray(_useState13, 2),\n      filterBarButtonsWidth = _useState14[0],\n      setFilterBarButtonsWidth = _useState14[1];\n\n  var _useState15 = useState(undefined),\n      _useState16 = _slicedToArray(_useState15, 2),\n      filterAreaWidth = _useState16[0],\n      setFilterAreaWidth = _useState16[1];\n\n  var _useState17 = useState(undefined),\n      _useState18 = _slicedToArray(_useState17, 2),\n      firstChildWidth = _useState18[0],\n      setFirstChildWidth = _useState18[1];\n\n  useEffect(function () {\n    var filterAreaObserver = new ResizeObserver(debounce(function (_ref) {\n      var _area$target, _area$target$children;\n\n      var _ref2 = _slicedToArray(_ref, 1),\n          area = _ref2[0];\n\n      var firstChild = (_area$target = area.target) === null || _area$target === void 0 ? void 0 : (_area$target$children = _area$target.children) === null || _area$target$children === void 0 ? void 0 : _area$target$children[0];\n\n      if (firstChild && firstChild.offsetWidth !== firstChildWidth) {\n        setFirstChildWidth(firstChild.offsetWidth + 16\n        /*margin*/\n        );\n      }\n    }, 100));\n\n    if (!useToolbar && filterAreaRef.current) {\n      filterAreaObserver.observe(filterAreaRef.current);\n    }\n\n    return function () {\n      filterAreaObserver.disconnect();\n    };\n  }, [filterAreaRef.current, useToolbar]);\n  useEffect(function () {\n    var filterAreaObserver = new ResizeObserver(debounce(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 1),\n          area = _ref4[0];\n\n      var filterWidth = resizeObserverEntryWidth(area);\n\n      if (filterWidth !== filterBarButtonsWidth) {\n        setFilterAreaWidth(filterWidth);\n      }\n    }, 100));\n\n    if (!useToolbar && filterAreaRef.current) {\n      filterAreaObserver.observe(filterAreaRef.current);\n    }\n\n    return function () {\n      filterAreaObserver.disconnect();\n    };\n  }, [filterAreaWidth, filterAreaRef.current, useToolbar]);\n  useEffect(function () {\n    var filterBarButtonsObserver = new ResizeObserver(debounce(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 1),\n          buttons = _ref6[0];\n\n      var buttonsWidth = resizeObserverEntryWidth(buttons);\n\n      if (buttonsWidth !== filterBarButtonsWidth) {\n        setFilterBarButtonsWidth(buttonsWidth);\n      }\n    }, 100));\n\n    if (!useToolbar && filterBarButtonsRef.current) {\n      filterBarButtonsObserver.observe(filterBarButtonsRef.current);\n    }\n\n    return function () {\n      filterBarButtonsObserver.disconnect();\n    };\n  }, [filterBarButtonsRef.current, useToolbar, filterBarButtonsWidth]);\n  var calculatedChildren = renderChildren(); // calculates the number of spacers depending on the available width inside the row\n\n  var renderSpacers = function renderSpacers() {\n    if (firstChildWidth && filterAreaWidth && filterBarButtonsWidth) {\n      var spacers = [];\n      var filterItemsWidth = calculatedChildren.length * firstChildWidth; //early return if enough space is available\n\n      if (filterAreaWidth - filterBarButtonsWidth > filterItemsWidth) {\n        return null;\n      }\n\n      var usedSpaceLastRow = filterItemsWidth % filterAreaWidth;\n      var emptySpaceLastRow = filterAreaWidth - usedSpaceLastRow; // deduct width of buttons container of the empty space in the last row to calculate number of spacers\n\n      var numberOfSpacers = Math.floor((emptySpaceLastRow - filterBarButtonsWidth) / firstChildWidth);\n\n      for (var i = 0; i < numberOfSpacers; i++) {\n        spacers.push( /*#__PURE__*/React.createElement(\"div\", {\n          key: \"filter-spacer-\".concat(i),\n          className: classes.spacer,\n          style: _defineProperty({}, \"margin\".concat(transformRightRTL), '1rem')\n        }));\n      }\n\n      return spacers;\n    }\n\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, dialogOpen && showFilterConfiguration && /*#__PURE__*/React.createElement(FilterDialog, {\n    filterBarRefs: filterRefs,\n    open: dialogOpen,\n    handleDialogClose: handleDialogClose,\n    onGo: onGo,\n    handleRestoreFilters: handleRestoreFilters,\n    searchValue: (_searchRef$current = searchRef.current) === null || _searchRef$current === void 0 ? void 0 : _searchRef$current.children[0].value,\n    handleSearchValueChange: setSearchValue,\n    showClearButton: showClearButton,\n    showRestoreButton: showRestoreButton,\n    showSearch: showSearchOnFiltersDialog,\n    renderFBSearch: search,\n    handleClearFilters: onFiltersDialogClear,\n    handleSelectionChange: onFiltersDialogSelectionChange,\n    handleDialogSave: handleDialogSave,\n    showGoButton: showGo,\n    handleDialogSearch: onFiltersDialogSearch,\n    handleDialogCancel: onFiltersDialogCancel\n  }, safeChildren()), /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: filterBarRef,\n    className: cssClasses.toString(),\n    style: _objectSpread(_defineProperty({}, '--_ui5wcr_filter_group_item_flex_basis', filterContainerWidth), style),\n    title: tooltip,\n    slot: slot\n  }, passThroughProps), loading ? /*#__PURE__*/React.createElement(BusyIndicator, {\n    active: true,\n    className: classes.loadingContainer,\n    size: BusyIndicatorSize.Large\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, useToolbar && /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.filterBarHeader,\n    toolbarStyle: ToolbarStyle.Clear\n  }, variants, variants && search && /*#__PURE__*/React.createElement(ToolbarSeparator, null), search && /*#__PURE__*/React.createElement(\"div\", {\n    ref: searchRef\n  }, renderSearchWithValue(search, searchValue)), hasButtons && /*#__PURE__*/React.createElement(ToolbarSpacer, null), ToolbarButtons), mountFilters && /*#__PURE__*/React.createElement(\"div\", {\n    className: filterAreaClasses.className,\n    style: {\n      position: 'relative'\n    },\n    ref: filterAreaRef\n  }, calculatedChildren, !useToolbar && /*#__PURE__*/React.createElement(React.Fragment, null, renderSpacers(), /*#__PURE__*/React.createElement(\"div\", {\n    style: _defineProperty({\n      width: filterBarButtonsWidth ? \"\".concat(filterBarButtonsWidth, \"px\") : '120px',\n      minWidth: filterBarButtonsWidth ? \"\".concat(filterBarButtonsWidth, \"px\") : '120px'\n    }, \"margin\".concat(transformRightRTL), '1rem'),\n    className: classes.lastSpacer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.filterBarButtons,\n    ref: filterBarButtonsRef,\n    style: (_ref9 = {}, _defineProperty(_ref9, \"margin\".concat(transformRightRTL), '1rem'), _defineProperty(_ref9, \"left\", isRtl ? 0 : 'auto'), _defineProperty(_ref9, \"right\", isRtl ? 'auto' : 0), _ref9)\n  }, ToolbarButtons)))))));\n});\nFilterBar.defaultProps = {\n  filterContainerWidth: '13.125rem',\n  useToolbar: true,\n  filterBarExpanded: true,\n  showClearOnFB: false,\n  showGo: false,\n  showRestoreOnFB: false,\n  showGoOnFB: false,\n  showFilterConfiguration: false,\n  showClearButton: false,\n  showRestoreButton: false,\n  showSearchOnFiltersDialog: false,\n  hideToggleFiltersButton: false,\n  considerGroupName: false,\n  loading: false,\n  onToggleFilters: null,\n  onFiltersDialogOpen: null,\n  onFiltersDialogCancel: null,\n  onFiltersDialogClose: null,\n  onFiltersDialogSave: null,\n  onFiltersDialogClear: null,\n  onClear: null,\n  onFiltersDialogSelectionChange: null,\n  onFiltersDialogSearch: null,\n  onGo: null,\n  onRestore: null\n};\nFilterBar.displayName = 'FilterBar';\nexport { FilterBar };","map":{"version":3,"sources":["../src/components/FilterBar/FilterBar.jss.ts","../src/internal/stopPropagation.ts","../src/components/FilterBar/FilterBarDialog.jss.ts","../src/components/FilterBar/utils.tsx","../src/components/FilterBar/FilterDialog.tsx","../src/components/FilterBar/index.tsx"],"names":["styles","outerContainer","background","ThemingParameters","outerContainerWithToolbar","paddingTop","paddingLeft","paddingRight","paddingBottom","boxShadow","sapContent_HeaderShadow","filterBarHeader","alignItems","display","minHeight","flexWrap","filterArea","marginBottom","transition","filterAreaClosed","maxHeight","opacity","padding","margin","overflowY","filterAreaOpen","showFiltersBtn","minWidth","loadingContainer","width","justifyContent","filterBarButtons","position","right","marginLeft","marginRight","spacer","height","marginTop","flexGrow","flexShrink","maxWidth","isIE","flexBasis","lastSpacer","stopPropagation","e","dialog","flexDirection","header","footer","groupContainer","groupTitle","filters","singleFilter","gridTemplateColumns","CssSizeVariables","gridTemplateRows","gridColumnGap","placeSelf","fbSearch","gridRowGap","inputTagNames","filterValue","tagName","ref","filterItemProps","value","selectedIndices","item","el","selectedIndicesSet","options","cloneElement","selected","children","checked","renderSearchWithValue","searchValue","renderSearchElement","syncRef","useStyles","createUseStyles","name","FilterDialog","filterBarRefs","open","handleDialogClose","showClearButton","showRestoreButton","showGoButton","showSearch","renderFBSearch","handleClearFilters","handleRestoreFilters","handleDialogSave","handleSearchValueChange","onGo","handleSelectionChange","handleDialogSearch","handleDialogCancel","props","classes","searchString","setSearchString","useState","searchRef","useRef","toggledFilters","setToggledFilters","dialogRefs","dialogRef","i18nBundle","useI18nBundle","basicText","cancelText","clearText","restoreText","saveText","searchForFiltersText","showOnFilterBarText","filtersTitle","goText","useEffect","handleSearch","useCallback","enrichEventWithDetails","handleSave","handleClose","handleDialogGo","handleRestore","handleCancel","footerContentRight","useMemo","FlexBoxJustifyContent","ButtonDesign","renderChildren","filterBarItemRef","child","handleCheckBoxChange","element","renderGroups","groups","Children","childGroups","x","y","FlexBoxAlignItems","Center","TitleLevel","index","createPortal","FlexBoxDirection","BarDesign","document","resizeObserverEntryWidth","entry","Array","FilterBar","forwardRef","useToolbar","loading","filterBarExpanded","considerGroupName","filterContainerWidth","activeFiltersCount","showClearOnFB","showGoOnFB","showGo","showFilterConfiguration","showRestoreOnFB","showSearchOnFiltersDialog","hideToggleFiltersButton","style","className","tooltip","slot","search","variants","onToggleFilters","onFiltersDialogOpen","onFiltersDialogCancel","onFiltersDialogClose","onFiltersDialogSave","onFiltersDialogClear","onClear","onFiltersDialogSelectionChange","onFiltersDialogSearch","onRestore","showFilters","setShowFilters","mountFilters","setMountFilters","dialogOpen","setDialogOpen","setSearchValue","filterRefs","setDialogRefs","prevVisibleInFilterBarProps","prevSearchInputPropsValueRef","filterBarButtonsRef","filterAreaRef","filterBarRef","useConsolidatedRef","showFilterBarText","hideFilterBarText","filtersText","isRtl","useIsRTL","transformRightRTL","filterAreaClasses","StyleClassHelper","handleToggle","visible","elements","toggledElements","handleDialogOpen","passThroughProps","usePassThroughHtmlProps","safeChildren","Object","visibleInFilterBar","prevChildren","childProps","dialogItemRef","rest","source","handleFBRestore","cssClasses","prevSearchInputPropsValue","ToolbarButtons","Transparent","parseInt","Emphasized","hasButtons","filterBarButtonsWidth","setFilterBarButtonsWidth","filterAreaWidth","setFilterAreaWidth","firstChildWidth","setFirstChildWidth","filterAreaObserver","debounce","area","firstChild","filterWidth","filterBarButtonsObserver","buttons","buttonsWidth","calculatedChildren","renderSpacers","spacers","filterItemsWidth","usedSpaceLastRow","emptySpaceLastRow","numberOfSpacers","Math","i","BusyIndicatorSize","Large","ToolbarStyle","Clear"],"mappings":"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","sourcesContent":["import { isIE } from '@ui5/webcomponents-base/dist/Device';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nconst styles = {\n  outerContainer: {\n    background: ThemingParameters.sapObjectHeader_Background,\n    '--_ui5_input_width': '100%'\n  },\n  outerContainerWithToolbar: {\n    paddingTop: '0.5rem',\n    paddingLeft: '2rem',\n    paddingRight: '2rem',\n    paddingBottom: '1px',\n    boxShadow: ThemingParameters.sapContent_HeaderShadow\n  },\n  filterBarHeader: {\n    alignItems: 'center',\n    display: 'flex',\n    background: ThemingParameters.sapObjectHeader_Background,\n    minHeight: '3rem',\n    paddingBottom: '0.5rem',\n    boxShadow: 'none',\n    flexWrap: 'wrap'\n  },\n  filterArea: {\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    paddingTop: '1rem',\n    marginBottom: '1rem',\n    background: ThemingParameters.sapObjectHeader_Background,\n    transition: 'max-height 0.2s ease-out, opacity 0.2s ease-in'\n  },\n  filterAreaClosed: {\n    maxHeight: '0',\n    opacity: 0,\n    padding: 0,\n    margin: 0,\n    overflowY: 'auto'\n  },\n  filterAreaOpen: {\n    opacity: 1\n  },\n  showFiltersBtn: { minWidth: '108px' },\n  loadingContainer: {\n    marginBottom: '0.5rem',\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'center'\n  },\n  filterBarButtons: {\n    display: 'flex',\n    alignItems: 'center',\n    position: 'absolute',\n    right: 0,\n    marginBottom: '1rem',\n    '& > *:not(:first-child)': {\n      marginLeft: '0.25rem'\n    },\n    '& > *:not(:last-child)': {\n      marginRight: '0.25rem'\n    }\n  },\n  spacer: {\n    height: 0,\n    marginTop: 0,\n    flexGrow: 1,\n    flexShrink: 0,\n    maxWidth: isIE() ? '26.25rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis) * 2)',\n    flexBasis: isIE() ? '13.125rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis))'\n  },\n  lastSpacer: {\n    height: 'var(--_ui5_input_height)',\n    flexGrow: 1,\n    flexShrink: 0,\n    maxWidth: isIE() ? '26.25rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis) * 2)',\n    flexBasis: isIE() ? '13.125rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis))'\n  }\n};\n\nexport default styles;\n","export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation?.();\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { sapUiContentPadding } from '@ui5/webcomponents-react-base/dist/spacing';\n\nconst styles = {\n  dialog: {\n    ...sapUiContentPadding,\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: '960px',\n    width: '80vw',\n    maxHeight: '70vh',\n    '--_ui5_input_width': '100%'\n  },\n  header: {\n    width: '100%',\n    padding: '0.25rem 1rem 0 1rem',\n    '& *': {\n      margin: '0.25rem 0 0.25rem 0'\n    },\n    '& ui5-input': {\n      width: '100%'\n    }\n  },\n  footer: {\n    '& :not(:last-child)': {\n      marginRight: '0.25rem'\n    }\n  },\n  groupContainer: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  groupTitle: {\n    maxWidth: '85%',\n    marginRight: '0.5rem'\n  },\n  filters: {\n    padding: '1rem 0 2rem 0'\n  },\n  singleFilter: {\n    display: 'grid',\n    gridTemplateColumns: `auto minmax(${CssSizeVariables.sapWcrCheckBoxWidthHeight},7%)`,\n    gridTemplateRows: 'auto',\n    gridColumnGap: '0.5rem',\n    '@media(max-width:700px)': {\n      marginTop: '0.5rem'\n    },\n    '& ui5-checkbox': {\n      placeSelf: 'center start',\n      '@media(max-width:700px)': {\n        marginTop: '0.8rem',\n        paddingLeft: 0,\n        placeSelf: 'end start'\n      }\n    }\n  },\n\n  fbSearch: {\n    '@media(min-width:700px)': {\n      display: 'grid',\n      gridTemplateColumns: '20% auto 7%',\n      gridTemplateRows: 'auto',\n      gridRowGap: '0.5rem',\n      gridColumnGap: '0.5rem'\n    },\n    paddingBottom: '2rem',\n    width: '100%',\n    '& ui5-input': {\n      width: '100%'\n    }\n  }\n};\n\nexport default styles;\n","import { cloneElement, Ref } from 'react';\n\nconst inputTagNames = new Set([\n  'UI5-COMBOBOX',\n  'UI5-DATE-PICKER',\n  'UI5-DATERANGE-PICKER',\n  'UI5-DATETIME-PICKER',\n  'UI5-DURATION-PICKER',\n  'UI5-INPUT',\n  'UI5-MULTI-INPUT',\n  'UI5-RATING-INDICATOR',\n  'UI5-STEP-INPUT',\n  'UI5-TIME-PICKER'\n]);\n\nexport const filterValue = (ref, child) => {\n  const tagName = ref.tagName;\n  let filterItemProps = {};\n  if (inputTagNames.has(tagName)) {\n    filterItemProps = { value: ref.value };\n  }\n  if (tagName === 'UI5-SELECT' || tagName === 'UI5-MULTI-COMBOBOX') {\n    const selectedIndices = Array.from(ref.children as HTMLCollectionOf<any>)\n      .map((item, index) => (item.selected ? index : false))\n      .filter((el) => el !== false);\n    const selectedIndicesSet = new Set(selectedIndices);\n    const options = child.props.children.props.children?.map((item, index) => {\n      if (selectedIndicesSet.has(index)) {\n        return cloneElement(item, { selected: true });\n      }\n      return cloneElement(item, { selected: false });\n    });\n    filterItemProps = { children: options };\n  }\n  if (tagName === 'UI5-SWITCH' || tagName === 'UI5-CHECKBOX') {\n    filterItemProps = { checked: ref.checked };\n  }\n  return filterItemProps;\n};\n\nexport const renderSearchWithValue = (renderSearchElement, searchValue) => {\n  return cloneElement(renderSearchElement, { value: searchValue ?? renderSearchElement?.props?.value });\n};\n\nexport const syncRef = (ref: Ref<unknown>, node: unknown): void => {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    } else if (ref.hasOwnProperty('current')) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      ref.current = node;\n    }\n  }\n};\n","import '@ui5/webcomponents-icons/dist/search';\nimport { createUseStyles } from 'react-jss';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  BASIC,\n  CANCEL,\n  CLEAR,\n  FILTERS,\n  GO,\n  RESTORE,\n  SAVE,\n  SEARCH_FOR_FILTERS,\n  SHOW_ON_FILTER_BAR\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Bar } from '@ui5/webcomponents-react/dist/Bar';\nimport { BarDesign } from '@ui5/webcomponents-react/dist/BarDesign';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { CheckBox } from '@ui5/webcomponents-react/dist/CheckBox';\nimport { Dialog } from '@ui5/webcomponents-react/dist/Dialog';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/dist/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/dist/FlexBoxDirection';\nimport { FlexBoxJustifyContent } from '@ui5/webcomponents-react/dist/FlexBoxJustifyContent';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { Input } from '@ui5/webcomponents-react/dist/Input';\nimport { Text } from '@ui5/webcomponents-react/dist/Text';\nimport { Title } from '@ui5/webcomponents-react/dist/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/dist/TitleLevel';\nimport React, { Children, cloneElement, ReactElement, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Ui5DialogDomRef } from '@ui5/webcomponents-react/interfaces/Ui5DialogDomRef';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport styles from './FilterBarDialog.jss';\nimport { filterValue, renderSearchWithValue, syncRef } from './utils';\nimport { createPortal } from 'react-dom';\n\nconst useStyles = createUseStyles(styles, { name: 'FilterBarDialog' });\nexport const FilterDialog = (props) => {\n  const {\n    filterBarRefs,\n    open,\n    handleDialogClose,\n    children,\n    showClearButton,\n    showRestoreButton,\n    showGoButton,\n    showSearch,\n    renderFBSearch,\n    handleClearFilters,\n    handleRestoreFilters,\n    handleDialogSave,\n    searchValue,\n    handleSearchValueChange,\n    onGo,\n    handleSelectionChange,\n    handleDialogSearch,\n    handleDialogCancel\n  } = props;\n  const classes = useStyles();\n  const [searchString, setSearchString] = useState('');\n  const searchRef = useRef(null);\n  const [toggledFilters, setToggledFilters] = useState({});\n  const dialogRefs = useRef({});\n  const dialogRef = useRef<Ui5DialogDomRef>();\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const basicText = i18nBundle.getText(BASIC);\n  const cancelText = i18nBundle.getText(CANCEL);\n  const clearText = i18nBundle.getText(CLEAR);\n  const restoreText = i18nBundle.getText(RESTORE);\n  const saveText = i18nBundle.getText(SAVE);\n  const searchForFiltersText = i18nBundle.getText(SEARCH_FOR_FILTERS);\n  const showOnFilterBarText = i18nBundle.getText(SHOW_ON_FILTER_BAR);\n  const filtersTitle = i18nBundle.getText(FILTERS);\n  const goText = i18nBundle.getText(GO);\n\n  useEffect(() => {\n    if (open) {\n      dialogRef.current.show();\n    }\n  }, [open]);\n\n  const handleSearch = useCallback(\n    (e) => {\n      if (handleDialogSearch) {\n        handleDialogSearch(enrichEventWithDetails(e, { value: e.target.value }));\n      }\n      setSearchString(e.target.value);\n    },\n    [setSearchString, handleDialogSearch]\n  );\n  const handleSave = useCallback(\n    (e) => {\n      if (renderFBSearch) {\n        handleSearchValueChange(searchRef.current?.children[1].value);\n      }\n      handleDialogSave(e, dialogRefs.current, toggledFilters);\n    },\n    [renderFBSearch, handleSearchValueChange, searchRef, handleDialogSave, toggledFilters, dialogRefs]\n  );\n\n  const handleClose = useCallback(\n    (e) => {\n      stopPropagation(e);\n      if (!showGoButton) {\n        handleSave(e);\n        return;\n      }\n      handleDialogClose(e);\n    },\n    [showGoButton, handleSave, handleDialogClose]\n  );\n\n  const handleDialogGo = useCallback(\n    (e) => {\n      if (onGo) {\n        onGo(enrichEventWithDetails(e));\n      }\n      handleDialogClose(e);\n    },\n    [onGo, handleDialogClose]\n  );\n\n  const handleRestore = useCallback(\n    (e) => {\n      handleRestoreFilters(e, 'dialog');\n    },\n    [handleRestoreFilters]\n  );\n\n  const handleCancel = useCallback(\n    (e) => {\n      if (handleDialogCancel) {\n        handleDialogCancel(enrichEventWithDetails(e));\n      }\n      handleDialogClose(e);\n    },\n    [handleDialogCancel]\n  );\n\n  const footerContentRight = useMemo(\n    () => (\n      <FlexBox justifyContent={FlexBoxJustifyContent.End} className={classes.footer}>\n        {showGoButton && (\n          <Button onClick={handleDialogGo} design={ButtonDesign.Emphasized} title={goText}>\n            {goText}\n          </Button>\n        )}\n        {showClearButton && <Button onClick={handleClearFilters}>{clearText}</Button>}\n        {showRestoreButton && <Button onClick={handleRestore}>{restoreText}</Button>}\n        <Button onClick={handleSave}>{saveText}</Button>\n        <Button design={ButtonDesign.Transparent} onClick={handleCancel}>\n          {cancelText}\n        </Button>\n      </FlexBox>\n    ),\n    [\n      goText,\n      showGoButton,\n      classes.footer,\n      handleDialogGo,\n      showClearButton,\n      handleClearFilters,\n      showRestoreButton,\n      handleRestore,\n      handleSave,\n      handleCancel\n    ]\n  );\n\n  const renderChildren = () => {\n    return children\n      .filter((item) => {\n        return (\n          !!item?.props &&\n          item.props?.visible &&\n          (item.props?.label?.toLowerCase().includes(searchString.toLowerCase()) || searchString.length === 0)\n        );\n      })\n      .map((child) => {\n        const filterBarItemRef = filterBarRefs.current[child.key];\n        let filterItemProps = {};\n        if (filterBarItemRef) {\n          filterItemProps = filterValue(filterBarItemRef, child);\n        }\n        if (!child.props.children) return child;\n        return cloneElement(child as ReactElement<any>, {\n          children: {\n            ...child.props.children,\n            props: {\n              ...child.props.children.props,\n              ...filterItemProps\n            },\n            ref: (node) => {\n              dialogRefs.current[child.key] = node;\n              syncRef(child.props.children.ref, node);\n            }\n          }\n        });\n      });\n  };\n\n  const handleCheckBoxChange = useCallback(\n    (element) => (e) => {\n      if (handleSelectionChange) {\n        handleSelectionChange(enrichEventWithDetails(e, { element, checked: e.target.checked }));\n      }\n      setToggledFilters((old) => ({ ...old, [element.key]: e.target.checked }));\n    },\n    [setToggledFilters, handleSelectionChange]\n  );\n  const renderGroups = () => {\n    const groups = {};\n    Children.forEach(renderChildren(), (child) => {\n      const childGroups = child.props.groupName ?? 'default';\n      if (groups[childGroups]) {\n        groups[childGroups].push(child);\n      } else {\n        groups[childGroups] = [child];\n      }\n    });\n    return Object.keys(groups)\n      .sort((x, y) => (x === 'default' ? -1 : y === 'role' ? 1 : 0))\n      .map((item, index) => {\n        const filters = groups[item].map((el) => {\n          return (\n            <div className={classes.singleFilter} key={`${el.key}-container`}>\n              {el}\n              <CheckBox\n                role=\"checkbox\"\n                checked={el.props.visibleInFilterBar || el.props.required || el.type.displayName !== 'FilterGroupItem'}\n                onChange={handleCheckBoxChange(el)}\n                disabled={el.props.required || el.type.displayName !== 'FilterGroupItem'}\n              />\n            </div>\n          );\n        });\n        return (\n          <div className={classes.groupContainer} key={item}>\n            <FlexBox justifyContent={FlexBoxJustifyContent.SpaceBetween} alignItems={FlexBoxAlignItems.Center}>\n              <Title\n                level={TitleLevel.H5}\n                className={index === 0 ? classes.groupTitle : ''}\n                tooltip={item === 'default' ? basicText : item}\n              >\n                {item === 'default' ? basicText : item}\n              </Title>\n              {index === 0 && <Text wrapping={false}>{showOnFilterBarText}</Text>}\n            </FlexBox>\n            <div className={classes.filters}>{filters}</div>\n          </div>\n        );\n      });\n  };\n\n  return createPortal(\n    <Dialog\n      ref={dialogRef}\n      header={\n        <FlexBox direction={FlexBoxDirection.Column} alignItems={FlexBoxAlignItems.Center} className={classes.header}>\n          <Title level={TitleLevel.H4} tooltip={filtersTitle}>\n            {filtersTitle}\n          </Title>\n          {showSearch && (\n            <Input placeholder={searchForFiltersText} onInput={handleSearch} icon={<Icon name=\"search\" />} />\n          )}\n        </FlexBox>\n      }\n      footer={<Bar design={BarDesign.Footer} endContent={footerContentRight} />}\n      onAfterClose={handleClose}\n    >\n      <div className={classes.dialog} role=\"dialog\">\n        {renderFBSearch && (\n          <div className={classes.fbSearch} ref={searchRef}>\n            <span />\n            {renderSearchWithValue(renderFBSearch, searchValue)}\n          </div>\n        )}\n        {renderGroups()}\n      </div>\n    </Dialog>,\n    document.body\n  );\n};\n","import { useConsolidatedRef, useI18nBundle, useIsRTL } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/dist/StyleClassHelper';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/dist/usePassThroughHtmlProps';\nimport { debounce, enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  ADAPT_FILTERS,\n  CLEAR,\n  FILTERS,\n  GO,\n  HIDE_FILTER_BAR,\n  RESTORE,\n  SHOW_FILTER_BAR\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { BusyIndicator } from '@ui5/webcomponents-react/dist/BusyIndicator';\nimport { BusyIndicatorSize } from '@ui5/webcomponents-react/dist/BusyIndicatorSize';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { InputPropTypes } from '@ui5/webcomponents-react/dist/Input';\nimport { Toolbar } from '@ui5/webcomponents-react/dist/Toolbar';\nimport { ToolbarSeparator } from '@ui5/webcomponents-react/dist/ToolbarSeparator';\nimport { ToolbarSpacer } from '@ui5/webcomponents-react/dist/ToolbarSpacer';\nimport { ToolbarStyle } from '@ui5/webcomponents-react/dist/ToolbarStyle';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport React, {\n  Children,\n  cloneElement,\n  CSSProperties,\n  forwardRef,\n  MouseEventHandler,\n  ReactElement,\n  ReactNode,\n  ReactNodeArray,\n  RefObject,\n  useCallback,\n  useEffect,\n  useRef,\n  useState\n} from 'react';\nimport { createUseStyles } from 'react-jss';\nimport styles from './FilterBar.jss';\nimport { FilterDialog } from './FilterDialog';\nimport { filterValue, renderSearchWithValue, syncRef } from './utils';\n\nexport interface FilterBarPropTypes extends CommonProps {\n  /**\n   * Defines the filters of the `FilterBar`.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `FilterGroupItems` in order to preserve the intended design.\n   */\n  children: ReactNode | ReactNodeArray;\n  /**\n   * Defines the search field next to the variants of the `FilterBar`.\n   *\n   * __Note:__ If `useToolbar` is `false` this prop has no effect.\n   */\n  search?: ReactElement<InputPropTypes>;\n  /**\n   * Defines the variants of the `FilterBar`.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `VariantManagement` in order to preserve the intended design.\n   * __Note:__ If `useToolbar` is `false` this prop has no effect.\n   */\n  variants?: ReactNode;\n  /**\n   * Defines whether the toolbar on top of the filter items is displayed.\n   *\n   * __Note__: If set to `false`, `variants`, `search` and the \"Hide/Show FilterBar\" button are not available and the rest of the buttons are moved to the bottom right side of the filter area.\n   */\n  useToolbar?: boolean;\n  /**\n   * Defines whether the `FilterBar` is expanded.\n   */\n  filterBarExpanded?: boolean;\n  /**\n   * Defines the width of the `FilterGroupItems`.\n   *\n   * __Note:__ If your filter elements (e.g. `DateRangePicker`) have an internal `minWidth`, please make sure to overwrite it with `minWidth:'auto'` or the corresponding `filterContainerWidth` otherwise it can lead to unintended behavior.\n   * __Note:__ This prop is not supported with IE11, there it defaults to `13.125rem`.\n   */\n  filterContainerWidth?: CSSProperties['width'];\n  /**\n   * Defines whether the `groupName` of the `FilterGroupItems` is displayed.\n   */\n  considerGroupName?: boolean;\n  /**\n   * Defines whether the \"Clear\" button is displayed in the `FilterBar`.\n   */\n  showClearOnFB?: boolean;\n  /**\n   * Defines whether the \"Go\" button is displayed in the `FilterBar`.\n   */\n  showGoOnFB?: boolean;\n  /**\n   * Defines whether the \"Filter\" button is displayed in the `FilterBar`.\n   *\n   * __Note:__ Clicking on the button will open the filter configuration dialog, where you can add/remove filters to the `FilterBar`.\n   */\n  showFilterConfiguration?: boolean;\n  /**\n   * Defines whether the \"Clear\" button is displayed in the filter configuration dialog.\n   */\n  showClearButton?: boolean;\n  /**\n   * Defines whether the \"Restore\" button is displayed in the filter configuration dialog.\n   */\n  showRestoreButton?: boolean;\n  /**\n   * Defines whether the \"Go\" button is displayed in the filter configuration dialog.\n   */\n  showGo?: boolean;\n  /**\n   * Defines whether the \"Hide/Show Filters\" button is displayed in the `FilterBar`.\n   *\n   * __Note:__ If `useToolbar` is `false` this prop has no effect.\n   */\n  hideToggleFiltersButton?: boolean;\n  /**\n   * Defines the number of active filters displayed in the \"Filter\" button.\n   *\n   * __Note__: If `showFilterConfiguration` is `false` this prop has no effect.\n   */\n  activeFiltersCount?: number | string;\n  /**\n   * Indicates whether a loading indicator should be shown in the `FilterBar`.\n   */\n  loading?: boolean;\n  /**\n   * Defines whether a search field for filters is displayed in the filter configuration dialog.\n   */\n  showSearchOnFiltersDialog?: boolean;\n  /**\n   * Defines whether the \"Restore\" button is displayed in the `FilterBar`.\n   */\n  showRestoreOnFB?: boolean;\n  /**\n   * The event is fired when the `FilterBar` is collapsed/expanded.\n   */\n  onToggleFilters?: (event: CustomEvent<{ visible?: boolean }>) => void;\n  /**\n   * The event is fired when the \"Save\" button of the filter configuration dialog is clicked.\n   */\n  onFiltersDialogSave?: (event: CustomEvent<{ elements?: unknown; toggledElements?: unknown }>) => void;\n  /**\n   * The event is fired when the \"Clear\" button of the filter configuration dialog is clicked.\n   */\n  onFiltersDialogClear?: (event: CustomEvent) => void;\n  /**\n   * The event is fired when the \"Cancel\" button of the filter configuration dialog is clicked.\n   */\n  onFiltersDialogCancel?: (event: CustomEvent) => void;\n  /**\n   * The event is fired when the filter configuration dialog is opened.\n   */\n  onFiltersDialogOpen?: (event: CustomEvent) => void;\n  /**\n   * The event is fired when the filter configuration dialog is closed.\n   */\n  onFiltersDialogClose?: (event: CustomEvent) => void;\n  /**\n   * The event is fired when a filter is selected/unselected in the filter configuration dialog.\n   */\n  onFiltersDialogSelectionChange?: (event: CustomEvent<{ element?: unknown; checked?: unknown }>) => void;\n  /**\n   * The event is fired on input in the filter configuration dialog search field.\n   */\n  onFiltersDialogSearch?: (event: CustomEvent<{ value?: unknown }>) => void;\n  /**\n   * The event is fired when the \"Clear\" button is clicked.\n   */\n  onClear?: MouseEventHandler<HTMLButtonElement>;\n  /**\n   * The event is fired when the \"Go\" button is clicked.\n   */\n  onGo?: MouseEventHandler<HTMLButtonElement>;\n  /**\n   * The event is fired when the \"Restore\" button is clicked.\n   */\n  onRestore?: (event: CustomEvent<{ source?: unknown }>) => void;\n}\n\nconst resizeObserverEntryWidth = (entry) => {\n  if (entry.borderBoxSize) {\n    // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n    return Array.isArray(entry.borderBoxSize) ? entry.borderBoxSize[0]?.inlineSize : entry.borderBoxSize?.inlineSize;\n  }\n  // Safari doesn't implement `borderBoxSize`\n  return entry.target.getBoundingClientRect().width;\n};\n\nconst useStyles = createUseStyles(styles, { name: 'FilterBar' });\n/**\n * The `FilterBar` displays filters in a user-friendly manner to populate values for a query. It consists of a row containing the `VariantManagement`, the related buttons, and an area underneath displaying the filters. The filters are arranged in a logical row that is divided depending on the space available and the width of the filters. The area containing the filters can be hidden or shown using the \"Hide FilterBar / Show FilterBar\" button, the \"Filters\" button shows the filter dialog.\n In this dialog, the consumer has full control over the FilterBar. The filters in this dialog are displayed in one column and organized in groups. Each filter can be marked as visible in the FilterBar by selecting \"Add to FilterBar\".\n */\nconst FilterBar = forwardRef((props: FilterBarPropTypes, ref: RefObject<HTMLDivElement>) => {\n  const {\n    children,\n    useToolbar,\n    loading,\n    filterBarExpanded,\n    considerGroupName,\n    filterContainerWidth,\n    activeFiltersCount,\n    showClearOnFB,\n    showGoOnFB,\n    showGo,\n    showFilterConfiguration,\n    showRestoreOnFB,\n    showClearButton,\n    showRestoreButton,\n    showSearchOnFiltersDialog,\n    hideToggleFiltersButton,\n    style,\n    className,\n    tooltip,\n    slot,\n    search,\n    variants,\n\n    onToggleFilters,\n    onFiltersDialogOpen,\n    onFiltersDialogCancel,\n    onFiltersDialogClose,\n    onFiltersDialogSave,\n    onFiltersDialogClear,\n    onClear,\n    onFiltersDialogSelectionChange,\n    onFiltersDialogSearch,\n    onGo,\n    onRestore\n  } = props;\n  const [showFilters, setShowFilters] = useState(useToolbar ? filterBarExpanded : true);\n  const [mountFilters, setMountFilters] = useState(true);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [searchValue, setSearchValue] = useState<string>(undefined);\n  const searchRef = useRef(null);\n  const filterRefs = useRef({});\n  const [dialogRefs, setDialogRefs] = useState({});\n  const [toggledFilters, setToggledFilters] = useState({});\n  const prevVisibleInFilterBarProps = useRef({});\n  const prevSearchInputPropsValueRef = useRef<string>();\n  const filterBarButtonsRef = useRef(null);\n  const filterAreaRef = useRef(null);\n  const filterBarRef = useConsolidatedRef<HTMLDivElement>(ref);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const clearText = i18nBundle.getText(CLEAR);\n  const restoreText = i18nBundle.getText(RESTORE);\n  const showFilterBarText = i18nBundle.getText(SHOW_FILTER_BAR);\n  const hideFilterBarText = i18nBundle.getText(HIDE_FILTER_BAR);\n  const goText = i18nBundle.getText(GO);\n  const filtersText = useToolbar ? i18nBundle.getText(FILTERS) : i18nBundle.getText(ADAPT_FILTERS);\n\n  const isRtl = useIsRTL(filterBarRef);\n  const transformRightRTL = isRtl ? 'Left' : 'Right';\n\n  useEffect(() => {\n    Children.toArray(children).forEach((item: ReactElement<any>) => {\n      setToggledFilters((prev) => {\n        if (!item.props.hasOwnProperty('visibleInFilterBar') && prev?.[item.key] === undefined) {\n          return { ...prev, [item.key]: true };\n        }\n        if (item.props.hasOwnProperty('visibleInFilterBar')) {\n          return { ...prev, [item.key]: item.props.visibleInFilterBar };\n        }\n        return prev;\n      });\n    });\n  }, [children, setToggledFilters]);\n\n  useEffect(() => {\n    setShowFilters(useToolbar ? filterBarExpanded : true);\n  }, [setShowFilters, useToolbar, filterBarExpanded]);\n\n  const classes = useStyles();\n\n  const filterAreaClasses = StyleClassHelper.of(classes.filterArea);\n  if (showFilters) {\n    filterAreaClasses.put(classes.filterAreaOpen);\n  } else {\n    filterAreaClasses.put(classes.filterAreaClosed);\n  }\n\n  const handleToggle = useCallback(\n    (e) => {\n      if (onToggleFilters) {\n        onToggleFilters(enrichEventWithDetails(e, { visible: !showFilters }));\n      }\n      setShowFilters(!showFilters);\n    },\n    [showFilters, onToggleFilters, setShowFilters]\n  );\n\n  const handleDialogSave = useCallback(\n    (e, newRefs, updatedToggledFilters) => {\n      setDialogRefs(newRefs);\n      setToggledFilters((old) => ({ ...old, ...updatedToggledFilters }));\n      if (onFiltersDialogSave) {\n        onFiltersDialogSave(\n          enrichEventWithDetails(e, {\n            elements: newRefs,\n            toggledElements: { ...toggledFilters, ...updatedToggledFilters }\n          })\n        );\n      }\n      handleDialogClose(e);\n    },\n    [setDialogOpen, setDialogRefs, setToggledFilters, onFiltersDialogSave, toggledFilters]\n  );\n\n  const handleDialogOpen = useCallback(\n    (e) => {\n      setDialogOpen(true);\n      if (onFiltersDialogOpen) {\n        onFiltersDialogOpen(enrichEventWithDetails(e));\n      }\n    },\n    [setDialogOpen, onFiltersDialogOpen]\n  );\n\n  const handleDialogClose = useCallback(\n    (e) => {\n      if (onFiltersDialogClose) {\n        onFiltersDialogClose(enrichEventWithDetails(e));\n      }\n      setDialogOpen(false);\n    },\n    [setDialogOpen, onFiltersDialogClose]\n  );\n\n  const passThroughProps = usePassThroughHtmlProps(props, [\n    'onToggleFilters',\n    'onFiltersDialogOpen',\n    'onFiltersDialogClose',\n    'onFiltersDialogSave',\n    'onFiltersDialogClear',\n    'onClear',\n    'onFiltersDialogSelectionChange',\n    'onFiltersDialogSearch',\n    'onGo',\n    'onRestore',\n    'onFiltersDialogCancel'\n  ]);\n\n  const safeChildren = () => {\n    if (Object.keys(toggledFilters).length > 0) {\n      return Children.toArray(children).map((child: ReactElement) => {\n        if (toggledFilters?.[child.key] !== undefined) {\n          return cloneElement(child, {\n            visibleInFilterBar: toggledFilters[child.key]\n          });\n        }\n        return child;\n      });\n    }\n    return Children.toArray(children) as unknown[];\n  };\n\n  const prevChildren = useRef({});\n\n  const renderChildren = () => {\n    const childProps = { considerGroupName, ['data-in-fb']: true, ['data-with-toolbar']: useToolbar } as any;\n    return safeChildren()\n      .filter((item: ReactElement<any, any>) => {\n        return item?.props?.visible && item.props?.visibleInFilterBar;\n      })\n      .map((child: ReactElement<any, any>) => {\n        // necessary because of varying widths of input elements\n        if (filterContainerWidth) {\n          childProps.style = { width: filterContainerWidth, ...child.props.style };\n        }\n        if (!showFilterConfiguration) {\n          return cloneElement(child as ReactElement<any>, { ...childProps });\n        }\n        prevVisibleInFilterBarProps.current[child.key] = child.props.visibleInFilterBar;\n        let filterItemProps = {};\n        if (Object.keys(dialogRefs).length > 0) {\n          const dialogItemRef = dialogRefs[child.key];\n          if (dialogItemRef) {\n            filterItemProps = filterValue(dialogItemRef, child);\n          }\n        }\n        if (!child.props.children) {\n          return cloneElement(child as ReactElement<any>, {\n            ...childProps\n          });\n        }\n        if (\n          prevChildren.current?.[child.key] &&\n          //Input\n          (child.props.children?.props?.value !== prevChildren.current?.[child.key]?.value ||\n            //Checkbox\n            child.props.children?.props?.checked !== prevChildren.current?.[child.key]?.checked ||\n            //Selectable\n            child.props.children?.props?.children?.map((item) => item.props.selected).join(',') !==\n              prevChildren?.current?.[child.key]?.children?.map((item) => item.props.selected).join(','))\n        ) {\n          // @ts-ignore\n          const { [child.key]: omit, ...rest } = dialogRefs;\n          setDialogRefs(rest);\n        }\n        prevChildren.current[child.key] = child.props.children.props;\n\n        return cloneElement(child as ReactElement<any>, {\n          ...childProps,\n          children: {\n            ...child.props.children,\n            props: {\n              ...child.props.children.props,\n              ...filterItemProps\n            },\n            ref: (node) => {\n              filterRefs.current[child.key] = node;\n              syncRef(child.props.children.ref, node);\n            }\n          }\n        });\n      });\n  };\n\n  const handleRestoreFilters = useCallback(\n    (e, source) => {\n      if (source === 'dialog' && showGo) {\n        setDialogOpen(false);\n        setDialogOpen(true);\n      } else if (source === 'filterBar' && showGoOnFB) {\n        setMountFilters(false);\n        setMountFilters(true);\n      }\n      if (onRestore) {\n        onRestore(enrichEventWithDetails(e, { source }));\n      }\n    },\n    [setDialogOpen, showGo, showGoOnFB, onRestore]\n  );\n\n  const handleFBRestore = useCallback(\n    (e) => {\n      handleRestoreFilters(e, 'filterBar');\n    },\n    [handleRestoreFilters]\n  );\n\n  const cssClasses = StyleClassHelper.of(classes.outerContainer);\n  if (className) {\n    cssClasses.put(className);\n  }\n  if (useToolbar) {\n    cssClasses.put(classes.outerContainerWithToolbar);\n  }\n\n  useEffect(() => {\n    prevSearchInputPropsValueRef.current = search?.props?.value;\n  }, [search?.props?.value]);\n\n  const prevSearchInputPropsValue = prevSearchInputPropsValueRef.current;\n\n  useEffect(() => {\n    if (prevSearchInputPropsValue !== search?.props?.value) {\n      setSearchValue(search?.props?.value);\n    }\n  }, [prevSearchInputPropsValue, search?.props?.value]);\n\n  const ToolbarButtons = (\n    <>\n      {showClearOnFB && (\n        <Button onClick={onClear} design={ButtonDesign.Transparent}>\n          {clearText}\n        </Button>\n      )}\n      {showRestoreOnFB && (\n        <Button onClick={handleFBRestore} design={ButtonDesign.Transparent}>\n          {restoreText}\n        </Button>\n      )}\n      {!hideToggleFiltersButton && useToolbar && (\n        <Button onClick={handleToggle} design={ButtonDesign.Transparent} className={classes.showFiltersBtn}>\n          {showFilters ? hideFilterBarText : showFilterBarText}\n        </Button>\n      )}\n      {showFilterConfiguration && (\n        <Button onClick={handleDialogOpen} aria-haspopup=\"dialog\">\n          {`${filtersText}${\n            activeFiltersCount && parseInt(activeFiltersCount as string) > 0 ? ` (${activeFiltersCount})` : ''\n          }`}\n        </Button>\n      )}\n      {showGoOnFB && (\n        <Button onClick={onGo} design={ButtonDesign.Emphasized}>\n          {goText}\n        </Button>\n      )}\n    </>\n  );\n  const hasButtons = ToolbarButtons.props.children.some(Boolean);\n\n  const [filterBarButtonsWidth, setFilterBarButtonsWidth] = useState(undefined);\n  const [filterAreaWidth, setFilterAreaWidth] = useState(undefined);\n  const [firstChildWidth, setFirstChildWidth] = useState(undefined);\n\n  useEffect(() => {\n    const filterAreaObserver = new ResizeObserver(\n      debounce(([area]) => {\n        const firstChild = area.target?.children?.[0];\n        if (firstChild && firstChild.offsetWidth !== firstChildWidth) {\n          setFirstChildWidth(firstChild.offsetWidth + 16 /*margin*/);\n        }\n      }, 100)\n    );\n    if (!useToolbar && filterAreaRef.current) {\n      filterAreaObserver.observe(filterAreaRef.current);\n    }\n    return () => {\n      filterAreaObserver.disconnect();\n    };\n  }, [filterAreaRef.current, useToolbar]);\n\n  useEffect(() => {\n    const filterAreaObserver = new ResizeObserver(\n      debounce(([area]) => {\n        const filterWidth = resizeObserverEntryWidth(area);\n        if (filterWidth !== filterBarButtonsWidth) {\n          setFilterAreaWidth(filterWidth);\n        }\n      }, 100)\n    );\n    if (!useToolbar && filterAreaRef.current) {\n      filterAreaObserver.observe(filterAreaRef.current);\n    }\n    return () => {\n      filterAreaObserver.disconnect();\n    };\n  }, [filterAreaWidth, filterAreaRef.current, useToolbar]);\n\n  useEffect(() => {\n    const filterBarButtonsObserver = new ResizeObserver(\n      debounce(([buttons]) => {\n        const buttonsWidth = resizeObserverEntryWidth(buttons);\n        if (buttonsWidth !== filterBarButtonsWidth) {\n          setFilterBarButtonsWidth(buttonsWidth);\n        }\n      }, 100)\n    );\n    if (!useToolbar && filterBarButtonsRef.current) {\n      filterBarButtonsObserver.observe(filterBarButtonsRef.current);\n    }\n    return () => {\n      filterBarButtonsObserver.disconnect();\n    };\n  }, [filterBarButtonsRef.current, useToolbar, filterBarButtonsWidth]);\n\n  const calculatedChildren = renderChildren();\n  // calculates the number of spacers depending on the available width inside the row\n  const renderSpacers = () => {\n    if (firstChildWidth && filterAreaWidth && filterBarButtonsWidth) {\n      let spacers = [];\n      const filterItemsWidth = calculatedChildren.length * firstChildWidth;\n      //early return if enough space is available\n      if (filterAreaWidth - filterBarButtonsWidth > filterItemsWidth) {\n        return null;\n      }\n      const usedSpaceLastRow = filterItemsWidth % filterAreaWidth;\n      const emptySpaceLastRow = filterAreaWidth - usedSpaceLastRow;\n      // deduct width of buttons container of the empty space in the last row to calculate number of spacers\n      const numberOfSpacers = Math.floor((emptySpaceLastRow - filterBarButtonsWidth) / firstChildWidth);\n      for (let i = 0; i < numberOfSpacers; i++) {\n        spacers.push(\n          <div\n            key={`filter-spacer-${i}`}\n            className={classes.spacer}\n            style={{\n              [`margin${transformRightRTL}`]: '1rem'\n            }}\n          />\n        );\n      }\n      return spacers;\n    }\n    return null;\n  };\n\n  return (\n    <>\n      {dialogOpen && showFilterConfiguration && (\n        <FilterDialog\n          filterBarRefs={filterRefs}\n          open={dialogOpen}\n          handleDialogClose={handleDialogClose}\n          onGo={onGo}\n          handleRestoreFilters={handleRestoreFilters}\n          searchValue={searchRef.current?.children[0].value}\n          handleSearchValueChange={setSearchValue}\n          showClearButton={showClearButton}\n          showRestoreButton={showRestoreButton}\n          showSearch={showSearchOnFiltersDialog}\n          renderFBSearch={search}\n          handleClearFilters={onFiltersDialogClear}\n          handleSelectionChange={onFiltersDialogSelectionChange}\n          handleDialogSave={handleDialogSave}\n          showGoButton={showGo}\n          handleDialogSearch={onFiltersDialogSearch}\n          handleDialogCancel={onFiltersDialogCancel}\n        >\n          {safeChildren()}\n        </FilterDialog>\n      )}\n      <div\n        ref={filterBarRef}\n        className={cssClasses.toString()}\n        style={{ ['--_ui5wcr_filter_group_item_flex_basis']: filterContainerWidth, ...style } as CSSProperties}\n        title={tooltip}\n        slot={slot}\n        {...passThroughProps}\n      >\n        {loading ? (\n          <BusyIndicator active className={classes.loadingContainer} size={BusyIndicatorSize.Large} />\n        ) : (\n          <>\n            {useToolbar && (\n              <Toolbar className={classes.filterBarHeader} toolbarStyle={ToolbarStyle.Clear}>\n                {variants}\n                {variants && search && <ToolbarSeparator />}\n                {search && <div ref={searchRef}>{renderSearchWithValue(search, searchValue)}</div>}\n                {hasButtons && <ToolbarSpacer />}\n                {ToolbarButtons}\n              </Toolbar>\n            )}\n            {mountFilters && (\n              <div className={filterAreaClasses.className} style={{ position: 'relative' }} ref={filterAreaRef}>\n                {calculatedChildren}\n                {!useToolbar && (\n                  <>\n                    {renderSpacers()}\n                    <div\n                      style={{\n                        width: filterBarButtonsWidth ? `${filterBarButtonsWidth}px` : '120px',\n                        minWidth: filterBarButtonsWidth ? `${filterBarButtonsWidth}px` : '120px',\n                        [`margin${transformRightRTL}`]: '1rem'\n                      }}\n                      className={classes.lastSpacer}\n                    >\n                      <div\n                        className={classes.filterBarButtons}\n                        ref={filterBarButtonsRef}\n                        style={{\n                          [`margin${transformRightRTL}`]: '1rem',\n                          left: isRtl ? 0 : 'auto',\n                          right: isRtl ? 'auto' : 0\n                        }}\n                      >\n                        {ToolbarButtons}\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n});\n\nFilterBar.defaultProps = {\n  filterContainerWidth: '13.125rem',\n  useToolbar: true,\n  filterBarExpanded: true,\n  showClearOnFB: false,\n  showGo: false,\n  showRestoreOnFB: false,\n  showGoOnFB: false,\n  showFilterConfiguration: false,\n  showClearButton: false,\n  showRestoreButton: false,\n  showSearchOnFiltersDialog: false,\n  hideToggleFiltersButton: false,\n  considerGroupName: false,\n  loading: false,\n  onToggleFilters: null,\n  onFiltersDialogOpen: null,\n  onFiltersDialogCancel: null,\n  onFiltersDialogClose: null,\n  onFiltersDialogSave: null,\n  onFiltersDialogClear: null,\n  onClear: null,\n  onFiltersDialogSelectionChange: null,\n  onFiltersDialogSearch: null,\n  onGo: null,\n  onRestore: null\n};\n\nFilterBar.displayName = 'FilterBar';\nexport { FilterBar };\n"]},"metadata":{},"sourceType":"module"}