{"ast":null,"code":"var __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n/**\n * RSS util functions.\n */\n\n\nvar RSSUtils = function () {\n  function RSSUtils() {}\n\n  RSSUtils.getRSSvalue = function (widths, maxWidth, noNarrow) {\n    var e_1, _a;\n\n    var n = 0;\n\n    try {\n      for (var widths_1 = __values(widths), widths_1_1 = widths_1.next(); !widths_1_1.done; widths_1_1 = widths_1.next()) {\n        var width = widths_1_1.value;\n        n += width;\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (widths_1_1 && !widths_1_1.done && (_a = widths_1.return)) _a.call(widths_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    var val = 0;\n    var narrowMask = 0;\n    var elements = widths.length;\n\n    for (var bar = 0; bar < elements - 1; bar++) {\n      var elmWidth = void 0;\n\n      for (elmWidth = 1, narrowMask |= 1 << bar; elmWidth < widths[bar]; elmWidth++, narrowMask &= ~(1 << bar)) {\n        var subVal = RSSUtils.combins(n - elmWidth - 1, elements - bar - 2);\n\n        if (noNarrow && narrowMask === 0 && n - elmWidth - (elements - bar - 1) >= elements - bar - 1) {\n          subVal -= RSSUtils.combins(n - elmWidth - (elements - bar), elements - bar - 2);\n        }\n\n        if (elements - bar - 1 > 1) {\n          var lessVal = 0;\n\n          for (var mxwElement = n - elmWidth - (elements - bar - 2); mxwElement > maxWidth; mxwElement--) {\n            lessVal += RSSUtils.combins(n - elmWidth - mxwElement - 1, elements - bar - 3);\n          }\n\n          subVal -= lessVal * (elements - 1 - bar);\n        } else if (n - elmWidth > maxWidth) {\n          subVal--;\n        }\n\n        val += subVal;\n      }\n\n      n -= elmWidth;\n    }\n\n    return val;\n  };\n\n  RSSUtils.combins = function (n, r) {\n    var maxDenom;\n    var minDenom;\n\n    if (n - r > r) {\n      minDenom = r;\n      maxDenom = n - r;\n    } else {\n      minDenom = n - r;\n      maxDenom = r;\n    }\n\n    var val = 1;\n    var j = 1;\n\n    for (var i = n; i > maxDenom; i--) {\n      val *= i;\n\n      if (j <= minDenom) {\n        val /= j;\n        j++;\n      }\n    }\n\n    while (j <= minDenom) {\n      val /= j;\n      j++;\n    }\n\n    return val;\n  };\n\n  return RSSUtils;\n}();\n\nexport default RSSUtils;","map":{"version":3,"sources":["../../../../../src/core/oned/rss/RSSUtils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n/**\n * RSS util functions.\n */\nvar RSSUtils = /** @class */ (function () {\n    function RSSUtils() {\n    }\n    RSSUtils.getRSSvalue = function (widths, maxWidth, noNarrow) {\n        var e_1, _a;\n        var n = 0;\n        try {\n            for (var widths_1 = __values(widths), widths_1_1 = widths_1.next(); !widths_1_1.done; widths_1_1 = widths_1.next()) {\n                var width = widths_1_1.value;\n                n += width;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (widths_1_1 && !widths_1_1.done && (_a = widths_1.return)) _a.call(widths_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var val = 0;\n        var narrowMask = 0;\n        var elements = widths.length;\n        for (var bar = 0; bar < elements - 1; bar++) {\n            var elmWidth = void 0;\n            for (elmWidth = 1, narrowMask |= 1 << bar; elmWidth < widths[bar]; elmWidth++, narrowMask &= ~(1 << bar)) {\n                var subVal = RSSUtils.combins(n - elmWidth - 1, elements - bar - 2);\n                if (noNarrow && (narrowMask === 0) && (n - elmWidth - (elements - bar - 1) >= elements - bar - 1)) {\n                    subVal -= RSSUtils.combins(n - elmWidth - (elements - bar), elements - bar - 2);\n                }\n                if (elements - bar - 1 > 1) {\n                    var lessVal = 0;\n                    for (var mxwElement = n - elmWidth - (elements - bar - 2); mxwElement > maxWidth; mxwElement--) {\n                        lessVal += RSSUtils.combins(n - elmWidth - mxwElement - 1, elements - bar - 3);\n                    }\n                    subVal -= lessVal * (elements - 1 - bar);\n                }\n                else if (n - elmWidth > maxWidth) {\n                    subVal--;\n                }\n                val += subVal;\n            }\n            n -= elmWidth;\n        }\n        return val;\n    };\n    RSSUtils.combins = function (n, r) {\n        var maxDenom;\n        var minDenom;\n        if (n - r > r) {\n            minDenom = r;\n            maxDenom = n - r;\n        }\n        else {\n            minDenom = n - r;\n            maxDenom = r;\n        }\n        var val = 1;\n        var j = 1;\n        for (var i = n; i > maxDenom; i--) {\n            val *= i;\n            if (j <= minDenom) {\n                val /= j;\n                j++;\n            }\n        }\n        while ((j <= minDenom)) {\n            val /= j;\n            j++;\n        }\n        return val;\n    };\n    return RSSUtils;\n}());\nexport default RSSUtils;\n//# sourceMappingURL=RSSUtils.js.map"]},"metadata":{},"sourceType":"module"}