{"ast":null,"code":"import _objectSpread from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { isDown, isUp, isLeft, isRight, isHome, isEnd, isPageDown, isPageUp } from \"../Keys.js\";\nimport getActiveElement from \"../util/getActiveElement.js\";\nimport NavigationMode from \"../types/NavigationMode.js\";\nimport ItemNavigationBehavior from \"../types/ItemNavigationBehavior.js\";\n/**\n * The ItemNavigation class manages the calculations to determine the correct \"tabindex\" for a group of related items inside a root component.\n * Important: ItemNavigation only does the calculations and does not change \"tabindex\" directly, this is a responsibility of the developer.\n *\n * The keys that trigger ItemNavigation are:\n *  - Up/down\n *  - Left/right\n *  - Home/End\n *\n * Usage:\n * 1) Use the \"getItemsCallback\" constructor property to pass a callback to ItemNavigation, which, whenever called, will return the list of items to navigate among.\n *\n * Each item passed to ItemNavigation via \"getItemsCallback\" must be:\n *  - A) either a UI5Element with a \"_tabIndex\" property\n *  - B) or an Object with \"id\" and \"_tabIndex\" properties which represents a part of the root component's shadow DOM.\n *    The \"id\" must be a valid ID within the shadow root of the component ItemNavigation operates on.\n *    This object must not be a DOM object because, as said, ItemNavigation will not set \"tabindex\" on it. It must be a representation of a DOM object only\n *    and the developer has the responsibility to update the \"tabindex\" in the component's DOM.\n *  - C) a combination of the above\n *\n * Whenever the user navigates with the keyboard, ItemNavigation will modify the \"_tabIndex\" properties of the items.\n * It is the items' responsibilities to re-render themselves and apply the correct value of \"tabindex\" (i.e. to map the \"_tabIndex\" ItemNavigation set to them to the \"tabindex\" property).\n * If the items of the ItemNavigation are UI5Elements themselves, this can happen naturally since they will be invalidated by their \"_tabIndex\" property.\n * If the items are Objects with \"id\" and \"_tabIndex\" however, it is the developer's responsibility to apply these and the easiest way is to have the root component invalidated by ItemNavigation.\n * To do so, set the \"affectedPropertiesNames\" constructor property to point to one or more of the root component's properties that need refreshing when \"_tabIndex\" is changed deeply.\n *\n * 2) Call the \"setCurrentItem\" method of ItemNavigation whenever you want to change the current item.\n * This is most commonly required if the user for example clicks on an item and thus selects it directly.\n * Pass as the only argument to \"setCurrentItem\" the item that becomes current (must be one of the items, returned by \"getItemsCallback\").\n *\n * @class\n * @public\n */\n\nvar ItemNavigation = /*#__PURE__*/function () {\n  /**\n   *\n   * @param rootWebComponent the component to operate on (component that slots or contains within its shadow root the items the user navigates among)\n   * @param options Object with configuration options:\n   *  - currentIndex: the index of the item that will be initially selected (from which navigation will begin)\n   *  - navigationMode (Auto|Horizontal|Vertical): whether the items are displayed horizontally (Horizontal), vertically (Vertical) or as a matrix (Auto) meaning the user can navigate in both directions (up/down and left/right)\n   *  - rowSize: tells how many items per row there are when the items are not rendered as a flat list but rather as a matrix. Relevant for navigationMode=Auto\n   * \t- skipItemsSize: tells how many items upon PAGE_UP and PAGE_DOWN should be skipped to applying the focus on the next item\n   *  - behavior (Static|Cycling): tells what to do when trying to navigate beyond the first and last items\n   *    Static means that nothing happens if the user tries to navigate beyond the first/last item.\n   *    Cycling means that when the user navigates beyond the last item they go to the first and vice versa.\n   *  - getItemsCallback: function that, when called, returns an array with all items the user can navigate among\n   *  - affectedPropertiesNames: a list of metadata properties on the root component which, upon user navigation, will be reassigned by address thus causing the root component to invalidate\n   */\n  function ItemNavigation(rootWebComponent) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, ItemNavigation);\n\n    this._setRootComponent(rootWebComponent);\n\n    this._initOptions(options);\n  }\n\n  _createClass(ItemNavigation, [{\n    key: \"_setRootComponent\",\n    value: function _setRootComponent(rootWebComponent) {\n      var _this = this;\n\n      if (!rootWebComponent.isUI5Element) {\n        throw new Error(\"The root web component must be a UI5 Element instance\");\n      }\n\n      this.rootWebComponent = rootWebComponent;\n      this.rootWebComponent.addEventListener(\"keydown\", this._onkeydown.bind(this));\n\n      this.rootWebComponent._onComponentStateFinalized = function () {\n        _this._init();\n      };\n    }\n  }, {\n    key: \"_initOptions\",\n    value: function _initOptions(options) {\n      if (typeof options.getItemsCallback !== \"function\") {\n        throw new Error(\"getItemsCallback is required\");\n      }\n\n      this._getItems = options.getItemsCallback;\n      this._currentIndex = options.currentIndex || 0;\n      this._rowSize = options.rowSize || 1;\n      this._behavior = options.behavior || ItemNavigationBehavior.Static;\n      this._navigationMode = options.navigationMode || NavigationMode.Auto;\n      this._affectedPropertiesNames = options.affectedPropertiesNames || [];\n      this._skipItemsSize = options.skipItemsSize || null;\n    }\n    /**\n     * Call this method to set a new \"current\" (selected) item in the item navigation\n     * Note: the item passed to this function must be one of the items, returned by the getItemsCallback function\n     *\n     * @public\n     * @param current the new selected item\n     */\n\n  }, {\n    key: \"setCurrentItem\",\n    value: function setCurrentItem(current) {\n      var currentItemIndex = this._getItems().indexOf(current);\n\n      if (currentItemIndex === -1) {\n        console.warn(\"The provided item is not managed by ItemNavigation\", current); // eslint-disable-line\n\n        return;\n      }\n\n      this._currentIndex = currentItemIndex;\n\n      this._applyTabIndex();\n    }\n    /**\n     * Call this method to dynamically change the row size\n     *\n     * @public\n     * @param newRowSize\n     */\n\n  }, {\n    key: \"setRowSize\",\n    value: function setRowSize(newRowSize) {\n      this._rowSize = newRowSize;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this2 = this;\n\n      this._getItems().forEach(function (item, idx) {\n        item._tabIndex = idx === _this2._currentIndex ? \"0\" : \"-1\";\n      });\n    }\n  }, {\n    key: \"_onkeydown\",\n    value: function _onkeydown(event) {\n      if (!this._canNavigate()) {\n        return;\n      }\n\n      var horizontalNavigationOn = this._navigationMode === NavigationMode.Horizontal || this._navigationMode === NavigationMode.Auto;\n      var verticalNavigationOn = this._navigationMode === NavigationMode.Vertical || this._navigationMode === NavigationMode.Auto;\n\n      if (isUp(event) && verticalNavigationOn) {\n        this._handleUp();\n      } else if (isDown(event) && verticalNavigationOn) {\n        this._handleDown();\n      } else if (isLeft(event) && horizontalNavigationOn) {\n        this._handleLeft();\n      } else if (isRight(event) && horizontalNavigationOn) {\n        this._handleRight();\n      } else if (isHome(event)) {\n        this._handleHome();\n      } else if (isEnd(event)) {\n        this._handleEnd();\n      } else if (isPageUp(event)) {\n        this._handlePageUp();\n      } else if (isPageDown(event)) {\n        this._handlePageDown();\n      } else {\n        return; // if none of the supported keys is pressed, we don't want to prevent the event or update the item navigation\n      }\n\n      event.preventDefault();\n\n      this._applyTabIndex();\n\n      this._focusCurrentItem();\n    }\n  }, {\n    key: \"_handleUp\",\n    value: function _handleUp() {\n      var itemsLength = this._getItems().length;\n\n      if (this._currentIndex - this._rowSize >= 0) {\n        // no border reached, just decrease the index by a row\n        this._currentIndex -= this._rowSize;\n        return;\n      }\n\n      if (this._behavior === ItemNavigationBehavior.Cyclic) {\n        // if cyclic, go to the **last** item in the **previous** column\n        var firstItemInThisColumnIndex = this._currentIndex % this._rowSize;\n        var firstItemInPreviousColumnIndex = firstItemInThisColumnIndex === 0 ? this._rowSize - 1 : firstItemInThisColumnIndex - 1; // find the first item in the previous column (if the current column is the first column -> move to the last column)\n\n        var rows = Math.ceil(itemsLength / this._rowSize); // how many rows there are (even if incomplete, f.e. for 14 items and _rowSize=4 -> 4 rows total, although only 2 items on the last row)\n\n        var lastItemInPreviousColumnIndex = firstItemInPreviousColumnIndex + (rows - 1) * this._rowSize; // multiply rows by columns, and add the column's first item's index\n\n        if (lastItemInPreviousColumnIndex > itemsLength - 1) {\n          // for incomplete rows, use the previous row's last item, as for them the last item is missing\n          lastItemInPreviousColumnIndex -= this._rowSize;\n        }\n\n        this._currentIndex = lastItemInPreviousColumnIndex;\n      } else {\n        // not cyclic, so just go to the first item\n        this._currentIndex = 0;\n      }\n    }\n  }, {\n    key: \"_handleDown\",\n    value: function _handleDown() {\n      var itemsLength = this._getItems().length;\n\n      if (this._currentIndex + this._rowSize < itemsLength) {\n        // no border reached, just increase the index by a row\n        this._currentIndex += this._rowSize;\n        return;\n      }\n\n      if (this._behavior === ItemNavigationBehavior.Cyclic) {\n        // if cyclic, go to the **first** item in the **next** column\n        var firstItemInThisColumnIndex = this._currentIndex % this._rowSize; // find the first item in the current column first\n\n        var firstItemInNextColumnIndex = (firstItemInThisColumnIndex + 1) % this._rowSize; // to get the first item in the next column, just increase the index by 1. The modulo by rows is for the case when we are at the last column\n\n        this._currentIndex = firstItemInNextColumnIndex;\n      } else {\n        // not cyclic, so just go to the last item\n        this._currentIndex = itemsLength - 1;\n      }\n    }\n  }, {\n    key: \"_handleLeft\",\n    value: function _handleLeft() {\n      var itemsLength = this._getItems().length;\n\n      if (this._currentIndex > 0) {\n        this._currentIndex -= 1;\n        return;\n      }\n\n      if (this._behavior === ItemNavigationBehavior.Cyclic) {\n        // go to the first item in the next column\n        this._currentIndex = itemsLength - 1;\n      }\n    }\n  }, {\n    key: \"_handleRight\",\n    value: function _handleRight() {\n      var itemsLength = this._getItems().length;\n\n      if (this._currentIndex < itemsLength - 1) {\n        this._currentIndex += 1;\n        return;\n      }\n\n      if (this._behavior === ItemNavigationBehavior.Cyclic) {\n        // go to the first item in the next column\n        this._currentIndex = 0;\n      }\n    }\n  }, {\n    key: \"_handleHome\",\n    value: function _handleHome() {\n      var homeEndRange = this._rowSize > 1 ? this._rowSize : this._getItems().length;\n      this._currentIndex -= this._currentIndex % homeEndRange;\n    }\n  }, {\n    key: \"_handleEnd\",\n    value: function _handleEnd() {\n      var homeEndRange = this._rowSize > 1 ? this._rowSize : this._getItems().length;\n      this._currentIndex += homeEndRange - 1 - this._currentIndex % homeEndRange; // eslint-disable-line\n    }\n  }, {\n    key: \"_handlePageUp\",\n    value: function _handlePageUp() {\n      if (this._rowSize > 1) {\n        // eslint-disable-next-line\n        // TODO: handle page up on matrix (grid) layout - ColorPalette, ProductSwitch.\n        return;\n      }\n\n      this._handlePageUpFlat();\n    }\n  }, {\n    key: \"_handlePageDown\",\n    value: function _handlePageDown() {\n      if (this._rowSize > 1) {\n        // eslint-disable-next-line\n        // TODO: handle page up on matrix (grid) layout - ColorPalette, ProductSwitch.\n        return;\n      }\n\n      this._handlePageDownFlat();\n    }\n    /**\n     * Handles PAGE_UP in a flat list-like structure, both vertically and horizontally.\n     */\n\n  }, {\n    key: \"_handlePageUpFlat\",\n    value: function _handlePageUpFlat() {\n      if (this._skipItemsSize === null) {\n        // Move the focus to the very top (as Home).\n        this._currentIndex -= this._currentIndex;\n      }\n\n      if (this._currentIndex + 1 > this._skipItemsSize) {\n        // When there are more than \"skipItemsSize\" number of items to the top,\n        // move the focus up/left with the predefined number.\n        this._currentIndex -= this._skipItemsSize;\n      } else {\n        // Otherwise, move the focus to the very top (as Home).\n        this._currentIndex -= this._currentIndex;\n      }\n    }\n    /**\n     * Handles PAGE_DOWN in a flat list-like structure, both vertically and horizontally.\n     */\n\n  }, {\n    key: \"_handlePageDownFlat\",\n    value: function _handlePageDownFlat() {\n      if (this._skipItemsSize === null) {\n        // Move the focus to the very bottom (as End).\n        this._currentIndex = this._getItems().length - 1;\n      }\n\n      var currentToEndRange = this._getItems().length - this._currentIndex - 1;\n\n      if (currentToEndRange > this._skipItemsSize) {\n        // When there are more than \"skipItemsSize\" number of items until the bottom,\n        // move the focus down/right with the predefined number.\n        this._currentIndex += this._skipItemsSize;\n      } else {\n        // Otherwise, move the focus to the very bottom (as End).\n        this._currentIndex = this._getItems().length - 1;\n      }\n    }\n  }, {\n    key: \"_applyTabIndex\",\n    value: function _applyTabIndex() {\n      var _this3 = this;\n\n      var items = this._getItems();\n\n      for (var i = 0; i < items.length; i++) {\n        items[i]._tabIndex = i === this._currentIndex ? \"0\" : \"-1\";\n      }\n\n      this._affectedPropertiesNames.forEach(function (propName) {\n        var prop = _this3.rootWebComponent[propName];\n        _this3.rootWebComponent[propName] = Array.isArray(prop) ? _toConsumableArray(prop) : _objectSpread({}, prop);\n      });\n    }\n  }, {\n    key: \"_focusCurrentItem\",\n    value: function _focusCurrentItem() {\n      var currentItem = this._getCurrentItem();\n\n      if (currentItem) {\n        currentItem.focus();\n      }\n    }\n  }, {\n    key: \"_canNavigate\",\n    value: function _canNavigate() {\n      var currentItem = this._getCurrentItem();\n\n      var activeElement = getActiveElement();\n      return currentItem && currentItem === activeElement;\n    }\n  }, {\n    key: \"_getCurrentItem\",\n    value: function _getCurrentItem() {\n      var items = this._getItems();\n\n      if (!items.length) {\n        return null;\n      } // normalize the index\n\n\n      while (this._currentIndex >= items.length) {\n        this._currentIndex -= this._rowSize;\n      }\n\n      if (this._currentIndex < 0) {\n        this._currentIndex = 0;\n      }\n\n      var currentItem = items[this._currentIndex];\n\n      if (!currentItem) {\n        return;\n      }\n\n      if (currentItem.isUI5Element) {\n        return currentItem.getFocusDomRef();\n      }\n\n      if (!this.rootWebComponent.getDomRef()) {\n        return;\n      }\n\n      return this.rootWebComponent.getDomRef().querySelector(\"#\".concat(currentItem.id));\n    }\n  }]);\n\n  return ItemNavigation;\n}();\n\nexport default ItemNavigation;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-base/dist/delegate/ItemNavigation.js"],"names":["isDown","isUp","isLeft","isRight","isHome","isEnd","isPageDown","isPageUp","getActiveElement","NavigationMode","ItemNavigationBehavior","ItemNavigation","rootWebComponent","options","_setRootComponent","_initOptions","isUI5Element","Error","addEventListener","_onkeydown","bind","_onComponentStateFinalized","_init","getItemsCallback","_getItems","_currentIndex","currentIndex","_rowSize","rowSize","_behavior","behavior","Static","_navigationMode","navigationMode","Auto","_affectedPropertiesNames","affectedPropertiesNames","_skipItemsSize","skipItemsSize","current","currentItemIndex","indexOf","console","warn","_applyTabIndex","newRowSize","forEach","item","idx","_tabIndex","event","_canNavigate","horizontalNavigationOn","Horizontal","verticalNavigationOn","Vertical","_handleUp","_handleDown","_handleLeft","_handleRight","_handleHome","_handleEnd","_handlePageUp","_handlePageDown","preventDefault","_focusCurrentItem","itemsLength","length","Cyclic","firstItemInThisColumnIndex","firstItemInPreviousColumnIndex","rows","Math","ceil","lastItemInPreviousColumnIndex","firstItemInNextColumnIndex","homeEndRange","_handlePageUpFlat","_handlePageDownFlat","currentToEndRange","items","i","propName","prop","Array","isArray","currentItem","_getCurrentItem","focus","activeElement","getFocusDomRef","getDomRef","querySelector","id"],"mappings":";;;;AAAA,SACCA,MADD,EAECC,IAFD,EAGCC,MAHD,EAICC,OAJD,EAKCC,MALD,EAMCC,KAND,EAOCC,UAPD,EAQCC,QARD,QASO,YATP;AAUA,OAAOC,gBAAP,MAA6B,6BAA7B;AAEA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,sBAAP,MAAmC,oCAAnC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACMC,c;AACL;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,0BAAYC,gBAAZ,EAA4C;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAA;;AAC3C,SAAKC,iBAAL,CAAuBF,gBAAvB;;AACA,SAAKG,YAAL,CAAkBF,OAAlB;AACA;;;;WAED,2BAAkBD,gBAAlB,EAAoC;AAAA;;AACnC,UAAI,CAACA,gBAAgB,CAACI,YAAtB,EAAoC;AACnC,cAAM,IAAIC,KAAJ,CAAU,uDAAV,CAAN;AACA;;AACD,WAAKL,gBAAL,GAAwBA,gBAAxB;AACA,WAAKA,gBAAL,CAAsBM,gBAAtB,CAAuC,SAAvC,EAAkD,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlD;;AACA,WAAKR,gBAAL,CAAsBS,0BAAtB,GAAmD,YAAM;AACxD,QAAA,KAAI,CAACC,KAAL;AACA,OAFD;AAGA;;;WAED,sBAAaT,OAAb,EAAsB;AACrB,UAAI,OAAOA,OAAO,CAACU,gBAAf,KAAoC,UAAxC,EAAoD;AACnD,cAAM,IAAIN,KAAJ,CAAU,8BAAV,CAAN;AACA;;AAED,WAAKO,SAAL,GAAiBX,OAAO,CAACU,gBAAzB;AACA,WAAKE,aAAL,GAAqBZ,OAAO,CAACa,YAAR,IAAwB,CAA7C;AACA,WAAKC,QAAL,GAAgBd,OAAO,CAACe,OAAR,IAAmB,CAAnC;AACA,WAAKC,SAAL,GAAiBhB,OAAO,CAACiB,QAAR,IAAoBpB,sBAAsB,CAACqB,MAA5D;AACA,WAAKC,eAAL,GAAuBnB,OAAO,CAACoB,cAAR,IAA0BxB,cAAc,CAACyB,IAAhE;AACA,WAAKC,wBAAL,GAAgCtB,OAAO,CAACuB,uBAAR,IAAmC,EAAnE;AACA,WAAKC,cAAL,GAAsBxB,OAAO,CAACyB,aAAR,IAAyB,IAA/C;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;;WACC,wBAAeC,OAAf,EAAwB;AACvB,UAAMC,gBAAgB,GAAG,KAAKhB,SAAL,GAAiBiB,OAAjB,CAAyBF,OAAzB,CAAzB;;AAEA,UAAIC,gBAAgB,KAAK,CAAC,CAA1B,EAA6B;AAC5BE,QAAAA,OAAO,CAACC,IAAR,uDAAmEJ,OAAnE,EAD4B,CACiD;;AAC7E;AACA;;AAED,WAAKd,aAAL,GAAqBe,gBAArB;;AACA,WAAKI,cAAL;AACA;AAED;AACD;AACA;AACA;AACA;AACA;;;;WACC,oBAAWC,UAAX,EAAuB;AACtB,WAAKlB,QAAL,GAAgBkB,UAAhB;AACA;;;WAED,iBAAQ;AAAA;;AACP,WAAKrB,SAAL,GAAiBsB,OAAjB,CAAyB,UAACC,IAAD,EAAOC,GAAP,EAAe;AACvCD,QAAAA,IAAI,CAACE,SAAL,GAAkBD,GAAG,KAAK,MAAI,CAACvB,aAAd,GAA+B,GAA/B,GAAqC,IAAtD;AACA,OAFD;AAGA;;;WAED,oBAAWyB,KAAX,EAAkB;AACjB,UAAI,CAAC,KAAKC,YAAL,EAAL,EAA0B;AACzB;AACA;;AAED,UAAMC,sBAAsB,GAAG,KAAKpB,eAAL,KAAyBvB,cAAc,CAAC4C,UAAxC,IAAsD,KAAKrB,eAAL,KAAyBvB,cAAc,CAACyB,IAA7H;AACA,UAAMoB,oBAAoB,GAAG,KAAKtB,eAAL,KAAyBvB,cAAc,CAAC8C,QAAxC,IAAoD,KAAKvB,eAAL,KAAyBvB,cAAc,CAACyB,IAAzH;;AAEA,UAAIjC,IAAI,CAACiD,KAAD,CAAJ,IAAeI,oBAAnB,EAAyC;AACxC,aAAKE,SAAL;AACA,OAFD,MAEO,IAAIxD,MAAM,CAACkD,KAAD,CAAN,IAAiBI,oBAArB,EAA2C;AACjD,aAAKG,WAAL;AACA,OAFM,MAEA,IAAIvD,MAAM,CAACgD,KAAD,CAAN,IAAiBE,sBAArB,EAA6C;AACnD,aAAKM,WAAL;AACA,OAFM,MAEA,IAAIvD,OAAO,CAAC+C,KAAD,CAAP,IAAkBE,sBAAtB,EAA8C;AACpD,aAAKO,YAAL;AACA,OAFM,MAEA,IAAIvD,MAAM,CAAC8C,KAAD,CAAV,EAAmB;AACzB,aAAKU,WAAL;AACA,OAFM,MAEA,IAAIvD,KAAK,CAAC6C,KAAD,CAAT,EAAkB;AACxB,aAAKW,UAAL;AACA,OAFM,MAEA,IAAItD,QAAQ,CAAC2C,KAAD,CAAZ,EAAqB;AAC3B,aAAKY,aAAL;AACA,OAFM,MAEA,IAAIxD,UAAU,CAAC4C,KAAD,CAAd,EAAuB;AAC7B,aAAKa,eAAL;AACA,OAFM,MAEA;AACN,eADM,CACE;AACR;;AAEDb,MAAAA,KAAK,CAACc,cAAN;;AACA,WAAKpB,cAAL;;AACA,WAAKqB,iBAAL;AACA;;;WAED,qBAAY;AACX,UAAMC,WAAW,GAAG,KAAK1C,SAAL,GAAiB2C,MAArC;;AACA,UAAI,KAAK1C,aAAL,GAAqB,KAAKE,QAA1B,IAAsC,CAA1C,EAA6C;AAAE;AAC9C,aAAKF,aAAL,IAAsB,KAAKE,QAA3B;AACA;AACA;;AAED,UAAI,KAAKE,SAAL,KAAmBnB,sBAAsB,CAAC0D,MAA9C,EAAsD;AAAE;AACvD,YAAMC,0BAA0B,GAAG,KAAK5C,aAAL,GAAqB,KAAKE,QAA7D;AACA,YAAM2C,8BAA8B,GAAGD,0BAA0B,KAAK,CAA/B,GAAmC,KAAK1C,QAAL,GAAgB,CAAnD,GAAuD0C,0BAA0B,GAAG,CAA3H,CAFqD,CAEyE;;AAC9H,YAAME,IAAI,GAAGC,IAAI,CAACC,IAAL,CAAUP,WAAW,GAAG,KAAKvC,QAA7B,CAAb,CAHqD,CAGA;;AACrD,YAAI+C,6BAA6B,GAAGJ,8BAA8B,GAAG,CAACC,IAAI,GAAG,CAAR,IAAa,KAAK5C,QAAvF,CAJqD,CAI4C;;AACjG,YAAI+C,6BAA6B,GAAGR,WAAW,GAAG,CAAlD,EAAqD;AAAE;AACtDQ,UAAAA,6BAA6B,IAAI,KAAK/C,QAAtC;AACA;;AACD,aAAKF,aAAL,GAAqBiD,6BAArB;AACA,OATD,MASO;AAAE;AACR,aAAKjD,aAAL,GAAqB,CAArB;AACA;AACD;;;WAED,uBAAc;AACb,UAAMyC,WAAW,GAAG,KAAK1C,SAAL,GAAiB2C,MAArC;;AACA,UAAI,KAAK1C,aAAL,GAAqB,KAAKE,QAA1B,GAAqCuC,WAAzC,EAAsD;AAAE;AACvD,aAAKzC,aAAL,IAAsB,KAAKE,QAA3B;AACA;AACA;;AAED,UAAI,KAAKE,SAAL,KAAmBnB,sBAAsB,CAAC0D,MAA9C,EAAsD;AAAE;AACvD,YAAMC,0BAA0B,GAAG,KAAK5C,aAAL,GAAqB,KAAKE,QAA7D,CADqD,CACkB;;AACvE,YAAMgD,0BAA0B,GAAG,CAACN,0BAA0B,GAAG,CAA9B,IAAmC,KAAK1C,QAA3E,CAFqD,CAEgC;;AACrF,aAAKF,aAAL,GAAqBkD,0BAArB;AACA,OAJD,MAIO;AAAE;AACR,aAAKlD,aAAL,GAAqByC,WAAW,GAAG,CAAnC;AACA;AACD;;;WAED,uBAAc;AACb,UAAMA,WAAW,GAAG,KAAK1C,SAAL,GAAiB2C,MAArC;;AACA,UAAI,KAAK1C,aAAL,GAAqB,CAAzB,EAA4B;AAC3B,aAAKA,aAAL,IAAsB,CAAtB;AACA;AACA;;AAED,UAAI,KAAKI,SAAL,KAAmBnB,sBAAsB,CAAC0D,MAA9C,EAAsD;AAAE;AACvD,aAAK3C,aAAL,GAAqByC,WAAW,GAAG,CAAnC;AACA;AACD;;;WAED,wBAAe;AACd,UAAMA,WAAW,GAAG,KAAK1C,SAAL,GAAiB2C,MAArC;;AACA,UAAI,KAAK1C,aAAL,GAAqByC,WAAW,GAAG,CAAvC,EAA0C;AACzC,aAAKzC,aAAL,IAAsB,CAAtB;AACA;AACA;;AAED,UAAI,KAAKI,SAAL,KAAmBnB,sBAAsB,CAAC0D,MAA9C,EAAsD;AAAE;AACvD,aAAK3C,aAAL,GAAqB,CAArB;AACA;AACD;;;WAED,uBAAc;AACb,UAAMmD,YAAY,GAAG,KAAKjD,QAAL,GAAgB,CAAhB,GAAoB,KAAKA,QAAzB,GAAoC,KAAKH,SAAL,GAAiB2C,MAA1E;AACA,WAAK1C,aAAL,IAAsB,KAAKA,aAAL,GAAqBmD,YAA3C;AACA;;;WAED,sBAAa;AACZ,UAAMA,YAAY,GAAG,KAAKjD,QAAL,GAAgB,CAAhB,GAAoB,KAAKA,QAAzB,GAAoC,KAAKH,SAAL,GAAiB2C,MAA1E;AACA,WAAK1C,aAAL,IAAuBmD,YAAY,GAAG,CAAf,GAAmB,KAAKnD,aAAL,GAAqBmD,YAA/D,CAFY,CAEkE;AAC9E;;;WAED,yBAAgB;AACf,UAAI,KAAKjD,QAAL,GAAgB,CAApB,EAAuB;AACtB;AACA;AACA;AACA;;AACD,WAAKkD,iBAAL;AACA;;;WAED,2BAAkB;AACjB,UAAI,KAAKlD,QAAL,GAAgB,CAApB,EAAuB;AACtB;AACA;AACA;AACA;;AACD,WAAKmD,mBAAL;AACA;AAED;AACD;AACA;;;;WACC,6BAAoB;AACnB,UAAI,KAAKzC,cAAL,KAAwB,IAA5B,EAAkC;AACjC;AACA,aAAKZ,aAAL,IAAsB,KAAKA,aAA3B;AACA;;AAED,UAAI,KAAKA,aAAL,GAAqB,CAArB,GAAyB,KAAKY,cAAlC,EAAkD;AACjD;AACA;AACA,aAAKZ,aAAL,IAAsB,KAAKY,cAA3B;AACA,OAJD,MAIO;AACN;AACA,aAAKZ,aAAL,IAAsB,KAAKA,aAA3B;AACA;AACD;AAED;AACD;AACA;;;;WACC,+BAAsB;AACrB,UAAI,KAAKY,cAAL,KAAwB,IAA5B,EAAkC;AACjC;AACA,aAAKZ,aAAL,GAAqB,KAAKD,SAAL,GAAiB2C,MAAjB,GAA0B,CAA/C;AACA;;AAED,UAAMY,iBAAiB,GAAG,KAAKvD,SAAL,GAAiB2C,MAAjB,GAA0B,KAAK1C,aAA/B,GAA+C,CAAzE;;AAEA,UAAIsD,iBAAiB,GAAG,KAAK1C,cAA7B,EAA6C;AAC5C;AACA;AACA,aAAKZ,aAAL,IAAsB,KAAKY,cAA3B;AACA,OAJD,MAIO;AACN;AACA,aAAKZ,aAAL,GAAqB,KAAKD,SAAL,GAAiB2C,MAAjB,GAA0B,CAA/C;AACA;AACD;;;WAED,0BAAiB;AAAA;;AAChB,UAAMa,KAAK,GAAG,KAAKxD,SAAL,EAAd;;AACA,WAAK,IAAIyD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACb,MAA1B,EAAkCc,CAAC,EAAnC,EAAuC;AACtCD,QAAAA,KAAK,CAACC,CAAD,CAAL,CAAShC,SAAT,GAAqBgC,CAAC,KAAK,KAAKxD,aAAX,GAA2B,GAA3B,GAAiC,IAAtD;AACA;;AAED,WAAKU,wBAAL,CAA8BW,OAA9B,CAAsC,UAAAoC,QAAQ,EAAI;AACjD,YAAMC,IAAI,GAAG,MAAI,CAACvE,gBAAL,CAAsBsE,QAAtB,CAAb;AACA,QAAA,MAAI,CAACtE,gBAAL,CAAsBsE,QAAtB,IAAkCE,KAAK,CAACC,OAAN,CAAcF,IAAd,uBAA0BA,IAA1B,sBAAuCA,IAAvC,CAAlC;AACA,OAHD;AAIA;;;WAED,6BAAoB;AACnB,UAAMG,WAAW,GAAG,KAAKC,eAAL,EAApB;;AACA,UAAID,WAAJ,EAAiB;AAChBA,QAAAA,WAAW,CAACE,KAAZ;AACA;AACD;;;WAED,wBAAe;AACd,UAAMF,WAAW,GAAG,KAAKC,eAAL,EAApB;;AACA,UAAME,aAAa,GAAGjF,gBAAgB,EAAtC;AAEA,aAAO8E,WAAW,IAAIA,WAAW,KAAKG,aAAtC;AACA;;;WAED,2BAAkB;AACjB,UAAMT,KAAK,GAAG,KAAKxD,SAAL,EAAd;;AAEA,UAAI,CAACwD,KAAK,CAACb,MAAX,EAAmB;AAClB,eAAO,IAAP;AACA,OALgB,CAOjB;;;AACA,aAAO,KAAK1C,aAAL,IAAsBuD,KAAK,CAACb,MAAnC,EAA2C;AAC1C,aAAK1C,aAAL,IAAsB,KAAKE,QAA3B;AACA;;AAED,UAAI,KAAKF,aAAL,GAAqB,CAAzB,EAA4B;AAC3B,aAAKA,aAAL,GAAqB,CAArB;AACA;;AAED,UAAM6D,WAAW,GAAGN,KAAK,CAAC,KAAKvD,aAAN,CAAzB;;AAEA,UAAI,CAAC6D,WAAL,EAAkB;AACjB;AACA;;AAED,UAAIA,WAAW,CAACtE,YAAhB,EAA8B;AAC7B,eAAOsE,WAAW,CAACI,cAAZ,EAAP;AACA;;AAED,UAAI,CAAC,KAAK9E,gBAAL,CAAsB+E,SAAtB,EAAL,EAAwC;AACvC;AACA;;AAED,aAAO,KAAK/E,gBAAL,CAAsB+E,SAAtB,GAAkCC,aAAlC,YAAoDN,WAAW,CAACO,EAAhE,EAAP;AACA;;;;;;AAGF,eAAelF,cAAf","sourcesContent":["import {\n\tisDown,\n\tisUp,\n\tisLeft,\n\tisRight,\n\tisHome,\n\tisEnd,\n\tisPageDown,\n\tisPageUp,\n} from \"../Keys.js\";\nimport getActiveElement from \"../util/getActiveElement.js\";\n\nimport NavigationMode from \"../types/NavigationMode.js\";\nimport ItemNavigationBehavior from \"../types/ItemNavigationBehavior.js\";\n\n/**\n * The ItemNavigation class manages the calculations to determine the correct \"tabindex\" for a group of related items inside a root component.\n * Important: ItemNavigation only does the calculations and does not change \"tabindex\" directly, this is a responsibility of the developer.\n *\n * The keys that trigger ItemNavigation are:\n *  - Up/down\n *  - Left/right\n *  - Home/End\n *\n * Usage:\n * 1) Use the \"getItemsCallback\" constructor property to pass a callback to ItemNavigation, which, whenever called, will return the list of items to navigate among.\n *\n * Each item passed to ItemNavigation via \"getItemsCallback\" must be:\n *  - A) either a UI5Element with a \"_tabIndex\" property\n *  - B) or an Object with \"id\" and \"_tabIndex\" properties which represents a part of the root component's shadow DOM.\n *    The \"id\" must be a valid ID within the shadow root of the component ItemNavigation operates on.\n *    This object must not be a DOM object because, as said, ItemNavigation will not set \"tabindex\" on it. It must be a representation of a DOM object only\n *    and the developer has the responsibility to update the \"tabindex\" in the component's DOM.\n *  - C) a combination of the above\n *\n * Whenever the user navigates with the keyboard, ItemNavigation will modify the \"_tabIndex\" properties of the items.\n * It is the items' responsibilities to re-render themselves and apply the correct value of \"tabindex\" (i.e. to map the \"_tabIndex\" ItemNavigation set to them to the \"tabindex\" property).\n * If the items of the ItemNavigation are UI5Elements themselves, this can happen naturally since they will be invalidated by their \"_tabIndex\" property.\n * If the items are Objects with \"id\" and \"_tabIndex\" however, it is the developer's responsibility to apply these and the easiest way is to have the root component invalidated by ItemNavigation.\n * To do so, set the \"affectedPropertiesNames\" constructor property to point to one or more of the root component's properties that need refreshing when \"_tabIndex\" is changed deeply.\n *\n * 2) Call the \"setCurrentItem\" method of ItemNavigation whenever you want to change the current item.\n * This is most commonly required if the user for example clicks on an item and thus selects it directly.\n * Pass as the only argument to \"setCurrentItem\" the item that becomes current (must be one of the items, returned by \"getItemsCallback\").\n *\n * @class\n * @public\n */\nclass ItemNavigation {\n\t/**\n\t *\n\t * @param rootWebComponent the component to operate on (component that slots or contains within its shadow root the items the user navigates among)\n\t * @param options Object with configuration options:\n\t *  - currentIndex: the index of the item that will be initially selected (from which navigation will begin)\n\t *  - navigationMode (Auto|Horizontal|Vertical): whether the items are displayed horizontally (Horizontal), vertically (Vertical) or as a matrix (Auto) meaning the user can navigate in both directions (up/down and left/right)\n\t *  - rowSize: tells how many items per row there are when the items are not rendered as a flat list but rather as a matrix. Relevant for navigationMode=Auto\n\t * \t- skipItemsSize: tells how many items upon PAGE_UP and PAGE_DOWN should be skipped to applying the focus on the next item\n\t *  - behavior (Static|Cycling): tells what to do when trying to navigate beyond the first and last items\n\t *    Static means that nothing happens if the user tries to navigate beyond the first/last item.\n\t *    Cycling means that when the user navigates beyond the last item they go to the first and vice versa.\n\t *  - getItemsCallback: function that, when called, returns an array with all items the user can navigate among\n\t *  - affectedPropertiesNames: a list of metadata properties on the root component which, upon user navigation, will be reassigned by address thus causing the root component to invalidate\n\t */\n\tconstructor(rootWebComponent, options = {}) {\n\t\tthis._setRootComponent(rootWebComponent);\n\t\tthis._initOptions(options);\n\t}\n\n\t_setRootComponent(rootWebComponent) {\n\t\tif (!rootWebComponent.isUI5Element) {\n\t\t\tthrow new Error(\"The root web component must be a UI5 Element instance\");\n\t\t}\n\t\tthis.rootWebComponent = rootWebComponent;\n\t\tthis.rootWebComponent.addEventListener(\"keydown\", this._onkeydown.bind(this));\n\t\tthis.rootWebComponent._onComponentStateFinalized = () => {\n\t\t\tthis._init();\n\t\t};\n\t}\n\n\t_initOptions(options) {\n\t\tif (typeof options.getItemsCallback !== \"function\") {\n\t\t\tthrow new Error(\"getItemsCallback is required\");\n\t\t}\n\n\t\tthis._getItems = options.getItemsCallback;\n\t\tthis._currentIndex = options.currentIndex || 0;\n\t\tthis._rowSize = options.rowSize || 1;\n\t\tthis._behavior = options.behavior || ItemNavigationBehavior.Static;\n\t\tthis._navigationMode = options.navigationMode || NavigationMode.Auto;\n\t\tthis._affectedPropertiesNames = options.affectedPropertiesNames || [];\n\t\tthis._skipItemsSize = options.skipItemsSize || null;\n\t}\n\n\t/**\n\t * Call this method to set a new \"current\" (selected) item in the item navigation\n\t * Note: the item passed to this function must be one of the items, returned by the getItemsCallback function\n\t *\n\t * @public\n\t * @param current the new selected item\n\t */\n\tsetCurrentItem(current) {\n\t\tconst currentItemIndex = this._getItems().indexOf(current);\n\n\t\tif (currentItemIndex === -1) {\n\t\t\tconsole.warn(`The provided item is not managed by ItemNavigation`, current); // eslint-disable-line\n\t\t\treturn;\n\t\t}\n\n\t\tthis._currentIndex = currentItemIndex;\n\t\tthis._applyTabIndex();\n\t}\n\n\t/**\n\t * Call this method to dynamically change the row size\n\t *\n\t * @public\n\t * @param newRowSize\n\t */\n\tsetRowSize(newRowSize) {\n\t\tthis._rowSize = newRowSize;\n\t}\n\n\t_init() {\n\t\tthis._getItems().forEach((item, idx) => {\n\t\t\titem._tabIndex = (idx === this._currentIndex) ? \"0\" : \"-1\";\n\t\t});\n\t}\n\n\t_onkeydown(event) {\n\t\tif (!this._canNavigate()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst horizontalNavigationOn = this._navigationMode === NavigationMode.Horizontal || this._navigationMode === NavigationMode.Auto;\n\t\tconst verticalNavigationOn = this._navigationMode === NavigationMode.Vertical || this._navigationMode === NavigationMode.Auto;\n\n\t\tif (isUp(event) && verticalNavigationOn) {\n\t\t\tthis._handleUp();\n\t\t} else if (isDown(event) && verticalNavigationOn) {\n\t\t\tthis._handleDown();\n\t\t} else if (isLeft(event) && horizontalNavigationOn) {\n\t\t\tthis._handleLeft();\n\t\t} else if (isRight(event) && horizontalNavigationOn) {\n\t\t\tthis._handleRight();\n\t\t} else if (isHome(event)) {\n\t\t\tthis._handleHome();\n\t\t} else if (isEnd(event)) {\n\t\t\tthis._handleEnd();\n\t\t} else if (isPageUp(event)) {\n\t\t\tthis._handlePageUp();\n\t\t} else if (isPageDown(event)) {\n\t\t\tthis._handlePageDown();\n\t\t} else {\n\t\t\treturn; // if none of the supported keys is pressed, we don't want to prevent the event or update the item navigation\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tthis._applyTabIndex();\n\t\tthis._focusCurrentItem();\n\t}\n\n\t_handleUp() {\n\t\tconst itemsLength = this._getItems().length;\n\t\tif (this._currentIndex - this._rowSize >= 0) { // no border reached, just decrease the index by a row\n\t\t\tthis._currentIndex -= this._rowSize;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._behavior === ItemNavigationBehavior.Cyclic) { // if cyclic, go to the **last** item in the **previous** column\n\t\t\tconst firstItemInThisColumnIndex = this._currentIndex % this._rowSize;\n\t\t\tconst firstItemInPreviousColumnIndex = firstItemInThisColumnIndex === 0 ? this._rowSize - 1 : firstItemInThisColumnIndex - 1; // find the first item in the previous column (if the current column is the first column -> move to the last column)\n\t\t\tconst rows = Math.ceil(itemsLength / this._rowSize); // how many rows there are (even if incomplete, f.e. for 14 items and _rowSize=4 -> 4 rows total, although only 2 items on the last row)\n\t\t\tlet lastItemInPreviousColumnIndex = firstItemInPreviousColumnIndex + (rows - 1) * this._rowSize; // multiply rows by columns, and add the column's first item's index\n\t\t\tif (lastItemInPreviousColumnIndex > itemsLength - 1) { // for incomplete rows, use the previous row's last item, as for them the last item is missing\n\t\t\t\tlastItemInPreviousColumnIndex -= this._rowSize;\n\t\t\t}\n\t\t\tthis._currentIndex = lastItemInPreviousColumnIndex;\n\t\t} else { // not cyclic, so just go to the first item\n\t\t\tthis._currentIndex = 0;\n\t\t}\n\t}\n\n\t_handleDown() {\n\t\tconst itemsLength = this._getItems().length;\n\t\tif (this._currentIndex + this._rowSize < itemsLength) { // no border reached, just increase the index by a row\n\t\t\tthis._currentIndex += this._rowSize;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._behavior === ItemNavigationBehavior.Cyclic) { // if cyclic, go to the **first** item in the **next** column\n\t\t\tconst firstItemInThisColumnIndex = this._currentIndex % this._rowSize; // find the first item in the current column first\n\t\t\tconst firstItemInNextColumnIndex = (firstItemInThisColumnIndex + 1) % this._rowSize; // to get the first item in the next column, just increase the index by 1. The modulo by rows is for the case when we are at the last column\n\t\t\tthis._currentIndex = firstItemInNextColumnIndex;\n\t\t} else { // not cyclic, so just go to the last item\n\t\t\tthis._currentIndex = itemsLength - 1;\n\t\t}\n\t}\n\n\t_handleLeft() {\n\t\tconst itemsLength = this._getItems().length;\n\t\tif (this._currentIndex > 0) {\n\t\t\tthis._currentIndex -= 1;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._behavior === ItemNavigationBehavior.Cyclic) { // go to the first item in the next column\n\t\t\tthis._currentIndex = itemsLength - 1;\n\t\t}\n\t}\n\n\t_handleRight() {\n\t\tconst itemsLength = this._getItems().length;\n\t\tif (this._currentIndex < itemsLength - 1) {\n\t\t\tthis._currentIndex += 1;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._behavior === ItemNavigationBehavior.Cyclic) { // go to the first item in the next column\n\t\t\tthis._currentIndex = 0;\n\t\t}\n\t}\n\n\t_handleHome() {\n\t\tconst homeEndRange = this._rowSize > 1 ? this._rowSize : this._getItems().length;\n\t\tthis._currentIndex -= this._currentIndex % homeEndRange;\n\t}\n\n\t_handleEnd() {\n\t\tconst homeEndRange = this._rowSize > 1 ? this._rowSize : this._getItems().length;\n\t\tthis._currentIndex += (homeEndRange - 1 - this._currentIndex % homeEndRange); // eslint-disable-line\n\t}\n\n\t_handlePageUp() {\n\t\tif (this._rowSize > 1) {\n\t\t\t// eslint-disable-next-line\n\t\t\t// TODO: handle page up on matrix (grid) layout - ColorPalette, ProductSwitch.\n\t\t\treturn;\n\t\t}\n\t\tthis._handlePageUpFlat();\n\t}\n\n\t_handlePageDown() {\n\t\tif (this._rowSize > 1) {\n\t\t\t// eslint-disable-next-line\n\t\t\t// TODO: handle page up on matrix (grid) layout - ColorPalette, ProductSwitch.\n\t\t\treturn;\n\t\t}\n\t\tthis._handlePageDownFlat();\n\t}\n\n\t/**\n\t * Handles PAGE_UP in a flat list-like structure, both vertically and horizontally.\n\t */\n\t_handlePageUpFlat() {\n\t\tif (this._skipItemsSize === null) {\n\t\t\t// Move the focus to the very top (as Home).\n\t\t\tthis._currentIndex -= this._currentIndex;\n\t\t}\n\n\t\tif (this._currentIndex + 1 > this._skipItemsSize) {\n\t\t\t// When there are more than \"skipItemsSize\" number of items to the top,\n\t\t\t// move the focus up/left with the predefined number.\n\t\t\tthis._currentIndex -= this._skipItemsSize;\n\t\t} else {\n\t\t\t// Otherwise, move the focus to the very top (as Home).\n\t\t\tthis._currentIndex -= this._currentIndex;\n\t\t}\n\t}\n\n\t/**\n\t * Handles PAGE_DOWN in a flat list-like structure, both vertically and horizontally.\n\t */\n\t_handlePageDownFlat() {\n\t\tif (this._skipItemsSize === null) {\n\t\t\t// Move the focus to the very bottom (as End).\n\t\t\tthis._currentIndex = this._getItems().length - 1;\n\t\t}\n\n\t\tconst currentToEndRange = this._getItems().length - this._currentIndex - 1;\n\n\t\tif (currentToEndRange > this._skipItemsSize) {\n\t\t\t// When there are more than \"skipItemsSize\" number of items until the bottom,\n\t\t\t// move the focus down/right with the predefined number.\n\t\t\tthis._currentIndex += this._skipItemsSize;\n\t\t} else {\n\t\t\t// Otherwise, move the focus to the very bottom (as End).\n\t\t\tthis._currentIndex = this._getItems().length - 1;\n\t\t}\n\t}\n\n\t_applyTabIndex() {\n\t\tconst items = this._getItems();\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\titems[i]._tabIndex = i === this._currentIndex ? \"0\" : \"-1\";\n\t\t}\n\n\t\tthis._affectedPropertiesNames.forEach(propName => {\n\t\t\tconst prop = this.rootWebComponent[propName];\n\t\t\tthis.rootWebComponent[propName] = Array.isArray(prop) ? [...prop] : { ...prop };\n\t\t});\n\t}\n\n\t_focusCurrentItem() {\n\t\tconst currentItem = this._getCurrentItem();\n\t\tif (currentItem) {\n\t\t\tcurrentItem.focus();\n\t\t}\n\t}\n\n\t_canNavigate() {\n\t\tconst currentItem = this._getCurrentItem();\n\t\tconst activeElement = getActiveElement();\n\n\t\treturn currentItem && currentItem === activeElement;\n\t}\n\n\t_getCurrentItem() {\n\t\tconst items = this._getItems();\n\n\t\tif (!items.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// normalize the index\n\t\twhile (this._currentIndex >= items.length) {\n\t\t\tthis._currentIndex -= this._rowSize;\n\t\t}\n\n\t\tif (this._currentIndex < 0) {\n\t\t\tthis._currentIndex = 0;\n\t\t}\n\n\t\tconst currentItem = items[this._currentIndex];\n\n\t\tif (!currentItem) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentItem.isUI5Element) {\n\t\t\treturn currentItem.getFocusDomRef();\n\t\t}\n\n\t\tif (!this.rootWebComponent.getDomRef()) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.rootWebComponent.getDomRef().querySelector(`#${currentItem.id}`);\n\t}\n}\n\nexport default ItemNavigation;\n"]},"metadata":{},"sourceType":"module"}