{"ast":null,"code":"import _regeneratorRuntime from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport isNodeHidden from \"./isNodeHidden.js\";\nimport isNodeClickable from \"./isNodeClickable.js\";\n\nvar isFocusTrap = function isFocusTrap(el) {\n  return el.hasAttribute(\"data-ui5-focus-trap\");\n};\n\nvar getFirstFocusableElement = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(container, startFromContainer) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(!container || isNodeHidden(container))) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", null);\n\n          case 2:\n            return _context.abrupt(\"return\", findFocusableElement(container, true, startFromContainer));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getFirstFocusableElement(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getLastFocusableElement = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(container, startFromContainer) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(!container || isNodeHidden(container))) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", null);\n\n          case 2:\n            return _context2.abrupt(\"return\", findFocusableElement(container, false, startFromContainer));\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getLastFocusableElement(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar isElemFocusable = function isElemFocusable(el) {\n  return el.hasAttribute(\"data-ui5-focus-redirect\") || !isNodeHidden(el);\n};\n\nvar findFocusableElement = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(container, forward, startFromContainer) {\n    var child, assignedElements, focusableDescendant, originalChild;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (container.shadowRoot) {\n              child = forward ? container.shadowRoot.firstChild : container.shadowRoot.lastChild;\n            } else if (container.assignedNodes && container.assignedNodes()) {\n              assignedElements = container.assignedNodes();\n              child = forward ? assignedElements[0] : assignedElements[assignedElements.length - 1];\n            } else if (startFromContainer) {\n              child = container;\n            } else {\n              child = forward ? container.firstElementChild : container.lastElementChild;\n            }\n\n          case 1:\n            if (!child) {\n              _context3.next = 20;\n              break;\n            }\n\n            originalChild = child;\n\n            if (!child.isUI5Element) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return child.getFocusDomRefAsync();\n\n          case 6:\n            child = _context3.sent;\n\n          case 7:\n            if (child) {\n              _context3.next = 9;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", null);\n\n          case 9:\n            if (!(child.nodeType === 1 && isElemFocusable(child) && !isFocusTrap(child))) {\n              _context3.next = 17;\n              break;\n            }\n\n            if (!isNodeClickable(child)) {\n              _context3.next = 12;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", child && typeof child.focus === \"function\" ? child : null);\n\n          case 12:\n            _context3.next = 14;\n            return findFocusableElement(child, forward);\n\n          case 14:\n            focusableDescendant = _context3.sent;\n\n            if (!focusableDescendant) {\n              _context3.next = 17;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", focusableDescendant && typeof focusableDescendant.focus === \"function\" ? focusableDescendant : null);\n\n          case 17:\n            child = forward ? originalChild.nextSibling : originalChild.previousSibling;\n            _context3.next = 1;\n            break;\n\n          case 20:\n            return _context3.abrupt(\"return\", null);\n\n          case 21:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function findFocusableElement(_x5, _x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport { getFirstFocusableElement, getLastFocusableElement };","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-base/dist/util/FocusableElements.js"],"names":["isNodeHidden","isNodeClickable","isFocusTrap","el","hasAttribute","getFirstFocusableElement","container","startFromContainer","findFocusableElement","getLastFocusableElement","isElemFocusable","forward","shadowRoot","child","firstChild","lastChild","assignedNodes","assignedElements","length","firstElementChild","lastElementChild","originalChild","isUI5Element","getFocusDomRefAsync","nodeType","focus","focusableDescendant","nextSibling","previousSibling"],"mappings":"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","sourcesContent":["import isNodeHidden from \"./isNodeHidden.js\";\nimport isNodeClickable from \"./isNodeClickable.js\";\n\nconst isFocusTrap = el => {\n\treturn el.hasAttribute(\"data-ui5-focus-trap\");\n};\n\nconst getFirstFocusableElement = async (container, startFromContainer) => {\n\tif (!container || isNodeHidden(container)) {\n\t\treturn null;\n\t}\n\n\treturn findFocusableElement(container, true, startFromContainer);\n};\n\nconst getLastFocusableElement = async (container, startFromContainer) => {\n\tif (!container || isNodeHidden(container)) {\n\t\treturn null;\n\t}\n\n\treturn findFocusableElement(container, false, startFromContainer);\n};\n\nconst isElemFocusable = el => {\n\treturn el.hasAttribute(\"data-ui5-focus-redirect\") || !isNodeHidden(el);\n};\n\nconst findFocusableElement = async (container, forward, startFromContainer) => {\n\tlet child;\n\n\tif (container.shadowRoot) {\n\t\tchild = forward ? container.shadowRoot.firstChild : container.shadowRoot.lastChild;\n\t} else if (container.assignedNodes && container.assignedNodes()) {\n\t\tconst assignedElements = container.assignedNodes();\n\t\tchild = forward ? assignedElements[0] : assignedElements[assignedElements.length - 1];\n\t} else if (startFromContainer) {\n\t\tchild = container;\n\t} else {\n\t\tchild = forward ? container.firstElementChild : container.lastElementChild;\n\t}\n\n\tlet focusableDescendant;\n\n\t/* eslint-disable no-await-in-loop */\n\n\twhile (child) {\n\t\tconst originalChild = child;\n\n\t\tif (child.isUI5Element) {\n\t\t\tchild = await child.getFocusDomRefAsync();\n\t\t}\n\n\t\tif (!child) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (child.nodeType === 1 && isElemFocusable(child) && !isFocusTrap(child)) {\n\t\t\tif (isNodeClickable(child)) {\n\t\t\t\treturn (child && typeof child.focus === \"function\") ? child : null;\n\t\t\t}\n\n\t\t\tfocusableDescendant = await findFocusableElement(child, forward);\n\t\t\tif (focusableDescendant) {\n\t\t\t\treturn (focusableDescendant && typeof focusableDescendant.focus === \"function\") ? focusableDescendant : null;\n\t\t\t}\n\t\t}\n\n\t\tchild = forward ? originalChild.nextSibling : originalChild.previousSibling;\n\t}\n\n\t/* eslint-enable no-await-in-loop */\n\n\treturn null;\n};\n\nexport {\n\tgetFirstFocusableElement,\n\tgetLastFocusableElement,\n};\n"]},"metadata":{},"sourceType":"module"}