{"ast":null,"code":"import getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport { isEnter, isSpace, isDown, isUp, isLeft, isRight, isHome, isEnd, isHomeCtrl, isEndCtrl, isPageUp, isPageDown } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport MonthPickerTemplate from \"./generated/templates/MonthPickerTemplate.lit.js\";\nimport styles from \"./generated/themes/MonthPicker.css.js\";\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-monthpicker\",\n  properties:\n  /** @lends  sap.ui.webcomponents.main.MonthPicker.prototype */\n  {\n    /**\n     * An array of UTC timestamps representing the selected date or dates depending on the capabilities of the picker component.\n     * @type {Array}\n     * @public\n     */\n    selectedDates: {\n      type: Integer,\n      multiple: true,\n      compareValues: true\n    },\n    _months: {\n      type: Object,\n      multiple: true\n    },\n    _hidden: {\n      type: Boolean,\n      noAttribute: true\n    }\n  },\n  events:\n  /** @lends  sap.ui.webcomponents.main.MonthPicker.prototype */\n  {\n    /**\n     * Fired when the user selects a month (space/enter/click).\n     * @public\n     * @event\n     */\n    change: {},\n\n    /**\n     * Fired when the timestamp changes - the user navigates with the keyboard or clicks with the mouse.\n     * @since 1.0.0-rc.9\n     * @public\n     * @event\n     */\n    navigate: {}\n  }\n};\nconst PAGE_SIZE = 12; // Total months on a single page\n\nconst ROW_SIZE = 3; // Months per row (4 rows of 3 months each)\n\n/**\n * Month picker component.\n *\n * @class\n *\n * Displays months which can be selected.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MonthPicker\n * @extends CalendarPart\n * @tagname ui5-monthpicker\n * @public\n */\n\nclass MonthPicker extends CalendarPart {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get template() {\n    return MonthPickerTemplate;\n  }\n\n  static get styles() {\n    return styles;\n  }\n\n  onBeforeRendering() {\n    this._buildMonths();\n  }\n\n  _buildMonths() {\n    if (this._hidden) {\n      return;\n    }\n\n    const localeData = getCachedLocaleDataInstance(getLocale());\n    const monthsNames = localeData.getMonths(\"wide\", this._primaryCalendarType);\n    const months = [];\n    const calendarDate = this._calendarDate; // store the value of the expensive getter\n\n    const minDate = this._minDate; // store the value of the expensive getter\n\n    const maxDate = this._maxDate; // store the value of the expensive getter\n\n    const tempDate = new CalendarDate(calendarDate, this._primaryCalendarType);\n    let timestamp;\n    /* eslint-disable no-loop-func */\n\n    for (let i = 0; i < 12; i++) {\n      tempDate.setMonth(i);\n      timestamp = tempDate.valueOf() / 1000;\n      const isSelected = this.selectedDates.some(itemTimestamp => {\n        const date = CalendarDate.fromTimestamp(itemTimestamp * 1000, this._primaryCalendarType);\n        return date.getYear() === tempDate.getYear() && date.getMonth() === tempDate.getMonth();\n      });\n      const isFocused = tempDate.getMonth() === calendarDate.getMonth();\n\n      const isDisabled = this._isOutOfSelectableRange(tempDate, minDate, maxDate);\n\n      const month = {\n        timestamp: timestamp.toString(),\n        focusRef: isFocused,\n        _tabIndex: isFocused ? \"0\" : \"-1\",\n        selected: isSelected,\n        ariaSelected: isSelected ? \"true\" : \"false\",\n        name: monthsNames[i],\n        disabled: isDisabled,\n        classes: \"ui5-mp-item\"\n      };\n\n      if (isSelected) {\n        month.classes += \" ui5-mp-item--selected\";\n      }\n\n      if (isDisabled) {\n        month.classes += \" ui5-mp-item--disabled\";\n      }\n\n      const quarterIndex = parseInt(i / ROW_SIZE);\n\n      if (months[quarterIndex]) {\n        months[quarterIndex].push(month);\n      } else {\n        months[quarterIndex] = [month];\n      }\n    }\n\n    this._months = months;\n  }\n\n  onAfterRendering() {\n    if (!this._hidden) {\n      this.focus();\n    }\n  }\n\n  _onkeydown(event) {\n    let preventDefault = true;\n\n    if (isEnter(event)) {\n      this._selectMonth(event);\n    } else if (isSpace(event)) {\n      event.preventDefault();\n    } else if (isLeft(event)) {\n      this._modifyTimestampBy(-1);\n    } else if (isRight(event)) {\n      this._modifyTimestampBy(1);\n    } else if (isUp(event)) {\n      this._modifyTimestampBy(-ROW_SIZE);\n    } else if (isDown(event)) {\n      this._modifyTimestampBy(ROW_SIZE);\n    } else if (isPageUp(event)) {\n      this._modifyTimestampBy(-PAGE_SIZE);\n    } else if (isPageDown(event)) {\n      this._modifyTimestampBy(PAGE_SIZE);\n    } else if (isHome(event) || isEnd(event)) {\n      this._onHomeOrEnd(isHome(event));\n    } else if (isHomeCtrl(event)) {\n      this._setTimestamp(parseInt(this._months[0][0].timestamp)); // first month of first row\n\n    } else if (isEndCtrl(event)) {\n      this._setTimestamp(parseInt(this._months[PAGE_SIZE / ROW_SIZE - 1][ROW_SIZE - 1].timestamp)); // last month of last row\n\n    } else {\n      preventDefault = false;\n    }\n\n    if (preventDefault) {\n      event.preventDefault();\n    }\n  }\n\n  _onHomeOrEnd(homePressed) {\n    this._months.forEach(row => {\n      const indexInRow = row.findIndex(item => CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000).getMonth() === this._calendarDate.getMonth());\n\n      if (indexInRow !== -1) {\n        // The current month is on this row\n        const index = homePressed ? 0 : ROW_SIZE - 1; // select the first (if Home) or last (if End) month on the row\n\n        this._setTimestamp(parseInt(row[index].timestamp));\n      }\n    });\n  }\n  /**\n   * Sets the timestamp to an absolute value\n   * @param value\n   * @private\n   */\n\n\n  _setTimestamp(value) {\n    this._safelySetTimestamp(value);\n\n    this.fireEvent(\"navigate\", {\n      timestamp: this.timestamp\n    });\n  }\n  /**\n   * Modifies timestamp by a given amount of months and, if necessary, loads the prev/next page\n   * @param amount\n   * @private\n   */\n\n\n  _modifyTimestampBy(amount) {\n    // Modify the current timestamp\n    this._safelyModifyTimestampBy(amount, \"month\"); // Notify the calendar to update its timestamp\n\n\n    this.fireEvent(\"navigate\", {\n      timestamp: this.timestamp\n    });\n  }\n\n  _onkeyup(event) {\n    if (isSpace(event)) {\n      this._selectMonth(event);\n    }\n  }\n  /**\n   * User clicked with the mouser or pressed Enter/Space\n   * @param event\n   * @private\n   */\n\n\n  _selectMonth(event) {\n    event.preventDefault();\n\n    if (event.target.className.indexOf(\"ui5-mp-item\") > -1) {\n      const timestamp = this._getTimestampFromDom(event.target);\n\n      this._safelySetTimestamp(timestamp);\n\n      this.fireEvent(\"change\", {\n        timestamp: this.timestamp\n      });\n    }\n  }\n  /**\n   * Called from Calendar.js\n   * @protected\n   */\n\n\n  _hasPreviousPage() {\n    return this._calendarDate.getYear() !== this._minDate.getYear();\n  }\n  /**\n   * Called from Calendar.js\n   * @protected\n   */\n\n\n  _hasNextPage() {\n    return this._calendarDate.getYear() !== this._maxDate.getYear();\n  }\n  /**\n   * Called by Calendar.js\n   * User pressed the \"<\" button in the calendar header (same as PageUp)\n   * @protected\n   */\n\n\n  _showPreviousPage() {\n    this._modifyTimestampBy(-PAGE_SIZE);\n  }\n  /**\n   * Called by Calendar.js\n   * User pressed the \">\" button in the calendar header (same as PageDown)\n   * @protected\n   */\n\n\n  _showNextPage() {\n    this._modifyTimestampBy(PAGE_SIZE);\n  }\n\n  _isOutOfSelectableRange(date, minDate, maxDate) {\n    const month = date.getMonth();\n    const year = date.getYear();\n    const minYear = minDate.getYear();\n    const minMonth = minDate.getMonth();\n    const maxYear = maxDate.getYear();\n    const maxMonth = maxDate.getMonth();\n    return year < minYear || year === minYear && month < minMonth || year > maxYear || year === maxYear && month > maxMonth;\n  }\n\n}\n\nMonthPicker.define();\nexport default MonthPicker;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/MonthPicker.js"],"names":["getCachedLocaleDataInstance","CalendarDate","isEnter","isSpace","isDown","isUp","isLeft","isRight","isHome","isEnd","isHomeCtrl","isEndCtrl","isPageUp","isPageDown","Integer","getLocale","CalendarPart","MonthPickerTemplate","styles","metadata","tag","properties","selectedDates","type","multiple","compareValues","_months","Object","_hidden","Boolean","noAttribute","events","change","navigate","PAGE_SIZE","ROW_SIZE","MonthPicker","template","onBeforeRendering","_buildMonths","localeData","monthsNames","getMonths","_primaryCalendarType","months","calendarDate","_calendarDate","minDate","_minDate","maxDate","_maxDate","tempDate","timestamp","i","setMonth","valueOf","isSelected","some","itemTimestamp","date","fromTimestamp","getYear","getMonth","isFocused","isDisabled","_isOutOfSelectableRange","month","toString","focusRef","_tabIndex","selected","ariaSelected","name","disabled","classes","quarterIndex","parseInt","push","onAfterRendering","focus","_onkeydown","event","preventDefault","_selectMonth","_modifyTimestampBy","_onHomeOrEnd","_setTimestamp","homePressed","forEach","row","indexInRow","findIndex","item","index","value","_safelySetTimestamp","fireEvent","amount","_safelyModifyTimestampBy","_onkeyup","target","className","indexOf","_getTimestampFromDom","_hasPreviousPage","_hasNextPage","_showPreviousPage","_showNextPage","year","minYear","minMonth","maxYear","maxMonth","define"],"mappings":"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","sourcesContent":["import getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport {\n\tisEnter,\n\tisSpace,\n\tisDown,\n\tisUp,\n\tisLeft,\n\tisRight,\n\tisHome,\n\tisEnd,\n\tisHomeCtrl,\n\tisEndCtrl,\n\tisPageUp,\n\tisPageDown,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport MonthPickerTemplate from \"./generated/templates/MonthPickerTemplate.lit.js\";\nimport styles from \"./generated/themes/MonthPicker.css.js\";\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-monthpicker\",\n\tproperties: /** @lends  sap.ui.webcomponents.main.MonthPicker.prototype */ {\n\t\t/**\n\t\t * An array of UTC timestamps representing the selected date or dates depending on the capabilities of the picker component.\n\t\t * @type {Array}\n\t\t * @public\n\t\t */\n\t\tselectedDates: {\n\t\t\ttype: Integer,\n\t\t\tmultiple: true,\n\t\t\tcompareValues: true,\n\t\t},\n\n\t\t_months: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t_hidden: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.MonthPicker.prototype */ {\n\t\t/**\n\t\t * Fired when the user selects a month (space/enter/click).\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tchange: {},\n\t\t/**\n\t\t * Fired when the timestamp changes - the user navigates with the keyboard or clicks with the mouse.\n\t\t * @since 1.0.0-rc.9\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tnavigate: {},\n\t},\n};\n\nconst PAGE_SIZE = 12; // Total months on a single page\nconst ROW_SIZE = 3; // Months per row (4 rows of 3 months each)\n\n/**\n * Month picker component.\n *\n * @class\n *\n * Displays months which can be selected.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MonthPicker\n * @extends CalendarPart\n * @tagname ui5-monthpicker\n * @public\n */\nclass MonthPicker extends CalendarPart {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get template() {\n\t\treturn MonthPickerTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tonBeforeRendering() {\n\t\tthis._buildMonths();\n\t}\n\n\t_buildMonths() {\n\t\tif (this._hidden) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\tconst monthsNames = localeData.getMonths(\"wide\", this._primaryCalendarType);\n\n\t\tconst months = [];\n\t\tconst calendarDate = this._calendarDate; // store the value of the expensive getter\n\t\tconst minDate = this._minDate; // store the value of the expensive getter\n\t\tconst maxDate = this._maxDate; // store the value of the expensive getter\n\t\tconst tempDate = new CalendarDate(calendarDate, this._primaryCalendarType);\n\t\tlet timestamp;\n\n\t\t/* eslint-disable no-loop-func */\n\t\tfor (let i = 0; i < 12; i++) {\n\t\t\ttempDate.setMonth(i);\n\t\t\ttimestamp = tempDate.valueOf() / 1000;\n\n\t\t\tconst isSelected = this.selectedDates.some(itemTimestamp => {\n\t\t\t\tconst date = CalendarDate.fromTimestamp(itemTimestamp * 1000, this._primaryCalendarType);\n\t\t\t\treturn date.getYear() === tempDate.getYear() && date.getMonth() === tempDate.getMonth();\n\t\t\t});\n\t\t\tconst isFocused = tempDate.getMonth() === calendarDate.getMonth();\n\t\t\tconst isDisabled = this._isOutOfSelectableRange(tempDate, minDate, maxDate);\n\n\t\t\tconst month = {\n\t\t\t\ttimestamp: timestamp.toString(),\n\t\t\t\tfocusRef: isFocused,\n\t\t\t\t_tabIndex: isFocused ? \"0\" : \"-1\",\n\t\t\t\tselected: isSelected,\n\t\t\t\tariaSelected: isSelected ? \"true\" : \"false\",\n\t\t\t\tname: monthsNames[i],\n\t\t\t\tdisabled: isDisabled,\n\t\t\t\tclasses: \"ui5-mp-item\",\n\t\t\t};\n\n\t\t\tif (isSelected) {\n\t\t\t\tmonth.classes += \" ui5-mp-item--selected\";\n\t\t\t}\n\n\t\t\tif (isDisabled) {\n\t\t\t\tmonth.classes += \" ui5-mp-item--disabled\";\n\t\t\t}\n\n\t\t\tconst quarterIndex = parseInt(i / ROW_SIZE);\n\n\t\t\tif (months[quarterIndex]) {\n\t\t\t\tmonths[quarterIndex].push(month);\n\t\t\t} else {\n\t\t\t\tmonths[quarterIndex] = [month];\n\t\t\t}\n\t\t}\n\n\t\tthis._months = months;\n\t}\n\n\tonAfterRendering() {\n\t\tif (!this._hidden) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t_onkeydown(event) {\n\t\tlet preventDefault = true;\n\n\t\tif (isEnter(event)) {\n\t\t\tthis._selectMonth(event);\n\t\t} else if (isSpace(event)) {\n\t\t\tevent.preventDefault();\n\t\t} else if (isLeft(event)) {\n\t\t\tthis._modifyTimestampBy(-1);\n\t\t} else if (isRight(event)) {\n\t\t\tthis._modifyTimestampBy(1);\n\t\t} else if (isUp(event)) {\n\t\t\tthis._modifyTimestampBy(-ROW_SIZE);\n\t\t} else if (isDown(event)) {\n\t\t\tthis._modifyTimestampBy(ROW_SIZE);\n\t\t} else if (isPageUp(event)) {\n\t\t\tthis._modifyTimestampBy(-PAGE_SIZE);\n\t\t} else if (isPageDown(event)) {\n\t\t\tthis._modifyTimestampBy(PAGE_SIZE);\n\t\t} else if (isHome(event) || isEnd(event)) {\n\t\t\tthis._onHomeOrEnd(isHome(event));\n\t\t} else if (isHomeCtrl(event)) {\n\t\t\tthis._setTimestamp(parseInt(this._months[0][0].timestamp)); // first month of first row\n\t\t} else if (isEndCtrl(event)) {\n\t\t\tthis._setTimestamp(parseInt(this._months[PAGE_SIZE / ROW_SIZE - 1][ROW_SIZE - 1].timestamp)); // last month of last row\n\t\t} else {\n\t\t\tpreventDefault = false;\n\t\t}\n\n\t\tif (preventDefault) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t_onHomeOrEnd(homePressed) {\n\t\tthis._months.forEach(row => {\n\t\t\tconst indexInRow = row.findIndex(item => CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000).getMonth() === this._calendarDate.getMonth());\n\t\t\tif (indexInRow !== -1) { // The current month is on this row\n\t\t\t\tconst index = homePressed ? 0 : ROW_SIZE - 1; // select the first (if Home) or last (if End) month on the row\n\t\t\t\tthis._setTimestamp(parseInt(row[index].timestamp));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Sets the timestamp to an absolute value\n\t * @param value\n\t * @private\n\t */\n\t_setTimestamp(value) {\n\t\tthis._safelySetTimestamp(value);\n\t\tthis.fireEvent(\"navigate\", { timestamp: this.timestamp });\n\t}\n\n\t/**\n\t * Modifies timestamp by a given amount of months and, if necessary, loads the prev/next page\n\t * @param amount\n\t * @private\n\t */\n\t_modifyTimestampBy(amount) {\n\t\t// Modify the current timestamp\n\t\tthis._safelyModifyTimestampBy(amount, \"month\");\n\n\t\t// Notify the calendar to update its timestamp\n\t\tthis.fireEvent(\"navigate\", { timestamp: this.timestamp });\n\t}\n\n\t_onkeyup(event) {\n\t\tif (isSpace(event)) {\n\t\t\tthis._selectMonth(event);\n\t\t}\n\t}\n\n\t/**\n\t * User clicked with the mouser or pressed Enter/Space\n\t * @param event\n\t * @private\n\t */\n\t_selectMonth(event) {\n\t\tevent.preventDefault();\n\t\tif (event.target.className.indexOf(\"ui5-mp-item\") > -1) {\n\t\t\tconst timestamp = this._getTimestampFromDom(event.target);\n\t\t\tthis._safelySetTimestamp(timestamp);\n\t\t\tthis.fireEvent(\"change\", { timestamp: this.timestamp });\n\t\t}\n\t}\n\n\t/**\n\t * Called from Calendar.js\n\t * @protected\n\t */\n\t_hasPreviousPage() {\n\t\treturn this._calendarDate.getYear() !== this._minDate.getYear();\n\t}\n\n\t/**\n\t * Called from Calendar.js\n\t * @protected\n\t */\n\t_hasNextPage() {\n\t\treturn this._calendarDate.getYear() !== this._maxDate.getYear();\n\t}\n\n\t/**\n\t * Called by Calendar.js\n\t * User pressed the \"<\" button in the calendar header (same as PageUp)\n\t * @protected\n\t */\n\t_showPreviousPage() {\n\t\tthis._modifyTimestampBy(-PAGE_SIZE);\n\t}\n\n\t/**\n\t * Called by Calendar.js\n\t * User pressed the \">\" button in the calendar header (same as PageDown)\n\t * @protected\n\t */\n\t_showNextPage() {\n\t\tthis._modifyTimestampBy(PAGE_SIZE);\n\t}\n\n\t_isOutOfSelectableRange(date, minDate, maxDate) {\n\t\tconst month = date.getMonth();\n\t\tconst year = date.getYear();\n\t\tconst minYear = minDate.getYear();\n\t\tconst minMonth = minDate.getMonth();\n\t\tconst maxYear = maxDate.getYear();\n\t\tconst maxMonth = maxDate.getMonth();\n\n\t\treturn year < minYear || (year === minYear && month < minMonth) || year > maxYear || (year === maxYear && month > maxMonth);\n\t}\n}\n\nMonthPicker.define();\n\nexport default MonthPicker;\n"]},"metadata":{},"sourceType":"module"}