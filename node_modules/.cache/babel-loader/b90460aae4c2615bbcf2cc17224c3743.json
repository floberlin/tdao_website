{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming';\nimport { useConsolidatedRef, useIsRTL, useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/dist/StyleClassHelper';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { useConsolidatedRef as useConsolidatedRef$1 } from '@ui5/webcomponents-react-base/dist/useConsolidatedRef';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/dist/usePassThroughHtmlProps';\nimport { enrichEventWithDetails, debounce } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { AvatarSize } from '@ui5/webcomponents-react/dist/AvatarSize';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/dist/GlobalStyleClasses';\nimport { List } from '@ui5/webcomponents-react/dist/List';\nimport { ObjectPageMode } from '@ui5/webcomponents-react/dist/ObjectPageMode';\nimport { PopoverPlacementType } from '@ui5/webcomponents-react/dist/PopoverPlacementType';\nimport { Popover } from '@ui5/webcomponents-react/dist/Popover';\nimport { StandardListItem } from '@ui5/webcomponents-react/dist/StandardListItem';\nimport { TabContainer as TabContainer$1 } from '@ui5/webcomponents-react/dist/TabContainer';\nimport React, { useState, useEffect, useRef, forwardRef, useCallback, useMemo, Children } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { getCurrentRange } from '@ui5/webcomponents-react-base/dist/Device';\nimport '@ui5/webcomponents-icons/dist/pushpin-off.js';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-down.js';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-up.js';\nimport { EXPAND_HEADER, COLLAPSE_HEADER, UNPIN_HEADER, PIN_HEADER } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ToggleButton } from '@ui5/webcomponents-react/dist/ToggleButton';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-down';\nimport _taggedTemplateLiteral from '@babel/runtime/helpers/taggedTemplateLiteral';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport { html, scopeTag } from '@ui5/webcomponents-base/dist/renderer/LitRenderer';\nimport Icon from '@ui5/webcomponents/dist/Icon.js';\nimport Tab from '@ui5/webcomponents/dist/Tab.js';\nimport TabContainer from '@ui5/webcomponents/dist/TabContainer.js';\nimport { ifDefined } from 'lit-html/directives/if-defined';\n\nvar stopPropagation = function stopPropagation(e) {\n  var _e$stopImmediatePropa;\n\n  e.stopPropagation();\n  (_e$stopImmediatePropa = e.stopImmediatePropagation) === null || _e$stopImmediatePropa === void 0 ? void 0 : _e$stopImmediatePropa.call(e);\n};\n\nvar useObserveHeights = function useObserveHeights(objectPage, topHeader, headerContentRef, anchorBarRef, _ref) {\n  var _anchorBarRef$current, _anchorBarRef$current2;\n\n  var noHeader = _ref.noHeader;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      topHeaderHeight = _useState2[0],\n      setTopHeaderHeight = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      headerContentHeight = _useState4[0],\n      setHeaderContentHeight = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isIntersecting = _useState6[0],\n      setIsIntersecting = _useState6[1];\n\n  useEffect(function () {\n    var headerIntersectionObserver = new IntersectionObserver(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 1),\n          header = _ref3[0];\n\n      if (header.isIntersecting) {\n        setIsIntersecting(true);\n      } else {\n        setIsIntersecting(false);\n        setHeaderContentHeight(0);\n      }\n    }, {\n      rootMargin: \"-\".concat(topHeaderHeight, \"px 0px 0px 0px\"),\n      root: objectPage === null || objectPage === void 0 ? void 0 : objectPage.current,\n      threshold: 0.3\n    });\n\n    if (headerContentRef !== null && headerContentRef !== void 0 && headerContentRef.current) {\n      headerIntersectionObserver.observe(headerContentRef.current);\n    }\n\n    return function () {\n      headerIntersectionObserver.disconnect();\n    };\n  }, [topHeaderHeight, setHeaderContentHeight, headerContentRef.current, setIsIntersecting]); // top header\n\n  useEffect(function () {\n    var headerContentResizeObserver = new ResizeObserver(function (_ref4) {\n      var _borderBoxSize$blockS;\n\n      var _ref5 = _slicedToArray(_ref4, 1),\n          header = _ref5[0]; // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n\n\n      var borderBoxSize = Array.isArray(header.borderBoxSize) ? header.borderBoxSize[0] : header.borderBoxSize; // Safari doesn't implement `borderBoxSize`\n\n      setTopHeaderHeight((_borderBoxSize$blockS = borderBoxSize === null || borderBoxSize === void 0 ? void 0 : borderBoxSize.blockSize) !== null && _borderBoxSize$blockS !== void 0 ? _borderBoxSize$blockS : header.target.getBoundingClientRect().height);\n    });\n\n    if (topHeader !== null && topHeader !== void 0 && topHeader.current) {\n      headerContentResizeObserver.observe(topHeader.current);\n    }\n\n    return function () {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [topHeader === null || topHeader === void 0 ? void 0 : topHeader.current, setTopHeaderHeight]); // header content\n\n  useEffect(function () {\n    var headerContentResizeObserver = new ResizeObserver(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 1),\n          headerContent = _ref7[0];\n\n      if (isIntersecting) {\n        var _borderBoxSize$blockS2; // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n\n\n        var borderBoxSize = Array.isArray(headerContent.borderBoxSize) ? headerContent.borderBoxSize[0] : headerContent.borderBoxSize; // Safari doesn't implement `borderBoxSize`\n\n        setHeaderContentHeight((_borderBoxSize$blockS2 = borderBoxSize === null || borderBoxSize === void 0 ? void 0 : borderBoxSize.blockSize) !== null && _borderBoxSize$blockS2 !== void 0 ? _borderBoxSize$blockS2 : headerContent.target.getBoundingClientRect().height);\n      }\n    });\n\n    if (headerContentRef !== null && headerContentRef !== void 0 && headerContentRef.current) {\n      headerContentResizeObserver.observe(headerContentRef.current);\n    }\n\n    return function () {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [headerContentRef === null || headerContentRef === void 0 ? void 0 : headerContentRef.current, setHeaderContentHeight, isIntersecting]);\n  var anchorBarHeight = (_anchorBarRef$current = anchorBarRef === null || anchorBarRef === void 0 ? void 0 : (_anchorBarRef$current2 = anchorBarRef.current) === null || _anchorBarRef$current2 === void 0 ? void 0 : _anchorBarRef$current2.offsetHeight) !== null && _anchorBarRef$current !== void 0 ? _anchorBarRef$current : 33;\n  var totalHeaderHeight = (noHeader ? 0 : topHeaderHeight + headerContentHeight) + anchorBarHeight;\n  return {\n    topHeaderHeight: topHeaderHeight,\n    headerContentHeight: headerContentHeight,\n    anchorBarHeight: anchorBarHeight,\n    totalHeaderHeight: totalHeaderHeight\n  };\n};\n\nvar useStyles$3 = createUseStyles({\n  Phone: {\n    paddingLeft: '1rem',\n    paddingRight: '1rem'\n  },\n  Tablet: {\n    paddingLeft: '2rem',\n    paddingRight: '2rem'\n  },\n  Desktop: {\n    paddingLeft: '2rem',\n    paddingRight: '2rem'\n  },\n  LargeDesktop: {\n    paddingLeft: '3rem',\n    paddingRight: '3rem'\n  }\n}, {\n  name: 'StdExtPadding'\n});\n\nvar useResponsiveContentPadding = function useResponsiveContentPadding(element) {\n  var _useState = useState(getCurrentRange().name),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentRange = _useState2[0],\n      setCurrentRange = _useState2[1];\n\n  var resizeTimeout = useRef(null);\n  var isMounted = useRef(false);\n  var classes = useStyles$3();\n  useEffect(function () {\n    isMounted.current = true;\n    var observer = new ResizeObserver(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n          el = _ref2[0];\n\n      if (resizeTimeout.current) {\n        clearTimeout(resizeTimeout.current);\n      }\n\n      resizeTimeout.current = setTimeout(function () {\n        if (isMounted.current) {\n          setCurrentRange(function () {\n            var _getCurrentRange;\n\n            return (_getCurrentRange = getCurrentRange(el.contentRect.width)) === null || _getCurrentRange === void 0 ? void 0 : _getCurrentRange.name;\n          });\n        }\n      }, 150);\n    });\n\n    if (element) {\n      observer.observe(element);\n    }\n\n    return function () {\n      isMounted.current = false;\n      observer.disconnect();\n    };\n  }, [element, isMounted]);\n  return classes[currentRange];\n};\n\naddCustomCSS('ui5-button', \"\\n  :host([data-ui5wcr-dynamic-page-header-action]){\\n    width: 1.375rem;\\n    height: 1.375rem;\\n    min-width: 1.375rem;\\n  }\\n  :host([data-ui5wcr-dynamic-page-header-action]) .ui5-button-root {\\n    padding: 0;\\n  }\");\naddCustomCSS('ui5-toggle-button', \"\\n    :host([data-ui5wcr-dynamic-page-header-action]){\\n    width: 1.375rem;\\n    height: 1.375rem;\\n    min-width: 1.375rem;\\n  }\\n  :host([data-ui5wcr-dynamic-page-header-action]) .ui5-button-root {\\n    padding: 0;\\n  }\");\nvar anchorBarStyles = {\n  anchorBarActionButton: {\n    position: 'absolute',\n    top: \"-0.6875rem\",\n    marginLeft: \"-0.6875rem\",\n    left: '50%',\n    zIndex: 3,\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'absolute',\n      width: '4rem',\n      top: '50%',\n      height: '0.0625rem'\n    },\n    '&:before': {\n      right: '100%',\n      backgroundImage: \"linear-gradient(to left, \".concat(ThemingParameters.sapHighlightColor, \", rgba(8,84,160,0))\")\n    },\n    '&:after': {\n      backgroundImage: \"linear-gradient(to right, \".concat(ThemingParameters.sapHighlightColor, \", rgba(8,84,160,0))\"),\n      left: '100%'\n    }\n  },\n  anchorBarActionButtonRtl: {\n    marginRight: \"-0.6875rem\",\n    marginLeft: 0\n  },\n  anchorBarActionButtonExpandable: {},\n  anchorBarActionButtonPinnable: {},\n  anchorBarActionPinnableAndExpandable: {\n    '&$anchorBarActionButtonPinnable': {\n      marginLeft: '0.25rem',\n      '&:before': {\n        backgroundColor: 'white'\n      }\n    },\n    '&$anchorBarActionButtonExpandable': {\n      marginLeft: '-1.75rem'\n    }\n  },\n  anchorBarActionPinnableAndExpandableRtl: {\n    '&$anchorBarActionButtonPinnable': {\n      marginRight: '0.25rem',\n      '&:before': {\n        backgroundColor: 'white'\n      }\n    },\n    '&$anchorBarActionButtonExpandable': {\n      marginRight: '-1.75rem'\n    }\n  }\n};\nvar useStyles$2 = createUseStyles(anchorBarStyles, {\n  name: 'DynamicPageAnchorBar'\n});\n/**\n * The dynamic page anchor bar contains the expand/collapse (expands or collapses the header content)\n * and pin button (pins the content header).\n */\n\nvar DynamicPageAnchorBar = /*#__PURE__*/forwardRef(function (props, ref) {\n  var showHideHeaderButton = props.showHideHeaderButton,\n      headerContentVisible = props.headerContentVisible,\n      headerContentPinnable = props.headerContentPinnable,\n      headerPinned = props.headerPinned,\n      setHeaderPinned = props.setHeaderPinned,\n      onToggleHeaderContentVisibility = props.onToggleHeaderContentVisibility,\n      onHoverToggleButton = props.onHoverToggleButton,\n      style = props.style;\n  var classes = useStyles$2();\n  var anchorBarRef = useConsolidatedRef(ref);\n  var isRTL = useIsRTL(anchorBarRef);\n  var shouldRenderHeaderPinnableButton = headerContentPinnable && headerContentVisible;\n  var showBothActions = shouldRenderHeaderPinnableButton && showHideHeaderButton;\n  var onPinHeader = useCallback(function (e) {\n    setHeaderPinned(e.target.pressed);\n  }, [setHeaderPinned]);\n  var anchorBarActionButtonClasses = StyleClassHelper.of(classes.anchorBarActionButton);\n\n  if (isRTL) {\n    anchorBarActionButtonClasses.put(classes.anchorBarActionButtonRtl);\n  }\n\n  var bothActionClasses = StyleClassHelper.of(classes.anchorBarActionPinnableAndExpandable);\n\n  if (isRTL) {\n    bothActionClasses.put(classes.anchorBarActionPinnableAndExpandableRtl);\n  }\n\n  var onToggleHeaderButtonClick = function onToggleHeaderButtonClick(e) {\n    onToggleHeaderContentVisibility(enrichEventWithDetails(e, {\n      visible: !headerContentVisible\n    }));\n  };\n\n  var i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  return /*#__PURE__*/React.createElement(\"section\", {\n    \"data-component-name\": \"DynamicPageAnchorBar\",\n    style: style,\n    role: \"navigation\",\n    className: showHideHeaderButton || headerContentPinnable ? classes.anchorBarActionButton : null,\n    ref: anchorBarRef\n  }, showHideHeaderButton && /*#__PURE__*/React.createElement(Button, {\n    icon: !headerContentVisible ? 'slim-arrow-down' : 'slim-arrow-up',\n    \"data-ui5wcr-dynamic-page-header-action\": \"\",\n    className: \"\".concat(anchorBarActionButtonClasses.className, \" \").concat(classes.anchorBarActionButtonExpandable, \" \").concat(showBothActions ? bothActionClasses.className : ''),\n    onClick: onToggleHeaderButtonClick,\n    onMouseOver: onHoverToggleButton,\n    onMouseLeave: onHoverToggleButton,\n    tooltip: i18nBundle.getText(!headerContentVisible ? EXPAND_HEADER : COLLAPSE_HEADER),\n    \"aria-label\": i18nBundle.getText(!headerContentVisible ? EXPAND_HEADER : COLLAPSE_HEADER)\n  }), shouldRenderHeaderPinnableButton && /*#__PURE__*/React.createElement(ToggleButton, {\n    icon: \"pushpin-off\",\n    \"data-ui5wcr-dynamic-page-header-action\": \"\",\n    className: \"\".concat(anchorBarActionButtonClasses.className, \" \").concat(classes.anchorBarActionButtonPinnable, \" \").concat(showBothActions ? bothActionClasses.className : ''),\n    pressed: headerPinned,\n    onClick: onPinHeader,\n    tooltip: i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER),\n    \"aria-label\": i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER)\n  }));\n});\nDynamicPageAnchorBar.displayName = 'DynamicPageAnchorBar';\nvar styles$1 = {\n  base: {\n    alignSelf: 'center',\n    opacity: 0\n  },\n  hidden: {\n    opacity: 0\n  },\n  visible: {\n    transition: 'opacity 0.5s',\n    opacity: 1\n  },\n  imageContainer: {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    maxHeight: '3rem',\n    width: '3rem',\n    maxWidth: '3rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  }\n};\nvar useStyles$1 = createUseStyles(styles$1, {\n  name: 'CollapsedAvatar'\n});\n\nvar CollapsedAvatar = function CollapsedAvatar(props) {\n  var image = props.image,\n      imageShapeCircle = props.imageShapeCircle,\n      style = props.style;\n  var classes = useStyles$1();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isMounted = _useState2[0],\n      setIsMounted = _useState2[1];\n\n  var domRef = useRef();\n  var avatarContent = useMemo(function () {\n    if (!image) return null;\n\n    if (typeof image === 'string') {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classes.imageContainer,\n        style: {\n          borderRadius: imageShapeCircle ? '50%' : 0,\n          overflow: 'hidden'\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: classes.image,\n        src: image,\n        alt: \"Object Page Image\"\n      }));\n    } else {\n      var _image$props, _image$props2;\n\n      return /*#__PURE__*/React.cloneElement(image, {\n        size: AvatarSize.S,\n        // @ts-ignore\n        className: (_image$props = image.props) !== null && _image$props !== void 0 && _image$props.className ? \"\".concat(classes.imageContainer, \" \").concat((_image$props2 = image.props) === null || _image$props2 === void 0 ? void 0 : _image$props2.className) : classes.imageContainer\n      });\n    }\n  }, [image, imageShapeCircle]);\n  useEffect(function () {\n    setIsMounted(true);\n  }, []);\n  var containerClasses = StyleClassHelper.of(classes.base);\n\n  if (isMounted) {\n    containerClasses.put(classes.visible);\n  } else {\n    containerClasses.put(classes.hidden);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: domRef,\n    className: containerClasses.valueOf(),\n    style: style,\n    \"data-component-name\": \"ObjectPageCollapsedAvatar\"\n  }, avatarContent);\n};\n\nvar _headerCollapsed;\n\nvar DynamicPageCssVariables = {\n  headerDisplay: '--ui5wcr_DynamicPage_header_display'\n};\n({\n  dynamicPage: _defineProperty({\n    width: '100%',\n    height: '100%',\n    maxHeight: '100%',\n    position: 'relative',\n    whiteSpace: 'normal',\n    fontFamily: ThemingParameters.sapFontFamily,\n    backgroundColor: ThemingParameters.sapBackgroundColor,\n    overflowX: 'hidden',\n    overflowY: 'auto'\n  }, DynamicPageCssVariables.headerDisplay, 'block'),\n  headerCollapsed: (_headerCollapsed = {}, _defineProperty(_headerCollapsed, DynamicPageCssVariables.headerDisplay, 'none'), _defineProperty(_headerCollapsed, '& $anchorBar > section[role=\"navigation\"]', {\n    top: '-0.025rem'\n  }), _headerCollapsed),\n  anchorBar: {\n    position: 'sticky',\n    boxShadow: ThemingParameters.sapContent_HeaderShadow,\n    height: '1px',\n    zIndex: 2,\n    '& > section[role=\"navigation\"]': {\n      top: 0\n    }\n  },\n  iEClass: {\n    position: 'fixed',\n    //page width - scrollbar\n    width: 'calc(100% - 18px)'\n  },\n  iEBackgroundElement: {\n    position: 'fixed',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background\n  },\n  contentContainer: {\n    paddingTop: '1rem',\n    boxSizing: 'border-box',\n    width: '100%',\n    height: 'auto',\n    fontFamily: ThemingParameters.sapFontFamily,\n    zIndex: 0\n  },\n  backgroundStandard: {\n    background: ThemingParameters.sapBackgroundColor\n  },\n  backgroundSolid: {\n    background: ThemingParameters.sapBackgroundColor\n  },\n  backgroundList: {\n    background: ThemingParameters.sapGroup_ContentBackground\n  },\n  backgroundTransparent: {\n    background: 'transparent'\n  },\n  footer: {\n    position: 'sticky',\n    bottom: '0.5rem',\n    margin: '0 0.5rem'\n  }\n});\n\nvar _objectPage, _globalHtml, _globalDirRtl, _header;\n\nvar ObjectPageCssVariables = {\n  anchorFloat: '--_ui5wcr_ObjectPage_actions_float',\n  anchorLeft: '--_ui5wcr_ObjectPage_actions_left',\n  anchorRight: '--_ui5wcr_ObjectPage_actions_right',\n  lastSectionMargin: '--_ui5wcr_ObjectPage_last_section_margin_bottom'\n};\nvar styles = {\n  objectPage: (_objectPage = {}, _defineProperty(_objectPage, DynamicPageCssVariables.headerDisplay, 'block'), _defineProperty(_objectPage, \"boxSizing\", 'border-box'), _defineProperty(_objectPage, \"width\", '100%'), _defineProperty(_objectPage, \"height\", '100%'), _defineProperty(_objectPage, \"maxHeight\", '100vh'), _defineProperty(_objectPage, \"position\", 'relative'), _defineProperty(_objectPage, \"whiteSpace\", 'normal'), _defineProperty(_objectPage, \"fontFamily\", ThemingParameters.sapFontFamily), _defineProperty(_objectPage, \"backgroundColor\", ThemingParameters.sapBackgroundColor), _defineProperty(_objectPage, \"overflowX\", 'hidden'), _defineProperty(_objectPage, \"overflowY\", 'auto'), _defineProperty(_objectPage, ObjectPageCssVariables.lastSectionMargin, 0), _defineProperty(_objectPage, '& section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]', {\n    display: 'none'\n  }), _defineProperty(_objectPage, '& section[id*=\"ObjectPageSection-\"] ~ section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]', {\n    display: 'block'\n  }), _defineProperty(_objectPage, '& section[data-component-name=\"ObjectPageSection\"]:last-of-type', {\n    marginBottom: \"var(\".concat(ObjectPageCssVariables.lastSectionMargin, \")\")\n  }), _objectPage),\n  '@global html': (_globalHtml = {}, _defineProperty(_globalHtml, ObjectPageCssVariables.anchorFloat, 'right'), _defineProperty(_globalHtml, ObjectPageCssVariables.anchorRight, '1.25rem'), _defineProperty(_globalHtml, ObjectPageCssVariables.anchorLeft, 'unset'), _globalHtml),\n  '@global [dir=\"rtl\"]': (_globalDirRtl = {}, _defineProperty(_globalDirRtl, ObjectPageCssVariables.anchorFloat, 'left'), _defineProperty(_globalDirRtl, ObjectPageCssVariables.anchorRight, 'unset'), _defineProperty(_globalDirRtl, ObjectPageCssVariables.anchorLeft, '1.25rem'), _globalDirRtl),\n  iconTabBarMode: {\n    '& section[data-component-name=\"ObjectPageSection\"] > div[role=\"heading\"]': {\n      display: 'none'\n    }\n  },\n  headerCollapsed: _defineProperty({}, DynamicPageCssVariables.headerDisplay, 'none'),\n  headerContainer: {\n    marginBottom: '0.25rem',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    display: 'grid',\n    gridAutoColumns: 'min-content calc(100% - 5rem - 2rem)'\n    /*avatar size - padding */\n    ,\n    '& [data-component-name=\"ObjectPageHeaderContent\"]': {\n      gridColumn: 2\n    }\n  },\n  headerHoverStyles: {\n    '&[data-not-clickable=\"true\"]': {\n      cursor: 'unset'\n    },\n    '&[data-not-clickable=\"false\"]': {\n      // TODO background color should be sapObjectHeader_Hover_Background (same color as sapTile_Active_Background)\n      backgroundColor: \"\".concat(ThemingParameters.sapTile_Active_Background),\n      '& [data-component-name=\"DynamicPageTitle\"]': {\n        backgroundColor: ThemingParameters.sapTile_Active_Background\n      }\n    }\n  },\n  header: (_header = {}, _defineProperty(_header, DynamicPageCssVariables.headerDisplay, 'block'), _defineProperty(_header, \"boxSizing\", 'border-box'), _defineProperty(_header, \"backgroundColor\", ThemingParameters.sapObjectHeader_Background), _defineProperty(_header, \"position\", 'sticky'), _defineProperty(_header, \"top\", 0), _defineProperty(_header, \"zIndex\", 2), _defineProperty(_header, '& [data-component-name=\"DynamicPageTitle\"]', {\n    gridColumn: 2,\n    paddingLeft: 0,\n    paddingRight: 0\n  }), _defineProperty(_header, \"cursor\", 'pointer'), _header),\n  iEClass: {\n    position: 'fixed',\n    width: 'calc(100% - 18px)'\n  },\n  headerImage: {\n    minWidth: '5rem',\n    maxWidth: '5rem',\n    maxHeight: '5rem',\n    display: 'inline-block',\n    marginRight: '2rem'\n  },\n  headerImageRtl: {\n    marginRight: 0,\n    marginLeft: '2rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  },\n  anchorBar: {\n    position: 'sticky',\n    zIndex: 2\n  },\n  tabContainer: {\n    position: 'sticky',\n    zIndex: 1\n  },\n  footer: {\n    position: 'sticky',\n    bottom: '0.5rem',\n    margin: '0 0.5rem'\n  }\n};\n\nvar _templateObject, _templateObject2, _templateObject3;\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar metadata = {\n  tag: 'ui5-object-page-anchor-tab',\n  properties: {\n    withSubSections: {\n      type: Boolean\n    }\n  },\n  events: {\n    'show-sub-sections': {}\n  }\n};\n\nvar ObjectPageAnchorTab = /*#__PURE__*/function (_Tab) {\n  _inherits(ObjectPageAnchorTab, _Tab);\n\n  var _super = _createSuper(ObjectPageAnchorTab);\n\n  function ObjectPageAnchorTab() {\n    var _this;\n\n    _classCallCheck(this, ObjectPageAnchorTab);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleOnSubSectionsClick\", function (e) {\n      e.stopPropagation();\n      e.preventDefault(); // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n\n      _this.fireEvent('show-sub-sections', {\n        targetRef: e.target.parentElement.parentElement\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(ObjectPageAnchorTab, null, [{\n    key: \"metadata\",\n    get: function get() {\n      return metadata;\n    }\n  }, {\n    key: \"dependencies\",\n    get: function get() {\n      return [Icon];\n    }\n  }, {\n    key: \"stripTemplate\",\n    get: function get() {\n      return function (context, tags, suffix) {\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\" <li\\n        id=\\\"\", \"\\\"\\n        class=\\\"\", \"\\\"\\n        tabindex=\\\"\", \"\\\"\\n        role=\\\"tab\\\"\\n        aria-posinset=\\\"\", \"\\\"\\n        aria-setsize=\\\"\", \"\\\"\\n        aria-controls=\\\"ui5-tc-contentItem-\", \"\\\"\\n        aria-selected=\\\"\", \"\\\"\\n        aria-disabled=\\\"\", \"\\\"\\n        ?disabled=\\\"\", \"\\\"\\n        aria-labelledby=\\\"\", \"\\\"\\n        data-ui5-stable=\\\"\", \"\\\"\\n        style=\\\"list-style-type: none;\\\"\\n      >\\n        <div class=\\\"ui5-tab-strip-itemContent\\\">\\n          \", \"\\n          \", \"\\n        </div>\\n      </li>\"])), ifDefined(context._id), ifDefined(context.headerClasses), ifDefined(context._tabIndex), ifDefined(context._posinset), ifDefined(context._setsize), ifDefined(context._posinset), ifDefined(context.effectiveSelected), ifDefined(context.effectiveDisabled), context.effectiveDisabled, ifDefined(context.ariaLabelledBy), ifDefined(context.stableDomRef), context.text ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<span\\n                class=\\\"ui5-tab-strip-itemText\\\"\\n                id=\\\"\", \"-text\\\"\\n                ?data-active=\\\"\", \"\\\"\\n              >\\n                \", \"\\n              </span>\"])), ifDefined(context._id), ifDefined(context.withSubSections), ifDefined(context.text)) : undefined, context.withSubSections ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<\", \"\\n                name=\\\"slim-arrow-down\\\"\\n                class=\\\"objectPageSubSectionsIcon\\\"\\n                interactive\\n                @click=\\\"\", \"\\\"\\n              />\"])), scopeTag('ui5-icon', tags, suffix), context._handleOnSubSectionsClick) : undefined);\n      };\n    } // maybe we can look into a custom overflow template as well\n    // static get overflowTemplate() {\n    //   return (context, tags, suffix) => {\n    //     setTags(tags);\n    //     setSuffix(suffix);\n    //     return html`<ui5-li-custom\n    //       id=\"${ifDefined(context._id)}\"\n    //       class=\"${ifDefined(context.overflowClasses)}\"\n    //       type=\"${ifDefined(context.overflowState)}\"\n    //       ?selected=\"${context.effectiveSelected}\"\n    //       ?disabled=\"${context.effectiveDisabled}\"\n    //       aria-disabled=\"${ifDefined(context.effectiveDisabled)}\"\n    //       aria-selected=\"${ifDefined(context.effectiveSelected)}\"\n    //       aria-labelledby=\"${ifDefined(context.ariaLabelledBy)}\"\n    //     >\n    //       <div class=\"ui5-tab-overflow-itemContent\">${ifDefined(context.text)}</div>\n    //     </ui5-li-custom>`;\n    //   };\n    // }\n\n  }]);\n\n  return ObjectPageAnchorTab;\n}(Tab);\n\nTabContainer.registerTabStyles(\"\\n\\n:host([data-component-name=\\\"ObjectPageTabContainer\\\"]) .ui5-tab-strip-itemContent {\\n  display: flex;\\n  align-items: center;\\n  pointer-events: all;\\n}\\n\\n.objectPageSubSectionsIcon {\\n  padding-left: 0.625rem;\\n}\\n\\n.objectPageSubSectionsIcon[interactive]:hover {\\n  color: \".concat(ThemingParameters.sapContent_IconColor, \";\\n}\\n\\n:host([data-component-name=\\\"ObjectPageTabContainer\\\"]) .ui5-tab-strip-itemText[data-active]:hover {\\n  color: \").concat(ThemingParameters.sapButton_Lite_Hover_TextColor, \";\\n}\\n\")); // TabContainer.registerStaticAreaTabStyles(overflowCss);\n\nvar safeGetChildrenArray = function safeGetChildrenArray(children) {\n  return Children.toArray(children).filter(Boolean);\n};\n\nvar getSectionById = function getSectionById(sections, id) {\n  return safeGetChildrenArray(sections).find(function (objectPageSection) {\n    var _objectPageSection$pr;\n\n    return ((_objectPageSection$pr = objectPageSection.props) === null || _objectPageSection$pr === void 0 ? void 0 : _objectPageSection$pr.id) === id;\n  });\n};\n\nvar extractSectionIdFromHtmlId = function extractSectionIdFromHtmlId(id) {\n  return id.replace(/^ObjectPageSection-/, '');\n};\n\nvar getLastObjectPageSection = function getLastObjectPageSection(ref, alwaysSetMargin) {\n  var _ref$current;\n\n  var sections = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.querySelectorAll('[id^=\"ObjectPageSection\"]');\n\n  if (!sections || sections.length < 1) {\n    return null;\n  }\n\n  if (!alwaysSetMargin && sections.length === 1) {\n    if (sections[0].querySelectorAll('[id^=\"ObjectPageSubSection\"]').length === 0) {\n      return null;\n    }\n  }\n\n  return sections[sections.length - 1];\n}; // @ts-ignore\n\n\nObjectPageAnchorTab.define();\n\nvar ObjectPageAnchorButton = function ObjectPageAnchorButton(props) {\n  var ref = useRef();\n  var section = props.section,\n      index = props.index,\n      selected = props.selected,\n      onShowSubSectionPopover = props.onShowSubSectionPopover;\n  var hasSubSections = safeGetChildrenArray(section.props.children).some(function (subSection) {\n    var _subSection$props;\n\n    return (_subSection$props = subSection.props) === null || _subSection$props === void 0 ? void 0 : _subSection$props.isSubSection;\n  });\n  useEffect(function () {\n    var listener = function listener(e) {\n      onShowSubSectionPopover(e, section);\n    };\n\n    var el = ref.current;\n    el.addEventListener('show-sub-sections', listener);\n    return function () {\n      el === null || el === void 0 ? void 0 : el.removeEventListener('show-sub-sections', listener);\n    };\n  }, [onShowSubSectionPopover]);\n  return /*#__PURE__*/React.createElement(\"ui5-object-page-anchor-tab\", {\n    ref: ref,\n    \"data-index\": index,\n    \"data-section-id\": section.props.id,\n    text: section.props.titleText,\n    selected: selected || undefined,\n    \"with-sub-sections\": hasSubSections || undefined\n  });\n}; // Generated file - do not change manually!\n\n/**\n * Defines the horizontal alignment of <code>ui5-popover</code>\n */\n\n\nvar PopoverHorizontalAlign;\n\n(function (PopoverHorizontalAlign) {\n  PopoverHorizontalAlign[\"Center\"] = \"Center\";\n  PopoverHorizontalAlign[\"Left\"] = \"Left\";\n  PopoverHorizontalAlign[\"Right\"] = \"Right\";\n  PopoverHorizontalAlign[\"Stretch\"] = \"Stretch\";\n})(PopoverHorizontalAlign || (PopoverHorizontalAlign = {}));\n\naddCustomCSS('ui5-tabcontainer', \"\\n  :host([data-component-name=\\\"ObjectPageTabContainer\\\"]) .ui5-tc__header {\\n    box-shadow: inset 0 -0.0625rem \".concat(ThemingParameters.sapPageHeader_BorderColor, \", 0 0.125rem 0.25rem 0 rgb(0 0 0 / 8%);\\n  }\\n  \"));\nvar useStyles = createUseStyles(styles, {\n  name: 'ObjectPage'\n});\n/**\n * A component that allows apps to easily display information related to a business object.<br />\n * The `ObjectPage` is composed of a header (title and content) and block content wrapped in sections and subsections that structure the information.\n */\n\nvar ObjectPage = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _safeGetChildrenArray, _safeGetChildrenArray2, _popoverContent$props;\n\n  var headerTitle = props.headerTitle,\n      image = props.image,\n      footer = props.footer,\n      mode = props.mode,\n      imageShapeCircle = props.imageShapeCircle,\n      className = props.className,\n      style = props.style,\n      tooltip = props.tooltip,\n      slot = props.slot,\n      showHideHeaderButton = props.showHideHeaderButton,\n      children = props.children,\n      onSelectedSectionChanged = props.onSelectedSectionChanged,\n      selectedSectionId = props.selectedSectionId,\n      alwaysShowContentHeader = props.alwaysShowContentHeader,\n      showTitleInHeaderContent = props.showTitleInHeaderContent,\n      headerContent = props.headerContent,\n      headerContentPinnable = props.headerContentPinnable;\n  var classes = useStyles();\n  var firstSectionId = (_safeGetChildrenArray = safeGetChildrenArray(children)[0]) === null || _safeGetChildrenArray === void 0 ? void 0 : (_safeGetChildrenArray2 = _safeGetChildrenArray.props) === null || _safeGetChildrenArray2 === void 0 ? void 0 : _safeGetChildrenArray2.id;\n\n  var _useState = useState(selectedSectionId !== null && selectedSectionId !== void 0 ? selectedSectionId : firstSectionId),\n      _useState2 = _slicedToArray(_useState, 2),\n      internalSelectedSectionId = _useState2[0],\n      setInternalSelectedSectionId = _useState2[1];\n\n  var _useState3 = useState(props.selectedSubSectionId),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedSubSectionId = _useState4[0],\n      setSelectedSubSectionId = _useState4[1];\n\n  var _useState5 = useState(alwaysShowContentHeader),\n      _useState6 = _slicedToArray(_useState5, 2),\n      headerPinned = _useState6[0],\n      setHeaderPinned = _useState6[1];\n\n  var isProgrammaticallyScrolled = useRef(false);\n  var objectPageRef = useConsolidatedRef$1(ref);\n  var topHeaderRef = useRef(); //@ts-ignore\n\n  var headerContentRef = useConsolidatedRef$1(headerContent === null || headerContent === void 0 ? void 0 : headerContent.ref);\n  var anchorBarRef = useRef();\n  var scrollTimeout = useRef(null);\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isAfterScroll = _useState8[0],\n      setIsAfterScroll = _useState8[1];\n\n  var isRTL = useIsRTL(objectPageRef);\n  var responsivePaddingClass = useResponsiveContentPadding(objectPageRef.current); // observe heights of header parts\n\n  var _useObserveHeights = useObserveHeights(objectPageRef, topHeaderRef, headerContentRef, anchorBarRef, {\n    noHeader: !headerTitle && !headerContent\n  }),\n      topHeaderHeight = _useObserveHeights.topHeaderHeight,\n      headerContentHeight = _useObserveHeights.headerContentHeight,\n      anchorBarHeight = _useObserveHeights.anchorBarHeight,\n      totalHeaderHeight = _useObserveHeights.totalHeaderHeight;\n\n  var avatar = useMemo(function () {\n    if (!image) {\n      return null;\n    }\n\n    var headerImageClasses = StyleClassHelper.of(classes.headerImage);\n\n    if (isRTL) {\n      headerImageClasses.put(classes.headerImageRtl);\n    }\n\n    if (typeof image === 'string') {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: headerImageClasses.className,\n        style: {\n          borderRadius: imageShapeCircle ? '50%' : 0,\n          overflow: 'hidden'\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: image,\n        className: classes.image,\n        alt: \"Company Logo\"\n      }));\n    } else {\n      var _image$props;\n\n      if ((_image$props = image.props) !== null && _image$props !== void 0 && _image$props.className) {\n        var _image$props2;\n\n        headerImageClasses.put((_image$props2 = image.props) === null || _image$props2 === void 0 ? void 0 : _image$props2.className);\n      }\n\n      return /*#__PURE__*/React.cloneElement(image, {\n        size: AvatarSize.L,\n        className: headerImageClasses.className\n      });\n    }\n  }, [image, classes.headerImage, classes.headerImageRtl, classes.image, imageShapeCircle, isRTL]);\n  var prevTopHeaderHeight = useRef(0);\n  var scrollToSection = useCallback(function (sectionId) {\n    if (!sectionId) {\n      return;\n    }\n\n    if (firstSectionId === sectionId) {\n      var _objectPageRef$curren;\n\n      (_objectPageRef$curren = objectPageRef.current) === null || _objectPageRef$curren === void 0 ? void 0 : _objectPageRef$curren.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    } else {\n      var _objectPageRef$curren2, _objectPageRef$curren3;\n\n      var childOffset = (_objectPageRef$curren2 = objectPageRef.current) === null || _objectPageRef$curren2 === void 0 ? void 0 : (_objectPageRef$curren3 = _objectPageRef$curren2.querySelector(\"#ObjectPageSection-\".concat(sectionId))) === null || _objectPageRef$curren3 === void 0 ? void 0 : _objectPageRef$curren3.offsetTop;\n\n      if (!isNaN(childOffset)) {\n        var _objectPageRef$curren4;\n\n        var safeTopHeaderHeight = topHeaderHeight || prevTopHeaderHeight.current;\n\n        if (topHeaderHeight) {\n          prevTopHeaderHeight.current = topHeaderHeight;\n        }\n\n        (_objectPageRef$curren4 = objectPageRef.current) === null || _objectPageRef$curren4 === void 0 ? void 0 : _objectPageRef$curren4.scrollTo({\n          top: childOffset - safeTopHeaderHeight - anchorBarHeight - (headerPinned ? headerContentHeight : 0),\n          behavior: 'smooth'\n        });\n      }\n    }\n\n    isProgrammaticallyScrolled.current = false;\n  }, [firstSectionId, objectPageRef, topHeaderHeight, anchorBarHeight, headerPinned, headerContentHeight, prevTopHeaderHeight.current]); // change selected section when prop is changed (external change)\n\n  useEffect(function () {\n    isProgrammaticallyScrolled.current = true;\n    setInternalSelectedSectionId(selectedSectionId !== null && selectedSectionId !== void 0 ? selectedSectionId : firstSectionId);\n  }, [selectedSectionId, isProgrammaticallyScrolled, firstSectionId]); // section was selected by clicking on the anchor bar buttons\n\n  var handleOnSectionSelected = useCallback(function (e) {\n    var _e$detail$props;\n\n    isProgrammaticallyScrolled.current = true;\n    var newSelectionSection = (_e$detail$props = e.detail.props) === null || _e$detail$props === void 0 ? void 0 : _e$detail$props.id;\n    setInternalSelectedSectionId(function (oldSelectedSection) {\n      if (oldSelectedSection === newSelectionSection) {\n        scrollToSection(newSelectionSection);\n      }\n\n      return newSelectionSection;\n    });\n    fireOnSelectedChangedEvent(e);\n  }, [onSelectedSectionChanged, setInternalSelectedSectionId, isProgrammaticallyScrolled, scrollToSection]); // do internal scrolling\n\n  useEffect(function () {\n    if (mode === ObjectPageMode.Default && isProgrammaticallyScrolled.current === true) {\n      scrollToSection(internalSelectedSectionId);\n    }\n  }, [internalSelectedSectionId, mode, isProgrammaticallyScrolled, scrollToSection]); // Scrolling for Sub Section Selection\n\n  useEffect(function () {\n    if (selectedSubSectionId && isProgrammaticallyScrolled.current === true) {\n      var _objectPageRef$curren5;\n\n      var currentSubSection = (_objectPageRef$curren5 = objectPageRef.current) === null || _objectPageRef$curren5 === void 0 ? void 0 : _objectPageRef$curren5.querySelector(\"div[id=\\\"ObjectPageSubSection-\".concat(selectedSubSectionId, \"\\\"]\"));\n      var childOffset = currentSubSection === null || currentSubSection === void 0 ? void 0 : currentSubSection.offsetTop;\n\n      if (!isNaN(childOffset)) {\n        var _objectPageRef$curren6;\n\n        currentSubSection.focus();\n        (_objectPageRef$curren6 = objectPageRef.current) === null || _objectPageRef$curren6 === void 0 ? void 0 : _objectPageRef$curren6.scrollTo({\n          top: childOffset - topHeaderHeight - anchorBarHeight - 48\n          /*tabBar*/\n          - (headerPinned ? headerContentHeight : 0) - 16,\n          behavior: 'smooth'\n        });\n      }\n\n      isProgrammaticallyScrolled.current = false;\n    }\n  }, [selectedSubSectionId, isProgrammaticallyScrolled, topHeaderHeight, anchorBarHeight, headerPinned, headerContentHeight]);\n  useEffect(function () {\n    setHeaderPinned(alwaysShowContentHeader);\n  }, [setHeaderPinned, alwaysShowContentHeader]);\n  useEffect(function () {\n    setSelectedSubSectionId(props.selectedSubSectionId);\n\n    if (props.selectedSubSectionId) {\n      isProgrammaticallyScrolled.current = true;\n\n      if (mode === ObjectPageMode.IconTabBar) {\n        var sectionId;\n        safeGetChildrenArray(children).forEach(function (section) {\n          if ( /*#__PURE__*/React.isValidElement(section) && section.props && section.props.children) {\n            safeGetChildrenArray(section.props.children).forEach(function (subSection) {\n              if ( /*#__PURE__*/React.isValidElement(subSection) && subSection.props && subSection.props.id === props.selectedSubSectionId) {\n                var _section$props;\n\n                sectionId = (_section$props = section.props) === null || _section$props === void 0 ? void 0 : _section$props.id;\n              }\n            });\n          }\n        });\n\n        if (sectionId) {\n          setInternalSelectedSectionId(sectionId);\n        }\n      }\n    }\n  }, [props.selectedSubSectionId, setInternalSelectedSectionId, setSelectedSubSectionId, children, mode, isProgrammaticallyScrolled]);\n  useEffect(function () {\n    var fillerDivObserver = new ResizeObserver(function () {\n      var _objectPageRef$curren7, _objectPageRef$curren8;\n\n      var heightDiff = 0;\n      var maxHeight = Math.min((_objectPageRef$curren7 = objectPageRef.current) === null || _objectPageRef$curren7 === void 0 ? void 0 : _objectPageRef$curren7.clientHeight, window.innerHeight);\n      var availableScrollHeight = maxHeight - totalHeaderHeight;\n      var lastSectionDomRef = getLastObjectPageSection(objectPageRef, !!footer && mode === ObjectPageMode.IconTabBar);\n\n      if (lastSectionDomRef) {\n        var subSections = lastSectionDomRef.querySelectorAll('[id^=\"ObjectPageSubSection\"]');\n        var lastSubSectionHeight;\n\n        if (subSections.length > 0) {\n          lastSubSectionHeight = subSections[subSections.length - 1].offsetHeight;\n        } else {\n          lastSubSectionHeight = lastSectionDomRef.offsetHeight - lastSectionDomRef.querySelector(\"[role='heading']\").offsetHeight;\n        }\n\n        heightDiff = Math.max(0, availableScrollHeight - lastSubSectionHeight);\n\n        if (isNaN(heightDiff)) {\n          heightDiff = 0;\n        }\n      }\n\n      var lastSectionMargin = footer ? \"calc(\".concat(heightDiff, \"px + 1rem)\") : \"\".concat(heightDiff, \"px\");\n      (_objectPageRef$curren8 = objectPageRef.current) === null || _objectPageRef$curren8 === void 0 ? void 0 : _objectPageRef$curren8.style.setProperty(ObjectPageCssVariables.lastSectionMargin, lastSectionMargin);\n    });\n    fillerDivObserver.observe(objectPageRef.current);\n    return function () {\n      fillerDivObserver.disconnect();\n    };\n  }, [totalHeaderHeight, objectPageRef, children, mode, footer]);\n  var fireOnSelectedChangedEvent = debounce(function (e) {\n    if (typeof onSelectedSectionChanged === 'function') {\n      onSelectedSectionChanged(enrichEventWithDetails(e, {\n        selectedSectionIndex: e.detail.index,\n        selectedSectionId: e.detail.props.id,\n        section: e.detail\n      }));\n    }\n  }, 500);\n  var handleOnSubSectionSelected = useCallback(function (e) {\n    isProgrammaticallyScrolled.current = true;\n\n    if (mode === ObjectPageMode.IconTabBar) {\n      var _e$detail$section$pro;\n\n      var sectionId = (_e$detail$section$pro = e.detail.section.props) === null || _e$detail$section$pro === void 0 ? void 0 : _e$detail$section$pro.id;\n      setInternalSelectedSectionId(sectionId);\n    }\n\n    var subSection = e.detail.subSection;\n    setSelectedSubSectionId(subSection.props.id);\n  }, [mode, setInternalSelectedSectionId, setSelectedSubSectionId, isProgrammaticallyScrolled]);\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      scrolledHeaderExpanded = _useState10[0],\n      setScrolledHeaderExpanded = _useState10[1];\n\n  var onToggleHeaderContentVisibility = useCallback(function (e) {\n    if (!e.detail.visible) {\n      var _objectPageRef$curren9;\n\n      (_objectPageRef$curren9 = objectPageRef.current) === null || _objectPageRef$curren9 === void 0 ? void 0 : _objectPageRef$curren9.classList.add(classes.headerCollapsed);\n    } else {\n      var _objectPageRef$curren10;\n\n      setScrolledHeaderExpanded(true);\n      (_objectPageRef$curren10 = objectPageRef.current) === null || _objectPageRef$curren10 === void 0 ? void 0 : _objectPageRef$curren10.classList.remove(classes.headerCollapsed);\n    }\n  }, [objectPageRef.current, classes.headerCollapsed]);\n  var objectPageClasses = StyleClassHelper.of(classes.objectPage, GlobalStyleClasses.sapScrollBar);\n\n  if (className) {\n    objectPageClasses.put(className);\n  }\n\n  if (mode === ObjectPageMode.IconTabBar) {\n    objectPageClasses.put(classes.iconTabBarMode);\n  }\n\n  var passThroughProps = usePassThroughHtmlProps(props, ['onSelectedSectionChanged', 'onScroll']);\n  useEffect(function () {\n    var _objectPageRef$curren11, _objectPageRef$curren12, _objectPageRef$curren13;\n\n    var sections = (_objectPageRef$curren11 = objectPageRef.current) === null || _objectPageRef$curren11 === void 0 ? void 0 : _objectPageRef$curren11.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n    var objectPageHeight = (_objectPageRef$curren12 = (_objectPageRef$curren13 = objectPageRef.current) === null || _objectPageRef$curren13 === void 0 ? void 0 : _objectPageRef$curren13.clientHeight) !== null && _objectPageRef$curren12 !== void 0 ? _objectPageRef$curren12 : 1000;\n    var marginBottom = objectPageHeight - totalHeaderHeight -\n    /*TabContainer*/\n    48;\n    var rootMargin = \"-\".concat(totalHeaderHeight, \"px 0px -\").concat(marginBottom < 0 ? 0 : marginBottom, \"px 0px\");\n    var observer = new IntersectionObserver(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n          section = _ref2[0];\n\n      if (section.isIntersecting && isProgrammaticallyScrolled.current === false) {\n        if (objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <= section.target.getBoundingClientRect().bottom) {\n          setInternalSelectedSectionId(extractSectionIdFromHtmlId(section.target.id));\n        }\n      }\n    }, {\n      root: objectPageRef.current,\n      rootMargin: rootMargin,\n      threshold: [0]\n    }); // Fallback when scrolling faster than the IntersectionObserver can observe (in most cases faster than 60fps)\n\n    if (isAfterScroll) {\n      var currentSection = sections[sections.length - 1];\n\n      for (var i = 0; i <= sections.length - 1; i++) {\n        var section = sections[i];\n\n        if (objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <= section.getBoundingClientRect().bottom) {\n          currentSection = section;\n          break;\n        }\n      }\n\n      if (extractSectionIdFromHtmlId(currentSection.id) !== internalSelectedSectionId) {\n        setInternalSelectedSectionId(extractSectionIdFromHtmlId(currentSection.id));\n      }\n\n      setIsAfterScroll(false);\n    }\n\n    sections.forEach(function (el) {\n      observer.observe(el);\n    });\n    return function () {\n      observer.disconnect();\n    };\n  }, [objectPageRef.current, children, totalHeaderHeight, setInternalSelectedSectionId, isProgrammaticallyScrolled, isAfterScroll]);\n  var titleHeaderNotClickable = alwaysShowContentHeader && !headerContentPinnable || !headerContent || !showHideHeaderButton && !headerContentPinnable;\n  var onTitleClick = useCallback(function (e) {\n    if (!titleHeaderNotClickable) {\n      onToggleHeaderContentVisibility(enrichEventWithDetails(e, {\n        visible: !headerContentHeight\n      }));\n    }\n  }, [onToggleHeaderContentVisibility, headerContentHeight, titleHeaderNotClickable]);\n  var renderTitleSection = useCallback(function () {\n    var _headerTitle$props$st, _headerTitle$props, _headerTitle$props2;\n\n    var inHeader = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var titleStyles = _objectSpread(_objectSpread({}, inHeader ? {\n      padding: 0\n    } : {}), (_headerTitle$props$st = headerTitle === null || headerTitle === void 0 ? void 0 : (_headerTitle$props = headerTitle.props) === null || _headerTitle$props === void 0 ? void 0 : _headerTitle$props.style) !== null && _headerTitle$props$st !== void 0 ? _headerTitle$props$st : {});\n\n    if (headerTitle !== null && headerTitle !== void 0 && headerTitle.props && ((_headerTitle$props2 = headerTitle.props) === null || _headerTitle$props2 === void 0 ? void 0 : _headerTitle$props2.showSubHeaderRight) === undefined) {\n      return /*#__PURE__*/React.cloneElement(headerTitle, {\n        showSubHeaderRight: true,\n        style: titleStyles,\n        'data-not-clickable': titleHeaderNotClickable,\n        onToggleHeaderContentVisibility: onTitleClick\n      });\n    }\n\n    return /*#__PURE__*/React.cloneElement(headerTitle, {\n      style: titleStyles,\n      'data-not-clickable': titleHeaderNotClickable,\n      onToggleHeaderContentVisibility: onTitleClick\n    });\n  }, [headerTitle, titleHeaderNotClickable, onTitleClick]);\n  var renderHeaderContentSection = useCallback(function () {\n    if (headerContent !== null && headerContent !== void 0 && headerContent.props) {\n      return /*#__PURE__*/React.cloneElement(headerContent, _objectSpread(_objectSpread({}, headerContent.props), {}, {\n        topHeaderHeight: topHeaderHeight,\n        headerPinned: headerPinned || scrolledHeaderExpanded,\n        ref: headerContentRef,\n        children: /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\".concat(classes.headerContainer, \" \").concat(responsivePaddingClass),\n          \"data-component-name\": \"ObjectPageHeaderContainer\"\n        }, avatar, headerContent.props.children && /*#__PURE__*/React.createElement(\"div\", {\n          \"data-component-name\": \"ObjectPageHeaderContent\"\n        }, headerTitle && showTitleInHeaderContent && renderTitleSection(true), headerContent.props.children))\n      }));\n    }\n  }, [headerContent, topHeaderHeight, headerPinned, scrolledHeaderExpanded, showTitleInHeaderContent, avatar, headerContentRef, renderTitleSection, responsivePaddingClass]);\n  var paddingLeftRtl = isRTL ? 'paddingLeft' : 'paddingRight';\n  var onTabItemSelect = useCallback(function (event) {\n    var _event$detail$tab$dat = event.detail.tab.dataset,\n        sectionId = _event$detail$tab$dat.sectionId,\n        index = _event$detail$tab$dat.index;\n    var section = safeGetChildrenArray(children).find(function (el) {\n      return el.props.id == sectionId;\n    });\n    handleOnSectionSelected(enrichEventWithDetails({}, _objectSpread(_objectSpread({}, section), {}, {\n      index: index\n    })));\n  }, [children]);\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      popoverContent = _useState12[0],\n      setPopoverContent = _useState12[1];\n\n  var popoverRef = useRef(null);\n  var onShowSubSectionPopover = useCallback(function (e, section) {\n    setPopoverContent(section);\n    popoverRef.current.showAt(e.detail.targetRef);\n  }, [setPopoverContent, popoverRef]);\n  var onSubSectionClick = useCallback(function (e) {\n    var selectedId = e.detail.item.dataset.key;\n    var subSection = popoverContent.props.children.filter(function (item) {\n      return item.props && item.props.isSubSection;\n    }).find(function (item) {\n      return item.props.id === selectedId;\n    });\n\n    if (subSection) {\n      handleOnSubSectionSelected(enrichEventWithDetails(e, {\n        section: popoverContent,\n        subSection: subSection\n      }));\n    }\n\n    popoverRef.current.close();\n  }, [handleOnSubSectionSelected, popoverRef, popoverContent]);\n  var prevScrollTop = useRef();\n  var onObjectPageScroll = useCallback(function (e) {\n    if (typeof props.onScroll === 'function') {\n      props.onScroll(e);\n    }\n\n    if (selectedSubSectionId) {\n      setSelectedSubSectionId(undefined);\n    }\n\n    if (scrollTimeout.current) {\n      clearTimeout(scrollTimeout.current);\n    }\n\n    scrollTimeout.current = setTimeout(function () {\n      setIsAfterScroll(true);\n    }, 100);\n\n    if (!headerPinned || e.target.scrollTop === 0) {\n      var _objectPageRef$curren14;\n\n      (_objectPageRef$curren14 = objectPageRef.current) === null || _objectPageRef$curren14 === void 0 ? void 0 : _objectPageRef$curren14.classList.remove(classes.headerCollapsed);\n    }\n\n    if (scrolledHeaderExpanded && e.target.scrollTop !== prevScrollTop.current) {\n      if (e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight) {\n        return;\n      }\n\n      prevScrollTop.current = e.target.scrollTop;\n      setScrolledHeaderExpanded(false);\n    }\n  }, [topHeaderHeight, headerPinned, props.onScroll, objectPageRef.current, scrolledHeaderExpanded, prevScrollTop.current, selectedSubSectionId, scrollTimeout.current]);\n  var onHoverToggleButton = useCallback(function (e) {\n    if ((e === null || e === void 0 ? void 0 : e.type) === 'mouseover') {\n      var _topHeaderRef$current;\n\n      (_topHeaderRef$current = topHeaderRef.current) === null || _topHeaderRef$current === void 0 ? void 0 : _topHeaderRef$current.classList.add(classes.headerHoverStyles);\n    } else {\n      var _topHeaderRef$current2;\n\n      (_topHeaderRef$current2 = topHeaderRef.current) === null || _topHeaderRef$current2 === void 0 ? void 0 : _topHeaderRef$current2.classList.remove(classes.headerHoverStyles);\n    }\n  }, [classes.headerHoverStyles]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    \"data-component-name\": \"ObjectPage\",\n    slot: slot,\n    className: objectPageClasses.toString(),\n    style: style,\n    ref: objectPageRef,\n    title: tooltip,\n    onScroll: onObjectPageScroll\n  }, passThroughProps), /*#__PURE__*/React.createElement(\"header\", {\n    onMouseOver: onHoverToggleButton,\n    onMouseLeave: onHoverToggleButton,\n    \"data-component-name\": \"ObjectPageTopHeader\",\n    ref: topHeaderRef,\n    role: \"banner\",\n    \"data-not-clickable\": titleHeaderNotClickable,\n    \"aria-roledescription\": \"Object Page header\",\n    className: \"\".concat(classes.header, \" \").concat(responsivePaddingClass),\n    onClick: onTitleClick,\n    style: {\n      gridAutoColumns: \"min-content \".concat(headerTitle && image && headerContentHeight === 0 ? \"calc(100% - 3rem - 1rem)\" : '100%'),\n      display: !showTitleInHeaderContent || headerContentHeight === 0 ? 'grid' : 'none'\n    }\n  }, headerTitle && image && headerContentHeight === 0 && /*#__PURE__*/React.createElement(CollapsedAvatar, {\n    image: image,\n    imageShapeCircle: imageShapeCircle,\n    style: _defineProperty({}, paddingLeftRtl, '1rem')\n  }), headerTitle && renderTitleSection()), renderHeaderContentSection(), headerContent && headerTitle && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-component-name\": \"ObjectPageAnchorBar\",\n    ref: anchorBarRef,\n    className: classes.anchorBar,\n    style: {\n      top: scrolledHeaderExpanded || headerPinned ? \"\".concat(topHeaderHeight + headerContentHeight, \"px\") : \"\".concat(topHeaderHeight + 5, \"px\")\n    }\n  }, /*#__PURE__*/React.createElement(DynamicPageAnchorBar, {\n    headerContentVisible: !!headerContentHeight,\n    headerContentPinnable: headerContentPinnable,\n    showHideHeaderButton: showHideHeaderButton,\n    onToggleHeaderContentVisibility: onToggleHeaderContentVisibility,\n    setHeaderPinned: setHeaderPinned,\n    headerPinned: headerPinned,\n    onHoverToggleButton: onHoverToggleButton\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.tabContainer,\n    \"data-component-name\": \"ObjectPageTabContainer\",\n    style: {\n      top: headerPinned || scrolledHeaderExpanded ? \"\".concat(topHeaderHeight + headerContentHeight, \"px\") : \"\".concat(topHeaderHeight, \"px\")\n    }\n  }, /*#__PURE__*/React.createElement(TabContainer$1, {\n    collapsed: true,\n    fixed: true,\n    onTabSelect: onTabItemSelect,\n    showOverflow: true,\n    \"data-component-name\": \"ObjectPageTabContainer\"\n  }, safeGetChildrenArray(children).map(function (section, index) {\n    var _section$props2, _section$props3;\n\n    if (!section.props) return null;\n    return /*#__PURE__*/React.createElement(ObjectPageAnchorButton, {\n      key: \"Anchor-\".concat((_section$props2 = section.props) === null || _section$props2 === void 0 ? void 0 : _section$props2.id),\n      section: section,\n      index: index,\n      selected: internalSelectedSectionId === ((_section$props3 = section.props) === null || _section$props3 === void 0 ? void 0 : _section$props3.id),\n      onShowSubSectionPopover: onShowSubSectionPopover\n    });\n  })), /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Popover, {\n    placementType: PopoverPlacementType.Bottom,\n    horizontalAlign: PopoverHorizontalAlign.Left,\n    hideArrow: true,\n    ref: popoverRef,\n    onAfterClose: stopPropagation\n  }, /*#__PURE__*/React.createElement(List, {\n    onItemClick: onSubSectionClick\n  }, popoverContent === null || popoverContent === void 0 ? void 0 : (_popoverContent$props = popoverContent.props) === null || _popoverContent$props === void 0 ? void 0 : _popoverContent$props.children.filter(function (item) {\n    return item.props && item.props.isSubSection;\n  }).map(function (item) {\n    return /*#__PURE__*/React.createElement(StandardListItem, {\n      key: item.props.id,\n      \"data-key\": item.props.id\n    }, item.props.titleText);\n  }))), document.body)), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-component-name\": \"ObjectPageContent\",\n    className: responsivePaddingClass\n  }, mode === ObjectPageMode.IconTabBar ? getSectionById(children, internalSelectedSectionId) : children), footer && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '1rem'\n    },\n    \"data-component-name\": \"ObjectPageFooterSpacer\"\n  }), footer && /*#__PURE__*/React.createElement(\"footer\", {\n    className: classes.footer,\n    \"data-component-name\": \"ObjectPageFooter\"\n  }, footer));\n});\nObjectPage.displayName = 'ObjectPage';\nObjectPage.defaultProps = {\n  image: null,\n  mode: ObjectPageMode.Default,\n  imageShapeCircle: false,\n  showHideHeaderButton: false\n};\nexport { ObjectPage };","map":{"version":3,"sources":["../src/internal/stopPropagation.ts","../src/internal/useObserveHeights.ts","../src/internal/useResponsiveContentPadding.ts","../src/components/DynamicPageAnchorBar/index.tsx","../src/components/ObjectPage/CollapsedAvatar.tsx","../src/components/DynamicPage/DynamicPage.jss.ts","../src/components/ObjectPage/ObjectPage.jss.ts","../src/components/ObjectPage/ObjectPageAnchorTab.ts","../src/components/ObjectPage/ObjectPageUtils.ts","../src/components/ObjectPage/ObjectPageAnchorButton.tsx","../src/enums/PopoverHorizontalAlign.ts","../src/components/ObjectPage/index.tsx"],"names":["stopPropagation","e","useObserveHeights","noHeader","topHeaderHeight","setTopHeaderHeight","useState","headerContentHeight","setHeaderContentHeight","isIntersecting","setIsIntersecting","useEffect","headerIntersectionObserver","header","rootMargin","root","objectPage","threshold","headerContentRef","headerContentResizeObserver","borderBoxSize","Array","topHeader","headerContent","anchorBarHeight","anchorBarRef","totalHeaderHeight","useStyles","createUseStyles","Phone","paddingLeft","paddingRight","Tablet","Desktop","LargeDesktop","name","useResponsiveContentPadding","currentRange","setCurrentRange","getCurrentRange","resizeTimeout","useRef","isMounted","classes","observer","el","clearTimeout","setTimeout","addCustomCSS","anchorBarStyles","anchorBarActionButton","position","top","marginLeft","left","zIndex","content","width","height","right","backgroundImage","ThemingParameters","anchorBarActionButtonRtl","marginRight","anchorBarActionButtonExpandable","anchorBarActionButtonPinnable","anchorBarActionPinnableAndExpandable","backgroundColor","anchorBarActionPinnableAndExpandableRtl","DynamicPageAnchorBar","forwardRef","showHideHeaderButton","headerContentVisible","headerContentPinnable","headerPinned","setHeaderPinned","onToggleHeaderContentVisibility","onHoverToggleButton","style","props","useConsolidatedRef","isRTL","useIsRTL","shouldRenderHeaderPinnableButton","showBothActions","onPinHeader","useCallback","anchorBarActionButtonClasses","StyleClassHelper","bothActionClasses","onToggleHeaderButtonClick","enrichEventWithDetails","visible","i18nBundle","useI18nBundle","styles","base","alignSelf","opacity","hidden","transition","imageContainer","display","verticalAlign","maxHeight","maxWidth","image","CollapsedAvatar","imageShapeCircle","setIsMounted","domRef","avatarContent","useMemo","borderRadius","overflow","size","AvatarSize","className","containerClasses","DynamicPageCssVariables","headerDisplay","dynamicPage","whiteSpace","fontFamily","overflowX","overflowY","headerCollapsed","anchorBar","boxShadow","iEClass","iEBackgroundElement","sapObjectHeader_Background","contentContainer","paddingTop","boxSizing","backgroundStandard","background","sapBackgroundColor","backgroundSolid","backgroundList","sapGroup_ContentBackground","backgroundTransparent","footer","bottom","margin","ObjectPageCssVariables","anchorFloat","anchorLeft","anchorRight","lastSectionMargin","marginBottom","iconTabBarMode","headerContainer","gridAutoColumns","gridColumn","headerHoverStyles","cursor","sapTile_Active_Background","headerImage","minWidth","headerImageRtl","tabContainer","metadata","tag","properties","withSubSections","type","Boolean","events","ObjectPageAnchorTab","Tab","html","ifDefined","context","scopeTag","targetRef","parentElement","TabContainer","safeGetChildrenArray","Children","getSectionById","extractSectionIdFromHtmlId","id","getLastObjectPageSection","sections","ref","ObjectPageAnchorButton","section","index","selected","onShowSubSectionPopover","hasSubSections","subSection","listener","undefined","PopoverHorizontalAlign","ObjectPage","headerTitle","mode","tooltip","slot","children","onSelectedSectionChanged","selectedSectionId","alwaysShowContentHeader","showTitleInHeaderContent","firstSectionId","internalSelectedSectionId","setInternalSelectedSectionId","selectedSubSectionId","setSelectedSubSectionId","isProgrammaticallyScrolled","objectPageRef","topHeaderRef","scrollTimeout","isAfterScroll","setIsAfterScroll","responsivePaddingClass","avatar","headerImageClasses","prevTopHeaderHeight","scrollToSection","behavior","childOffset","isNaN","safeTopHeaderHeight","handleOnSectionSelected","newSelectionSection","oldSelectedSection","fireOnSelectedChangedEvent","ObjectPageMode","currentSubSection","React","sectionId","fillerDivObserver","heightDiff","Math","window","availableScrollHeight","lastSectionDomRef","subSections","lastSubSectionHeight","debounce","selectedSectionIndex","detail","handleOnSubSectionSelected","scrolledHeaderExpanded","setScrolledHeaderExpanded","objectPageClasses","GlobalStyleClasses","passThroughProps","usePassThroughHtmlProps","objectPageHeight","currentSection","i","titleHeaderNotClickable","onTitleClick","renderTitleSection","inHeader","titleStyles","padding","showSubHeaderRight","renderHeaderContentSection","paddingLeftRtl","onTabItemSelect","event","popoverContent","setPopoverContent","popoverRef","onSubSectionClick","selectedId","item","prevScrollTop","onObjectPageScroll","createPortal","PopoverPlacementType","document"],"mappings":"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","sourcesContent":["export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation?.();\n};\n","import { useEffect, useState } from 'react';\n\ndeclare const ResizeObserver;\n\nexport const useObserveHeights = (objectPage, topHeader, headerContentRef, anchorBarRef, { noHeader }) => {\n  const [topHeaderHeight, setTopHeaderHeight] = useState(0);\n  const [headerContentHeight, setHeaderContentHeight] = useState(0);\n  const [isIntersecting, setIsIntersecting] = useState(true);\n  useEffect(() => {\n    const headerIntersectionObserver = new IntersectionObserver(\n      ([header]) => {\n        if (header.isIntersecting) {\n          setIsIntersecting(true);\n        } else {\n          setIsIntersecting(false);\n          setHeaderContentHeight(0);\n        }\n      },\n      { rootMargin: `-${topHeaderHeight}px 0px 0px 0px`, root: objectPage?.current, threshold: 0.3 }\n    );\n\n    if (headerContentRef?.current) {\n      headerIntersectionObserver.observe(headerContentRef.current);\n    }\n\n    return () => {\n      headerIntersectionObserver.disconnect();\n    };\n  }, [topHeaderHeight, setHeaderContentHeight, headerContentRef.current, setIsIntersecting]);\n\n  // top header\n  useEffect(() => {\n    const headerContentResizeObserver = new ResizeObserver(([header]) => {\n      // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n      const borderBoxSize = Array.isArray(header.borderBoxSize) ? header.borderBoxSize[0] : header.borderBoxSize;\n      // Safari doesn't implement `borderBoxSize`\n      setTopHeaderHeight(borderBoxSize?.blockSize ?? header.target.getBoundingClientRect().height);\n    });\n    if (topHeader?.current) {\n      headerContentResizeObserver.observe(topHeader.current);\n    }\n    return () => {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [topHeader?.current, setTopHeaderHeight]);\n\n  // header content\n  useEffect(() => {\n    const headerContentResizeObserver = new ResizeObserver(([headerContent]) => {\n      if (isIntersecting) {\n        // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n        const borderBoxSize = Array.isArray(headerContent.borderBoxSize)\n          ? headerContent.borderBoxSize[0]\n          : headerContent.borderBoxSize;\n        // Safari doesn't implement `borderBoxSize`\n        setHeaderContentHeight(borderBoxSize?.blockSize ?? headerContent.target.getBoundingClientRect().height);\n      }\n    });\n\n    if (headerContentRef?.current) {\n      headerContentResizeObserver.observe(headerContentRef.current);\n    }\n    return () => {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [headerContentRef?.current, setHeaderContentHeight, isIntersecting]);\n  const anchorBarHeight = anchorBarRef?.current?.offsetHeight ?? 33;\n  const totalHeaderHeight = (noHeader ? 0 : topHeaderHeight + headerContentHeight) + anchorBarHeight;\n\n  return { topHeaderHeight, headerContentHeight, anchorBarHeight, totalHeaderHeight };\n};\n","import { getCurrentRange } from '@ui5/webcomponents-react-base/dist/Device';\nimport { useEffect, useRef, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles(\n  {\n    Phone: { paddingLeft: '1rem', paddingRight: '1rem' },\n    Tablet: { paddingLeft: '2rem', paddingRight: '2rem' },\n    Desktop: { paddingLeft: '2rem', paddingRight: '2rem' },\n    LargeDesktop: { paddingLeft: '3rem', paddingRight: '3rem' }\n  },\n  { name: 'StdExtPadding' }\n);\n\nexport const useResponsiveContentPadding = (element) => {\n  const [currentRange, setCurrentRange] = useState(getCurrentRange().name);\n  const resizeTimeout = useRef(null);\n  const isMounted = useRef(false);\n  const classes = useStyles();\n\n  useEffect(() => {\n    isMounted.current = true;\n    const observer = new ResizeObserver(([el]) => {\n      if (resizeTimeout.current) {\n        clearTimeout(resizeTimeout.current);\n      }\n      resizeTimeout.current = setTimeout(() => {\n        if (isMounted.current) {\n          setCurrentRange(() => getCurrentRange(el.contentRect.width)?.name);\n        }\n      }, 150);\n    });\n    if (element) {\n      observer.observe(element);\n    }\n    return () => {\n      isMounted.current = false;\n      observer.disconnect();\n    };\n  }, [element, isMounted]);\n\n  return classes[currentRange];\n};\n","import { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming';\nimport '@ui5/webcomponents-icons/dist/pushpin-off.js';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-down.js';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-up.js';\nimport { useConsolidatedRef, useI18nBundle, useIsRTL } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/dist/StyleClassHelper';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  COLLAPSE_HEADER,\n  EXPAND_HEADER,\n  PIN_HEADER,\n  UNPIN_HEADER\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ToggleButton } from '@ui5/webcomponents-react/dist/ToggleButton';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport React, { forwardRef, RefObject, useCallback } from 'react';\nimport { createUseStyles } from 'react-jss';\n\naddCustomCSS(\n  'ui5-button',\n  `\n  :host([data-ui5wcr-dynamic-page-header-action]){\n    width: 1.375rem;\n    height: 1.375rem;\n    min-width: 1.375rem;\n  }\n  :host([data-ui5wcr-dynamic-page-header-action]) .ui5-button-root {\n    padding: 0;\n  }`\n);\naddCustomCSS(\n  'ui5-toggle-button',\n  `\n    :host([data-ui5wcr-dynamic-page-header-action]){\n    width: 1.375rem;\n    height: 1.375rem;\n    min-width: 1.375rem;\n  }\n  :host([data-ui5wcr-dynamic-page-header-action]) .ui5-button-root {\n    padding: 0;\n  }`\n);\n\nconst anchorBarStyles = {\n  anchorBarActionButton: {\n    position: 'absolute',\n    top: `-0.6875rem`,\n    marginLeft: `-0.6875rem`,\n    left: '50%',\n    zIndex: 3,\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'absolute',\n      width: '4rem',\n      top: '50%',\n      height: '0.0625rem'\n    },\n    '&:before': {\n      right: '100%',\n      backgroundImage: `linear-gradient(to left, ${ThemingParameters.sapHighlightColor}, rgba(8,84,160,0))`\n    },\n    '&:after': {\n      backgroundImage: `linear-gradient(to right, ${ThemingParameters.sapHighlightColor}, rgba(8,84,160,0))`,\n      left: '100%'\n    }\n  },\n  anchorBarActionButtonRtl: {\n    marginRight: `-0.6875rem`,\n    marginLeft: 0\n  },\n  anchorBarActionButtonExpandable: {},\n  anchorBarActionButtonPinnable: {},\n  anchorBarActionPinnableAndExpandable: {\n    '&$anchorBarActionButtonPinnable': {\n      marginLeft: '0.25rem',\n      '&:before': {\n        backgroundColor: 'white'\n      }\n    },\n    '&$anchorBarActionButtonExpandable': {\n      marginLeft: '-1.75rem'\n    }\n  },\n  anchorBarActionPinnableAndExpandableRtl: {\n    '&$anchorBarActionButtonPinnable': {\n      marginRight: '0.25rem',\n      '&:before': {\n        backgroundColor: 'white'\n      }\n    },\n    '&$anchorBarActionButtonExpandable': {\n      marginRight: '-1.75rem'\n    }\n  }\n};\n\nconst useStyles = createUseStyles(anchorBarStyles, { name: 'DynamicPageAnchorBar' });\n\ninterface Props extends CommonProps {\n  /**\n   * Determines if the header content is visible.\n   */\n  headerContentVisible: boolean;\n  /**\n   * Determines if the header content is pinnable .\n   */\n  headerContentPinnable: boolean;\n  /**\n   * Determines if the hide header button is shown .\n   */\n  showHideHeaderButton: boolean;\n  /**\n   * Determines if the header is initially pinned .\n   */\n  headerPinned?: boolean;\n  /**\n   * Set the header to the state pinned.\n   */\n  setHeaderPinned?: (payload: any) => void;\n  /**\n   * Toggles the header content to be hidden or visible .\n   */\n  onToggleHeaderContentVisibility: (e: any) => void;\n  /**\n   * Highlight title when hovered.\n   */\n  onHoverToggleButton?: (e: any) => void;\n}\n\n/**\n * The dynamic page anchor bar contains the expand/collapse (expands or collapses the header content)\n * and pin button (pins the content header).\n */\nconst DynamicPageAnchorBar = forwardRef((props: Props, ref: RefObject<HTMLElement>) => {\n  const {\n    showHideHeaderButton,\n    headerContentVisible,\n    headerContentPinnable,\n    headerPinned,\n    setHeaderPinned,\n    onToggleHeaderContentVisibility,\n    onHoverToggleButton,\n    style\n  } = props;\n\n  const classes = useStyles();\n  const anchorBarRef = useConsolidatedRef<HTMLDivElement>(ref);\n  const isRTL = useIsRTL(anchorBarRef);\n\n  const shouldRenderHeaderPinnableButton = headerContentPinnable && headerContentVisible;\n  const showBothActions = shouldRenderHeaderPinnableButton && showHideHeaderButton;\n\n  const onPinHeader = useCallback(\n    (e) => {\n      setHeaderPinned(e.target.pressed);\n    },\n    [setHeaderPinned]\n  );\n\n  const anchorBarActionButtonClasses = StyleClassHelper.of(classes.anchorBarActionButton);\n  if (isRTL) {\n    anchorBarActionButtonClasses.put(classes.anchorBarActionButtonRtl);\n  }\n\n  const bothActionClasses = StyleClassHelper.of(classes.anchorBarActionPinnableAndExpandable);\n  if (isRTL) {\n    bothActionClasses.put(classes.anchorBarActionPinnableAndExpandableRtl);\n  }\n\n  const onToggleHeaderButtonClick = (e) => {\n    onToggleHeaderContentVisibility(enrichEventWithDetails(e, { visible: !headerContentVisible }));\n  };\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  return (\n    <section\n      data-component-name=\"DynamicPageAnchorBar\"\n      style={style}\n      role=\"navigation\"\n      className={showHideHeaderButton || headerContentPinnable ? classes.anchorBarActionButton : null}\n      ref={anchorBarRef}\n    >\n      {showHideHeaderButton && (\n        <Button\n          icon={!headerContentVisible ? 'slim-arrow-down' : 'slim-arrow-up'}\n          data-ui5wcr-dynamic-page-header-action=\"\"\n          className={`${anchorBarActionButtonClasses.className} ${classes.anchorBarActionButtonExpandable} ${\n            showBothActions ? bothActionClasses.className : ''\n          }`}\n          onClick={onToggleHeaderButtonClick}\n          onMouseOver={onHoverToggleButton}\n          onMouseLeave={onHoverToggleButton}\n          tooltip={i18nBundle.getText(!headerContentVisible ? EXPAND_HEADER : COLLAPSE_HEADER)}\n          aria-label={i18nBundle.getText(!headerContentVisible ? EXPAND_HEADER : COLLAPSE_HEADER)}\n        />\n      )}\n      {shouldRenderHeaderPinnableButton && (\n        <ToggleButton\n          icon=\"pushpin-off\"\n          data-ui5wcr-dynamic-page-header-action=\"\"\n          className={`${anchorBarActionButtonClasses.className} ${classes.anchorBarActionButtonPinnable} ${\n            showBothActions ? bothActionClasses.className : ''\n          }`}\n          pressed={headerPinned}\n          onClick={onPinHeader}\n          tooltip={i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER)}\n          aria-label={i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER)}\n        />\n      )}\n    </section>\n  );\n});\n\nDynamicPageAnchorBar.displayName = 'DynamicPageAnchorBar';\n\nexport { DynamicPageAnchorBar };\n","import { StyleClassHelper } from '@ui5/webcomponents-react-base/dist/StyleClassHelper';\nimport { AvatarSize } from '@ui5/webcomponents-react/dist/AvatarSize';\nimport React, { CSSProperties, ReactElement, useEffect, useMemo, useRef, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\n\nconst styles = {\n  base: {\n    alignSelf: 'center',\n    opacity: 0\n  },\n  hidden: {\n    opacity: 0\n  },\n  visible: {\n    transition: 'opacity 0.5s',\n    opacity: 1\n  },\n  imageContainer: {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    maxHeight: '3rem',\n    width: '3rem',\n    maxWidth: '3rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  }\n};\n\nconst useStyles = createUseStyles(styles, {\n  name: 'CollapsedAvatar'\n});\n\nexport interface CollapsedAvatarPropTypes {\n  image?: string | ReactElement;\n  imageShapeCircle?: boolean;\n  style?: CSSProperties;\n}\n\nexport const CollapsedAvatar = (props: CollapsedAvatarPropTypes) => {\n  const { image, imageShapeCircle, style } = props;\n  const classes = useStyles();\n  const [isMounted, setIsMounted] = useState(false);\n  const domRef = useRef();\n\n  const avatarContent = useMemo(() => {\n    if (!image) return null;\n\n    if (typeof image === 'string') {\n      return (\n        <span\n          className={classes.imageContainer}\n          style={{ borderRadius: imageShapeCircle ? '50%' : 0, overflow: 'hidden' }}\n        >\n          <img className={classes.image} src={image} alt=\"Object Page Image\" />\n        </span>\n      );\n    } else {\n      return React.cloneElement(image, {\n        size: AvatarSize.S,\n        // @ts-ignore\n        className: image.props?.className\n          ? `${classes.imageContainer} ${image.props?.className}`\n          : classes.imageContainer\n      } as unknown);\n    }\n  }, [image, imageShapeCircle]);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const containerClasses = StyleClassHelper.of(classes.base);\n  if (isMounted) {\n    containerClasses.put(classes.visible);\n  } else {\n    containerClasses.put(classes.hidden);\n  }\n\n  return (\n    <div\n      ref={domRef}\n      className={containerClasses.valueOf()}\n      style={style}\n      data-component-name=\"ObjectPageCollapsedAvatar\"\n    >\n      {avatarContent}\n    </div>\n  );\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nexport const DynamicPageCssVariables = {\n  headerDisplay: '--ui5wcr_DynamicPage_header_display'\n};\n\nexport const styles = {\n  dynamicPage: {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100%',\n    position: 'relative',\n    whiteSpace: 'normal',\n    fontFamily: ThemingParameters.sapFontFamily,\n    backgroundColor: ThemingParameters.sapBackgroundColor,\n    overflowX: 'hidden',\n    overflowY: 'auto',\n    [DynamicPageCssVariables.headerDisplay]: 'block'\n  },\n  headerCollapsed: {\n    [DynamicPageCssVariables.headerDisplay]: 'none',\n    '& $anchorBar > section[role=\"navigation\"]': {\n      top: '-0.025rem'\n    }\n  },\n  anchorBar: {\n    position: 'sticky',\n    boxShadow: ThemingParameters.sapContent_HeaderShadow,\n    height: '1px',\n    zIndex: 2,\n    '& > section[role=\"navigation\"]': {\n      top: 0\n    }\n  },\n  iEClass: {\n    position: 'fixed',\n    //page width - scrollbar\n    width: 'calc(100% - 18px)'\n  },\n  iEBackgroundElement: {\n    position: 'fixed',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background\n  },\n  contentContainer: {\n    paddingTop: '1rem',\n    boxSizing: 'border-box',\n    width: '100%',\n    height: 'auto',\n    fontFamily: ThemingParameters.sapFontFamily,\n    zIndex: 0\n  },\n  backgroundStandard: {\n    background: ThemingParameters.sapBackgroundColor\n  },\n  backgroundSolid: {\n    background: ThemingParameters.sapBackgroundColor\n  },\n  backgroundList: {\n    background: ThemingParameters.sapGroup_ContentBackground\n  },\n  backgroundTransparent: {\n    background: 'transparent'\n  },\n  footer: {\n    position: 'sticky',\n    bottom: '0.5rem',\n    margin: '0 0.5rem'\n  }\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { DynamicPageCssVariables } from '../DynamicPage/DynamicPage.jss';\n\nexport const ObjectPageCssVariables = {\n  anchorFloat: '--_ui5wcr_ObjectPage_actions_float',\n  anchorLeft: '--_ui5wcr_ObjectPage_actions_left',\n  anchorRight: '--_ui5wcr_ObjectPage_actions_right',\n  lastSectionMargin: '--_ui5wcr_ObjectPage_last_section_margin_bottom'\n};\n\nexport const styles = {\n  objectPage: {\n    [DynamicPageCssVariables.headerDisplay]: 'block',\n    boxSizing: 'border-box',\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    position: 'relative',\n    whiteSpace: 'normal',\n    fontFamily: ThemingParameters.sapFontFamily,\n    backgroundColor: ThemingParameters.sapBackgroundColor,\n    overflowX: 'hidden',\n    overflowY: 'auto',\n    [ObjectPageCssVariables.lastSectionMargin]: 0,\n    '& section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]': {\n      display: 'none'\n    },\n    // explanation why first-child selector is not sufficient here:\n    // https://stackoverflow.com/questions/7128406/css-select-the-first-child-from-elements-with-particular-attribute\n    '& section[id*=\"ObjectPageSection-\"] ~ section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]': {\n      display: 'block'\n    },\n    '& section[data-component-name=\"ObjectPageSection\"]:last-of-type': {\n      marginBottom: `var(${ObjectPageCssVariables.lastSectionMargin})`\n    }\n  },\n  '@global html': {\n    [ObjectPageCssVariables.anchorFloat]: 'right',\n    [ObjectPageCssVariables.anchorRight]: '1.25rem',\n    [ObjectPageCssVariables.anchorLeft]: 'unset'\n  },\n  '@global [dir=\"rtl\"]': {\n    [ObjectPageCssVariables.anchorFloat]: 'left',\n    [ObjectPageCssVariables.anchorRight]: 'unset',\n    [ObjectPageCssVariables.anchorLeft]: '1.25rem'\n  },\n  iconTabBarMode: {\n    '& section[data-component-name=\"ObjectPageSection\"] > div[role=\"heading\"]': {\n      display: 'none'\n    }\n  },\n  headerCollapsed: {\n    [DynamicPageCssVariables.headerDisplay]: 'none'\n  },\n  headerContainer: {\n    marginBottom: '0.25rem',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    display: 'grid',\n    gridAutoColumns: 'min-content calc(100% - 5rem - 2rem)' /*avatar size - padding */,\n    '& [data-component-name=\"ObjectPageHeaderContent\"]': {\n      gridColumn: 2\n    }\n  },\n  headerHoverStyles: {\n    '&[data-not-clickable=\"true\"]': {\n      cursor: 'unset'\n    },\n    '&[data-not-clickable=\"false\"]': {\n      // TODO background color should be sapObjectHeader_Hover_Background (same color as sapTile_Active_Background)\n      backgroundColor: `${ThemingParameters.sapTile_Active_Background}`,\n      '& [data-component-name=\"DynamicPageTitle\"]': {\n        backgroundColor: ThemingParameters.sapTile_Active_Background\n      }\n    }\n  },\n  header: {\n    [DynamicPageCssVariables.headerDisplay]: 'block',\n    boxSizing: 'border-box',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    position: 'sticky',\n    top: 0,\n    zIndex: 2,\n    '& [data-component-name=\"DynamicPageTitle\"]': {\n      gridColumn: 2,\n      paddingLeft: 0,\n      paddingRight: 0\n    },\n    cursor: 'pointer'\n  },\n  iEClass: {\n    position: 'fixed',\n    width: 'calc(100% - 18px)'\n  },\n  headerImage: {\n    minWidth: '5rem',\n    maxWidth: '5rem',\n    maxHeight: '5rem',\n    display: 'inline-block',\n    marginRight: '2rem'\n  },\n  headerImageRtl: {\n    marginRight: 0,\n    marginLeft: '2rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  },\n  anchorBar: {\n    position: 'sticky',\n    zIndex: 2\n  },\n  tabContainer: {\n    position: 'sticky',\n    zIndex: 1\n  },\n  footer: {\n    position: 'sticky',\n    bottom: '0.5rem',\n    margin: '0 0.5rem'\n  }\n};\n","/* eslint-disable no-underscore-dangle */\nimport { html, scopeTag } from '@ui5/webcomponents-base/dist/renderer/LitRenderer';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport Icon from '@ui5/webcomponents/dist/Icon.js';\nimport Tab from '@ui5/webcomponents/dist/Tab.js';\nimport TabContainer from '@ui5/webcomponents/dist/TabContainer.js';\nimport { ifDefined } from 'lit-html/directives/if-defined';\nimport { DetailedHTMLProps, HTMLAttributes, MouseEventHandler } from 'react';\n\ninterface ObjectPageAnchorTabPropTypes extends HTMLAttributes<HTMLElement> {\n  text: string;\n  'with-sub-sections'?: boolean;\n  selected?: boolean;\n}\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  namespace JSX {\n    interface IntrinsicElements {\n      'ui5-object-page-anchor-tab': DetailedHTMLProps<ObjectPageAnchorTabPropTypes, HTMLElement>;\n    }\n  }\n}\n\nconst metadata = {\n  tag: 'ui5-object-page-anchor-tab',\n  properties: {\n    withSubSections: {\n      type: Boolean\n    }\n  },\n  events: {\n    'show-sub-sections': {}\n  }\n};\n\nclass ObjectPageAnchorTab extends Tab {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get dependencies() {\n    return [Icon];\n  }\n\n  static get stripTemplate() {\n    return (context, tags, suffix) => {\n      return html` <li\n        id=\"${ifDefined(context._id)}\"\n        class=\"${ifDefined(context.headerClasses)}\"\n        tabindex=\"${ifDefined(context._tabIndex)}\"\n        role=\"tab\"\n        aria-posinset=\"${ifDefined(context._posinset)}\"\n        aria-setsize=\"${ifDefined(context._setsize)}\"\n        aria-controls=\"ui5-tc-contentItem-${ifDefined(context._posinset)}\"\n        aria-selected=\"${ifDefined(context.effectiveSelected)}\"\n        aria-disabled=\"${ifDefined(context.effectiveDisabled)}\"\n        ?disabled=\"${context.effectiveDisabled}\"\n        aria-labelledby=\"${ifDefined(context.ariaLabelledBy)}\"\n        data-ui5-stable=\"${ifDefined(context.stableDomRef)}\"\n        style=\"list-style-type: none;\"\n      >\n        <div class=\"ui5-tab-strip-itemContent\">\n          ${context.text\n            ? html`<span\n                class=\"ui5-tab-strip-itemText\"\n                id=\"${ifDefined(context._id)}-text\"\n                ?data-active=\"${ifDefined(context.withSubSections)}\"\n              >\n                ${ifDefined(context.text)}\n              </span>`\n            : undefined}\n          ${context.withSubSections\n            ? html`<${scopeTag('ui5-icon', tags, suffix)}\n                name=\"slim-arrow-down\"\n                class=\"objectPageSubSectionsIcon\"\n                interactive\n                @click=\"${context._handleOnSubSectionsClick}\"\n              />`\n            : undefined}\n        </div>\n      </li>`;\n    };\n  }\n\n  _handleOnSubSectionsClick: MouseEventHandler<HTMLElement> = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    this.fireEvent('show-sub-sections', {\n      targetRef: (e.target as any).parentElement.parentElement\n    });\n  };\n\n  // maybe we can look into a custom overflow template as well\n  // static get overflowTemplate() {\n  //   return (context, tags, suffix) => {\n  //     setTags(tags);\n  //     setSuffix(suffix);\n  //     return html`<ui5-li-custom\n  //       id=\"${ifDefined(context._id)}\"\n  //       class=\"${ifDefined(context.overflowClasses)}\"\n  //       type=\"${ifDefined(context.overflowState)}\"\n  //       ?selected=\"${context.effectiveSelected}\"\n  //       ?disabled=\"${context.effectiveDisabled}\"\n  //       aria-disabled=\"${ifDefined(context.effectiveDisabled)}\"\n  //       aria-selected=\"${ifDefined(context.effectiveSelected)}\"\n  //       aria-labelledby=\"${ifDefined(context.ariaLabelledBy)}\"\n  //     >\n  //       <div class=\"ui5-tab-overflow-itemContent\">${ifDefined(context.text)}</div>\n  //     </ui5-li-custom>`;\n  //   };\n  // }\n}\n\nTabContainer.registerTabStyles(`\n\n:host([data-component-name=\"ObjectPageTabContainer\"]) .ui5-tab-strip-itemContent {\n  display: flex;\n  align-items: center;\n  pointer-events: all;\n}\n\n.objectPageSubSectionsIcon {\n  padding-left: 0.625rem;\n}\n\n.objectPageSubSectionsIcon[interactive]:hover {\n  color: ${ThemingParameters.sapContent_IconColor};\n}\n\n:host([data-component-name=\"ObjectPageTabContainer\"]) .ui5-tab-strip-itemText[data-active]:hover {\n  color: ${ThemingParameters.sapButton_Lite_Hover_TextColor};\n}\n`);\n// TabContainer.registerStaticAreaTabStyles(overflowCss);\n\nexport { ObjectPageAnchorTab };\n","import { Children, ReactElement, ReactNode, RefObject } from 'react';\n\nexport const safeGetChildrenArray = <T = Exclude<ReactNode, boolean | null | undefined>>(children: unknown): T[] =>\n  Children.toArray(children).filter(Boolean) as T[];\n\nexport const getSectionById = (sections: ReactElement<any> | ReactElement<any>[], id) => {\n  return safeGetChildrenArray(sections).find((objectPageSection: ReactElement) => objectPageSection.props?.id === id);\n};\n\nexport const extractSectionIdFromHtmlId = (id: string) => {\n  return id.replace(/^ObjectPageSection-/, '');\n};\n\nexport const getLastObjectPageSection = (ref: RefObject<HTMLDivElement>, alwaysSetMargin): HTMLElement => {\n  const sections = ref.current?.querySelectorAll<HTMLElement>('[id^=\"ObjectPageSection\"]');\n\n  if (!sections || sections.length < 1) {\n    return null;\n  }\n  if (!alwaysSetMargin && sections.length === 1) {\n    if (sections[0].querySelectorAll('[id^=\"ObjectPageSubSection\"]').length === 0) {\n      return null;\n    }\n  }\n\n  return sections[sections.length - 1];\n};\n","import '@ui5/webcomponents-icons/dist/slim-arrow-down';\nimport React, { FC, ReactElement, useEffect, useRef } from 'react';\nimport { ObjectPageSectionPropTypes } from '../ObjectPageSection';\nimport { ObjectPageAnchorTab } from './ObjectPageAnchorTab';\nimport { safeGetChildrenArray } from './ObjectPageUtils';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nObjectPageAnchorTab.define();\n\ninterface ObjectPageAnchorPropTypes {\n  section: ReactElement<ObjectPageSectionPropTypes>;\n  onShowSubSectionPopover: (event: any, section: any) => void;\n  index: number;\n  selected: boolean;\n}\n\nexport const ObjectPageAnchorButton: FC<ObjectPageAnchorPropTypes> = (props: ObjectPageAnchorPropTypes) => {\n  const ref = useRef<HTMLElement>();\n  const { section, index, selected, onShowSubSectionPopover } = props;\n\n  const hasSubSections = safeGetChildrenArray<any>(section.props.children).some(\n    (subSection) => subSection.props?.isSubSection\n  );\n\n  useEffect(() => {\n    const listener = (e) => {\n      onShowSubSectionPopover(e, section);\n    };\n    const el = ref.current;\n    el.addEventListener('show-sub-sections', listener);\n    return () => {\n      el?.removeEventListener('show-sub-sections', listener);\n    };\n  }, [onShowSubSectionPopover]);\n\n  return (\n    <ui5-object-page-anchor-tab\n      ref={ref}\n      data-index={index}\n      data-section-id={section.props.id}\n      text={section.props.titleText}\n      selected={selected || undefined}\n      with-sub-sections={hasSubSections || undefined}\n    />\n  );\n};\n","// Generated file - do not change manually!\n\n/**\n * Defines the horizontal alignment of <code>ui5-popover</code>\n */\nexport enum PopoverHorizontalAlign {\n  /**\n   * Popover is centered\n   */\n  Center = 'Center',\n\n  /**\n   * Popover opens on the left side of the target\n   */\n  Left = 'Left',\n\n  /**\n   * Popover opens on the right side of the target\n   */\n  Right = 'Right',\n\n  /**\n   * Popover is stretched\n   */\n  Stretch = 'Stretch'\n}\n","import { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming';\nimport { useIsRTL } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/dist/StyleClassHelper';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { useConsolidatedRef } from '@ui5/webcomponents-react-base/dist/useConsolidatedRef';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/dist/usePassThroughHtmlProps';\nimport { debounce, enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { AvatarPropTypes } from '@ui5/webcomponents-react/dist/Avatar';\nimport { AvatarSize } from '@ui5/webcomponents-react/dist/AvatarSize';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/dist/GlobalStyleClasses';\nimport { List } from '@ui5/webcomponents-react/dist/List';\nimport { ObjectPageMode } from '@ui5/webcomponents-react/dist/ObjectPageMode';\nimport { PopoverPlacementType } from '@ui5/webcomponents-react/dist/PopoverPlacementType';\nimport { Popover } from '@ui5/webcomponents-react/dist/Popover';\nimport { StandardListItem } from '@ui5/webcomponents-react/dist/StandardListItem';\nimport { TabContainer } from '@ui5/webcomponents-react/dist/TabContainer';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport React, {\n  ComponentType,\n  forwardRef,\n  ReactElement,\n  RefObject,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { Ui5PopoverDomRef } from '../../interfaces/Ui5PopoverDomRef';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { useObserveHeights } from '../../internal/useObserveHeights';\nimport { useResponsiveContentPadding } from '../../internal/useResponsiveContentPadding';\nimport { DynamicPageAnchorBar } from '../DynamicPageAnchorBar';\nimport { ObjectPageSectionPropTypes } from '../ObjectPageSection';\nimport { ObjectPageSubSectionPropTypes } from '../ObjectPageSubSection';\nimport { CollapsedAvatar } from './CollapsedAvatar';\nimport { ObjectPageCssVariables, styles } from './ObjectPage.jss';\nimport { ObjectPageAnchorButton } from './ObjectPageAnchorButton';\nimport {\n  extractSectionIdFromHtmlId,\n  getLastObjectPageSection,\n  getSectionById,\n  safeGetChildrenArray\n} from './ObjectPageUtils';\nimport { PopoverHorizontalAlign } from '../../enums/PopoverHorizontalAlign';\n\naddCustomCSS(\n  'ui5-tabcontainer',\n  `\n  :host([data-component-name=\"ObjectPageTabContainer\"]) .ui5-tc__header {\n    box-shadow: inset 0 -0.0625rem ${ThemingParameters.sapPageHeader_BorderColor}, 0 0.125rem 0.25rem 0 rgb(0 0 0 / 8%);\n  }\n  `\n);\n\nexport interface ObjectPagePropTypes extends CommonProps {\n  /**\n   * Defines the the upper, always static, title section of the `ObjectPage`.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `DynamicPageTitle` in order to preserve the intended design.\n   * __Note:__ If not defined otherwise the prop `showSubHeaderRight` of the `DynamicPageTitle` is set to `true` by default.\n   */\n  headerTitle?: ReactElement;\n  /**\n   * Defines the dynamic header section of the `ObjectPage`.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `DynamicPageHeader` in order to preserve the intended design.\n   */\n  headerContent?: ReactElement;\n  /**\n   * React element which defines the footer content.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `Bar` with `design={BarDesign.FloatingFooter}` in order to preserve the intended design.\n   */\n  footer?: ReactElement;\n  /**\n   * Defines the image of the `ObjectPage`. You can pass a path to an image or an `Avatar` component.\n   */\n  image?: string | ReactElement;\n  /**\n   * Defines the content area of the `ObjectPage`. It consists of sections and subsections.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `ObjectPageSection` and `ObjectPageSubSection` in order to preserve the intended design.\n   */\n  children?: ReactElement<ObjectPageSectionPropTypes> | ReactElement<ObjectPageSectionPropTypes>[];\n  /**\n   * Defines the ID of the currently `ObjectPageSection` section.\n   */\n  selectedSectionId?: string;\n  /**\n   * Defines the ID of the currently `ObjectPageSubSection` section.\n   */\n  selectedSubSectionId?: string;\n  /**\n   * Fired when the selected section changes.\n   */\n  onSelectedSectionChanged?: (\n    event: CustomEvent<{ selectedSectionIndex: number; selectedSectionId: string; section: ComponentType }>\n  ) => void;\n\n  // appearance\n  /**\n   * Defines whether the `headerContent` is hidden by scrolling down.\n   */\n  alwaysShowContentHeader?: boolean;\n  /**\n   * Defines whether the title is displayed in the content section of the header or above the image.\n   */\n  showTitleInHeaderContent?: boolean;\n  /**\n   * Defines whether the image should be displayed in a circle or in a square.<br />\n   * __Note:__ If the `image` is not a `string`, this prop has no effect.\n   */\n  imageShapeCircle?: boolean;\n  /**\n   * Defines the `ObjectPage` mode.\n   *\n   * - \"Default\": All `ObjectPageSections` and `ObjectPageSubSections` are displayed on one page. Selecting tabs will scroll to the corresponding section.\n   * - \"IconTabBar\": All `ObjectPageSections` are displayed on separate pages. Selecting tabs will lead to the corresponding page.\n   */\n  mode?: ObjectPageMode;\n  /**\n   * Defines whether the pin button of the header is displayed.\n   */\n  showHideHeaderButton?: boolean;\n  /**\n   * Defines whether the `headerContent` is pinnable.\n   */\n  headerContentPinnable?: boolean;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'ObjectPage' });\n\n/**\n * A component that allows apps to easily display information related to a business object.<br />\n * The `ObjectPage` is composed of a header (title and content) and block content wrapped in sections and subsections that structure the information.\n */\nconst ObjectPage = forwardRef((props: ObjectPagePropTypes, ref: RefObject<HTMLDivElement>) => {\n  const {\n    headerTitle,\n    image,\n    footer,\n    mode,\n    imageShapeCircle,\n    className,\n    style,\n    tooltip,\n    slot,\n    showHideHeaderButton,\n    children,\n    onSelectedSectionChanged,\n    selectedSectionId,\n    alwaysShowContentHeader,\n    showTitleInHeaderContent,\n    headerContent,\n    headerContentPinnable\n  } = props;\n\n  const classes = useStyles();\n\n  const firstSectionId = safeGetChildrenArray<ReactElement>(children)[0]?.props?.id;\n  const [internalSelectedSectionId, setInternalSelectedSectionId] = useState(selectedSectionId ?? firstSectionId);\n  const [selectedSubSectionId, setSelectedSubSectionId] = useState(props.selectedSubSectionId);\n  const [headerPinned, setHeaderPinned] = useState(alwaysShowContentHeader);\n  const isProgrammaticallyScrolled = useRef(false);\n\n  const objectPageRef: RefObject<HTMLDivElement> = useConsolidatedRef(ref);\n  const topHeaderRef: RefObject<HTMLDivElement> = useRef();\n  //@ts-ignore\n  const headerContentRef: RefObject<HTMLDivElement> = useConsolidatedRef(headerContent?.ref);\n  const anchorBarRef: RefObject<HTMLDivElement> = useRef();\n  const scrollTimeout = useRef(null);\n  const [isAfterScroll, setIsAfterScroll] = useState(false);\n\n  const isRTL = useIsRTL(objectPageRef);\n  const responsivePaddingClass = useResponsiveContentPadding(objectPageRef.current);\n\n  // observe heights of header parts\n  const { topHeaderHeight, headerContentHeight, anchorBarHeight, totalHeaderHeight } = useObserveHeights(\n    objectPageRef,\n    topHeaderRef,\n    headerContentRef,\n    anchorBarRef,\n    { noHeader: !headerTitle && !headerContent }\n  );\n\n  const avatar = useMemo(() => {\n    if (!image) {\n      return null;\n    }\n    const headerImageClasses = StyleClassHelper.of(classes.headerImage);\n    if (isRTL) {\n      headerImageClasses.put(classes.headerImageRtl);\n    }\n    if (typeof image === 'string') {\n      return (\n        <span\n          className={headerImageClasses.className}\n          style={{ borderRadius: imageShapeCircle ? '50%' : 0, overflow: 'hidden' }}\n        >\n          <img src={image} className={classes.image} alt=\"Company Logo\" />\n        </span>\n      );\n    } else {\n      if (image.props?.className) {\n        headerImageClasses.put(image.props?.className);\n      }\n      return React.cloneElement(image, {\n        size: AvatarSize.L,\n        className: headerImageClasses.className\n      } as AvatarPropTypes);\n    }\n  }, [image, classes.headerImage, classes.headerImageRtl, classes.image, imageShapeCircle, isRTL]);\n\n  const prevTopHeaderHeight = useRef(0);\n  const scrollToSection = useCallback(\n    (sectionId) => {\n      if (!sectionId) {\n        return;\n      }\n      if (firstSectionId === sectionId) {\n        objectPageRef.current?.scrollTo({ top: 0, behavior: 'smooth' });\n      } else {\n        const childOffset = objectPageRef.current?.querySelector<HTMLElement>(\n          `#ObjectPageSection-${sectionId}`\n        )?.offsetTop;\n        if (!isNaN(childOffset)) {\n          let safeTopHeaderHeight = topHeaderHeight || prevTopHeaderHeight.current;\n          if (topHeaderHeight) {\n            prevTopHeaderHeight.current = topHeaderHeight;\n          }\n          objectPageRef.current?.scrollTo({\n            top: childOffset - safeTopHeaderHeight - anchorBarHeight - (headerPinned ? headerContentHeight : 0),\n            behavior: 'smooth'\n          });\n        }\n      }\n      isProgrammaticallyScrolled.current = false;\n    },\n    [\n      firstSectionId,\n      objectPageRef,\n      topHeaderHeight,\n      anchorBarHeight,\n      headerPinned,\n      headerContentHeight,\n      prevTopHeaderHeight.current\n    ]\n  );\n\n  // change selected section when prop is changed (external change)\n  useEffect(() => {\n    isProgrammaticallyScrolled.current = true;\n    setInternalSelectedSectionId(selectedSectionId ?? firstSectionId);\n  }, [selectedSectionId, isProgrammaticallyScrolled, firstSectionId]);\n\n  // section was selected by clicking on the anchor bar buttons\n  const handleOnSectionSelected = useCallback(\n    (e) => {\n      isProgrammaticallyScrolled.current = true;\n      const newSelectionSection = e.detail.props?.id;\n      setInternalSelectedSectionId((oldSelectedSection) => {\n        if (oldSelectedSection === newSelectionSection) {\n          scrollToSection(newSelectionSection);\n        }\n        return newSelectionSection;\n      });\n      fireOnSelectedChangedEvent(e);\n    },\n    [onSelectedSectionChanged, setInternalSelectedSectionId, isProgrammaticallyScrolled, scrollToSection]\n  );\n\n  // do internal scrolling\n  useEffect(() => {\n    if (mode === ObjectPageMode.Default && isProgrammaticallyScrolled.current === true) {\n      scrollToSection(internalSelectedSectionId);\n    }\n  }, [internalSelectedSectionId, mode, isProgrammaticallyScrolled, scrollToSection]);\n\n  // Scrolling for Sub Section Selection\n  useEffect(() => {\n    if (selectedSubSectionId && isProgrammaticallyScrolled.current === true) {\n      const currentSubSection = objectPageRef.current?.querySelector<HTMLElement>(\n        `div[id=\"ObjectPageSubSection-${selectedSubSectionId}\"]`\n      );\n      const childOffset = currentSubSection?.offsetTop;\n      if (!isNaN(childOffset)) {\n        currentSubSection.focus();\n        objectPageRef.current?.scrollTo({\n          top:\n            childOffset -\n            topHeaderHeight -\n            anchorBarHeight -\n            48 /*tabBar*/ -\n            (headerPinned ? headerContentHeight : 0) -\n            16,\n          behavior: 'smooth'\n        });\n      }\n      isProgrammaticallyScrolled.current = false;\n    }\n  }, [\n    selectedSubSectionId,\n    isProgrammaticallyScrolled,\n    topHeaderHeight,\n    anchorBarHeight,\n    headerPinned,\n    headerContentHeight\n  ]);\n\n  useEffect(() => {\n    setHeaderPinned(alwaysShowContentHeader);\n  }, [setHeaderPinned, alwaysShowContentHeader]);\n\n  useEffect(() => {\n    setSelectedSubSectionId(props.selectedSubSectionId);\n    if (props.selectedSubSectionId) {\n      isProgrammaticallyScrolled.current = true;\n      if (mode === ObjectPageMode.IconTabBar) {\n        let sectionId;\n        safeGetChildrenArray<ReactElement<ObjectPageSectionPropTypes>>(children).forEach((section) => {\n          if (React.isValidElement(section) && section.props && section.props.children) {\n            safeGetChildrenArray(section.props.children).forEach(\n              (subSection: ReactElement<ObjectPageSubSectionPropTypes>) => {\n                if (\n                  React.isValidElement(subSection) &&\n                  subSection.props &&\n                  subSection.props.id === props.selectedSubSectionId\n                ) {\n                  sectionId = section.props?.id;\n                }\n              }\n            );\n          }\n        });\n        if (sectionId) {\n          setInternalSelectedSectionId(sectionId);\n        }\n      }\n    }\n  }, [\n    props.selectedSubSectionId,\n    setInternalSelectedSectionId,\n    setSelectedSubSectionId,\n    children,\n    mode,\n    isProgrammaticallyScrolled\n  ]);\n\n  useEffect(() => {\n    const fillerDivObserver = new ResizeObserver(() => {\n      let heightDiff = 0;\n      const maxHeight = Math.min(objectPageRef.current?.clientHeight, window.innerHeight);\n      const availableScrollHeight = maxHeight - totalHeaderHeight;\n      const lastSectionDomRef = getLastObjectPageSection(objectPageRef, !!footer && mode === ObjectPageMode.IconTabBar);\n\n      if (lastSectionDomRef) {\n        const subSections = lastSectionDomRef.querySelectorAll('[id^=\"ObjectPageSubSection\"]');\n        let lastSubSectionHeight;\n        if (subSections.length > 0) {\n          lastSubSectionHeight = (subSections[subSections.length - 1] as HTMLElement).offsetHeight;\n        } else {\n          lastSubSectionHeight =\n            lastSectionDomRef.offsetHeight -\n            lastSectionDomRef.querySelector<HTMLElement>(\"[role='heading']\").offsetHeight;\n        }\n\n        heightDiff = Math.max(0, availableScrollHeight - lastSubSectionHeight);\n\n        if (isNaN(heightDiff)) {\n          heightDiff = 0;\n        }\n      }\n      const lastSectionMargin = footer ? `calc(${heightDiff}px + 1rem)` : `${heightDiff}px`;\n      objectPageRef.current?.style.setProperty(ObjectPageCssVariables.lastSectionMargin, lastSectionMargin);\n    });\n\n    fillerDivObserver.observe(objectPageRef.current);\n\n    return () => {\n      fillerDivObserver.disconnect();\n    };\n  }, [totalHeaderHeight, objectPageRef, children, mode, footer]);\n\n  const fireOnSelectedChangedEvent = debounce((e) => {\n    if (typeof onSelectedSectionChanged === 'function') {\n      onSelectedSectionChanged(\n        enrichEventWithDetails(e, {\n          selectedSectionIndex: e.detail.index,\n          selectedSectionId: e.detail.props.id,\n          section: e.detail\n        })\n      );\n    }\n  }, 500);\n\n  const handleOnSubSectionSelected = useCallback(\n    (e) => {\n      isProgrammaticallyScrolled.current = true;\n      if (mode === ObjectPageMode.IconTabBar) {\n        const sectionId = e.detail.section.props?.id;\n        setInternalSelectedSectionId(sectionId);\n      }\n      const subSection = e.detail.subSection;\n      setSelectedSubSectionId(subSection.props.id);\n    },\n    [mode, setInternalSelectedSectionId, setSelectedSubSectionId, isProgrammaticallyScrolled]\n  );\n  const [scrolledHeaderExpanded, setScrolledHeaderExpanded] = useState(false);\n  const onToggleHeaderContentVisibility = useCallback(\n    (e) => {\n      if (!e.detail.visible) {\n        objectPageRef.current?.classList.add(classes.headerCollapsed);\n      } else {\n        setScrolledHeaderExpanded(true);\n        objectPageRef.current?.classList.remove(classes.headerCollapsed);\n      }\n    },\n    [objectPageRef.current, classes.headerCollapsed]\n  );\n\n  const objectPageClasses = StyleClassHelper.of(classes.objectPage, GlobalStyleClasses.sapScrollBar);\n  if (className) {\n    objectPageClasses.put(className);\n  }\n\n  if (mode === ObjectPageMode.IconTabBar) {\n    objectPageClasses.put(classes.iconTabBarMode);\n  }\n\n  const passThroughProps = usePassThroughHtmlProps(props, ['onSelectedSectionChanged', 'onScroll']);\n\n  useEffect(() => {\n    const sections = objectPageRef.current?.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n    const objectPageHeight = objectPageRef.current?.clientHeight ?? 1000;\n    const marginBottom = objectPageHeight - totalHeaderHeight - /*TabContainer*/ 48;\n    const rootMargin = `-${totalHeaderHeight}px 0px -${marginBottom < 0 ? 0 : marginBottom}px 0px`;\n    const observer = new IntersectionObserver(\n      ([section]) => {\n        if (section.isIntersecting && isProgrammaticallyScrolled.current === false) {\n          if (\n            objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <=\n            section.target.getBoundingClientRect().bottom\n          ) {\n            setInternalSelectedSectionId(extractSectionIdFromHtmlId(section.target.id));\n          }\n        }\n      },\n      {\n        root: objectPageRef.current,\n        rootMargin,\n        threshold: [0]\n      }\n    );\n    // Fallback when scrolling faster than the IntersectionObserver can observe (in most cases faster than 60fps)\n    if (isAfterScroll) {\n      let currentSection = sections[sections.length - 1];\n      for (let i = 0; i <= sections.length - 1; i++) {\n        const section = sections[i];\n        if (\n          objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <=\n          section.getBoundingClientRect().bottom\n        ) {\n          currentSection = section;\n          break;\n        }\n      }\n      if (extractSectionIdFromHtmlId(currentSection.id) !== internalSelectedSectionId) {\n        setInternalSelectedSectionId(extractSectionIdFromHtmlId(currentSection.id));\n      }\n      setIsAfterScroll(false);\n    }\n\n    sections.forEach((el) => {\n      observer.observe(el);\n    });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [\n    objectPageRef.current,\n    children,\n    totalHeaderHeight,\n    setInternalSelectedSectionId,\n    isProgrammaticallyScrolled,\n    isAfterScroll\n  ]);\n\n  const titleHeaderNotClickable =\n    (alwaysShowContentHeader && !headerContentPinnable) ||\n    !headerContent ||\n    (!showHideHeaderButton && !headerContentPinnable);\n\n  const onTitleClick = useCallback(\n    (e) => {\n      if (!titleHeaderNotClickable) {\n        onToggleHeaderContentVisibility(enrichEventWithDetails(e, { visible: !headerContentHeight }));\n      }\n    },\n    [onToggleHeaderContentVisibility, headerContentHeight, titleHeaderNotClickable]\n  );\n\n  const renderTitleSection = useCallback(\n    (inHeader = false) => {\n      const titleStyles = { ...(inHeader ? { padding: 0 } : {}), ...(headerTitle?.props?.style ?? {}) };\n\n      if (headerTitle?.props && headerTitle.props?.showSubHeaderRight === undefined) {\n        return React.cloneElement(headerTitle, {\n          showSubHeaderRight: true,\n          style: titleStyles,\n          'data-not-clickable': titleHeaderNotClickable,\n          onToggleHeaderContentVisibility: onTitleClick\n        });\n      }\n      return React.cloneElement(headerTitle, {\n        style: titleStyles,\n        'data-not-clickable': titleHeaderNotClickable,\n        onToggleHeaderContentVisibility: onTitleClick\n      });\n    },\n    [headerTitle, titleHeaderNotClickable, onTitleClick]\n  );\n\n  const renderHeaderContentSection = useCallback(() => {\n    if (headerContent?.props) {\n      return React.cloneElement(headerContent, {\n        ...headerContent.props,\n        topHeaderHeight,\n        headerPinned: headerPinned || scrolledHeaderExpanded,\n        ref: headerContentRef,\n        children: (\n          <div\n            className={`${classes.headerContainer} ${responsivePaddingClass}`}\n            data-component-name=\"ObjectPageHeaderContainer\"\n          >\n            {avatar}\n            {headerContent.props.children && (\n              <div data-component-name=\"ObjectPageHeaderContent\">\n                {headerTitle && showTitleInHeaderContent && renderTitleSection(true)}\n                {headerContent.props.children}\n              </div>\n            )}\n          </div>\n        )\n      });\n    }\n  }, [\n    headerContent,\n    topHeaderHeight,\n    headerPinned,\n    scrolledHeaderExpanded,\n    showTitleInHeaderContent,\n    avatar,\n    headerContentRef,\n    renderTitleSection,\n    responsivePaddingClass\n  ]);\n\n  const paddingLeftRtl = isRTL ? 'paddingLeft' : 'paddingRight';\n\n  const onTabItemSelect = useCallback(\n    (event) => {\n      const { sectionId, index } = event.detail.tab.dataset;\n      const section = safeGetChildrenArray<ReactElement>(children).find((el) => el.props.id == sectionId);\n      handleOnSectionSelected(\n        enrichEventWithDetails({} as any, {\n          ...section,\n          index\n        })\n      );\n    },\n    [children]\n  );\n  const [popoverContent, setPopoverContent] = useState<ReactElement>(null);\n  const popoverRef = useRef<Ui5PopoverDomRef>(null);\n  const onShowSubSectionPopover = useCallback(\n    (e, section) => {\n      setPopoverContent(section);\n      popoverRef.current.showAt(e.detail.targetRef);\n    },\n    [setPopoverContent, popoverRef]\n  );\n\n  const onSubSectionClick = useCallback(\n    (e) => {\n      const selectedId = e.detail.item.dataset.key;\n      const subSection = popoverContent.props.children\n        .filter((item) => item.props && item.props.isSubSection)\n        .find((item) => item.props.id === selectedId);\n      if (subSection) {\n        handleOnSubSectionSelected(enrichEventWithDetails(e, { section: popoverContent, subSection }));\n      }\n      popoverRef.current.close();\n    },\n    [handleOnSubSectionSelected, popoverRef, popoverContent]\n  );\n  const prevScrollTop = useRef();\n  const onObjectPageScroll = useCallback(\n    (e) => {\n      if (typeof props.onScroll === 'function') {\n        props.onScroll(e);\n      }\n      if (selectedSubSectionId) {\n        setSelectedSubSectionId(undefined);\n      }\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n      scrollTimeout.current = setTimeout(() => {\n        setIsAfterScroll(true);\n      }, 100);\n      if (!headerPinned || e.target.scrollTop === 0) {\n        objectPageRef.current?.classList.remove(classes.headerCollapsed);\n      }\n      if (scrolledHeaderExpanded && e.target.scrollTop !== prevScrollTop.current) {\n        if (e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight) {\n          return;\n        }\n        prevScrollTop.current = e.target.scrollTop;\n        setScrolledHeaderExpanded(false);\n      }\n    },\n    [\n      topHeaderHeight,\n      headerPinned,\n      props.onScroll,\n      objectPageRef.current,\n      scrolledHeaderExpanded,\n      prevScrollTop.current,\n      selectedSubSectionId,\n      scrollTimeout.current\n    ]\n  );\n\n  const onHoverToggleButton = useCallback(\n    (e) => {\n      if (e?.type === 'mouseover') {\n        topHeaderRef.current?.classList.add(classes.headerHoverStyles);\n      } else {\n        topHeaderRef.current?.classList.remove(classes.headerHoverStyles);\n      }\n    },\n    [classes.headerHoverStyles]\n  );\n\n  return (\n    <div\n      data-component-name=\"ObjectPage\"\n      slot={slot}\n      className={objectPageClasses.toString()}\n      style={style}\n      ref={objectPageRef}\n      title={tooltip}\n      onScroll={onObjectPageScroll}\n      {...passThroughProps}\n    >\n      <header\n        onMouseOver={onHoverToggleButton}\n        onMouseLeave={onHoverToggleButton}\n        data-component-name=\"ObjectPageTopHeader\"\n        ref={topHeaderRef}\n        role=\"banner\"\n        data-not-clickable={titleHeaderNotClickable}\n        aria-roledescription=\"Object Page header\"\n        className={`${classes.header} ${responsivePaddingClass}`}\n        onClick={onTitleClick}\n        style={{\n          gridAutoColumns: `min-content ${\n            headerTitle && image && headerContentHeight === 0 ? `calc(100% - 3rem - 1rem)` : '100%'\n          }`,\n          display: !showTitleInHeaderContent || headerContentHeight === 0 ? 'grid' : 'none'\n        }}\n      >\n        {headerTitle && image && headerContentHeight === 0 && (\n          <CollapsedAvatar image={image} imageShapeCircle={imageShapeCircle} style={{ [paddingLeftRtl]: '1rem' }} />\n        )}\n        {headerTitle && renderTitleSection()}\n      </header>\n      {renderHeaderContentSection()}\n      {headerContent && headerTitle && (\n        <div\n          data-component-name=\"ObjectPageAnchorBar\"\n          ref={anchorBarRef}\n          className={classes.anchorBar}\n          style={{\n            top:\n              scrolledHeaderExpanded || headerPinned\n                ? `${topHeaderHeight + headerContentHeight}px`\n                : `${topHeaderHeight + 5}px`\n          }}\n        >\n          <DynamicPageAnchorBar\n            headerContentVisible={!!headerContentHeight}\n            headerContentPinnable={headerContentPinnable}\n            showHideHeaderButton={showHideHeaderButton}\n            onToggleHeaderContentVisibility={onToggleHeaderContentVisibility}\n            setHeaderPinned={setHeaderPinned}\n            headerPinned={headerPinned}\n            onHoverToggleButton={onHoverToggleButton}\n          />\n        </div>\n      )}\n      <div\n        className={classes.tabContainer}\n        data-component-name=\"ObjectPageTabContainer\"\n        style={{\n          top:\n            headerPinned || scrolledHeaderExpanded\n              ? `${topHeaderHeight + headerContentHeight}px`\n              : `${topHeaderHeight}px`\n        }}\n      >\n        <TabContainer\n          collapsed\n          fixed\n          onTabSelect={onTabItemSelect}\n          showOverflow\n          data-component-name=\"ObjectPageTabContainer\"\n        >\n          {safeGetChildrenArray(children).map((section: ReactElement, index) => {\n            if (!section.props) return null;\n            return (\n              <ObjectPageAnchorButton\n                key={`Anchor-${section.props?.id}`}\n                section={section}\n                index={index}\n                selected={internalSelectedSectionId === section.props?.id}\n                onShowSubSectionPopover={onShowSubSectionPopover}\n              />\n            );\n          })}\n        </TabContainer>\n        {createPortal(\n          <Popover\n            placementType={PopoverPlacementType.Bottom}\n            horizontalAlign={PopoverHorizontalAlign.Left}\n            hideArrow\n            ref={popoverRef}\n            onAfterClose={stopPropagation}\n          >\n            <List onItemClick={onSubSectionClick}>\n              {popoverContent?.props?.children\n                .filter((item) => item.props && item.props.isSubSection)\n                .map((item) => (\n                  <StandardListItem key={item.props.id} data-key={item.props.id}>\n                    {item.props.titleText}\n                  </StandardListItem>\n                ))}\n            </List>\n          </Popover>,\n          document.body\n        )}\n      </div>\n      <div data-component-name=\"ObjectPageContent\" className={responsivePaddingClass}>\n        {mode === ObjectPageMode.IconTabBar ? getSectionById(children, internalSelectedSectionId) : children}\n      </div>\n      {footer && <div style={{ height: '1rem' }} data-component-name=\"ObjectPageFooterSpacer\" />}\n      {footer && (\n        <footer className={classes.footer} data-component-name=\"ObjectPageFooter\">\n          {footer}\n        </footer>\n      )}\n    </div>\n  );\n});\n\nObjectPage.displayName = 'ObjectPage';\n\nObjectPage.defaultProps = {\n  image: null,\n  mode: ObjectPageMode.Default,\n  imageShapeCircle: false,\n  showHideHeaderButton: false\n};\n\nexport { ObjectPage };\n"]},"metadata":{},"sourceType":"module"}