{"ast":null,"code":"import Core from '../Core.js';\nimport CalendarType from '../CalendarType.js';\nimport Locale from '../Locale.js';\nimport LocaleData from '../LocaleData.js';\nimport UniversalDate from '../date/UniversalDate.js';\nimport deepEqual from '../../../base/util/deepEqual.js';\nimport formatMessage from '../../../base/strings/formatMessage.js';\nimport Log from '../../../base/Log.js';\nimport extend from '../../../base/util/extend.js';\n\nvar DateFormat = function () {\n  throw new Error();\n};\n\nvar mCldrDatePattern = {};\nDateFormat.oDateInfo = {\n  oDefaultFormatOptions: {\n    style: 'medium',\n    relativeScale: 'day',\n    relativeStyle: 'wide'\n  },\n  aFallbackFormatOptions: [{\n    style: 'short'\n  }, {\n    style: 'medium'\n  }, {\n    pattern: 'yyyy-MM-dd'\n  }, {\n    pattern: 'yyyyMMdd',\n    strictParsing: true\n  }],\n  bShortFallbackFormatOptions: true,\n  bPatternFallbackWithoutDelimiter: true,\n  getPattern: function (oLocaleData, sStyle, sCalendarType) {\n    return oLocaleData.getDatePattern(sStyle, sCalendarType);\n  },\n  oRequiredParts: {\n    'text': true,\n    'year': true,\n    'weekYear': true,\n    'month': true,\n    'day': true\n  },\n  aRelativeScales: ['year', 'month', 'week', 'day'],\n  aRelativeParseScales: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second'],\n  aIntervalCompareFields: ['Era', 'FullYear', 'Quarter', 'Month', 'Week', 'Date']\n};\nDateFormat.oDateTimeInfo = {\n  oDefaultFormatOptions: {\n    style: 'medium',\n    relativeScale: 'auto',\n    relativeStyle: 'wide'\n  },\n  aFallbackFormatOptions: [{\n    style: 'short'\n  }, {\n    style: 'medium'\n  }, {\n    pattern: 'yyyy-MM-dd\\'T\\'HH:mm:ss'\n  }, {\n    pattern: 'yyyyMMdd HHmmss'\n  }],\n  getPattern: function (oLocaleData, sStyle, sCalendarType) {\n    var iSlashIndex = sStyle.indexOf('/');\n\n    if (iSlashIndex > 0) {\n      return oLocaleData.getCombinedDateTimePattern(sStyle.substr(0, iSlashIndex), sStyle.substr(iSlashIndex + 1), sCalendarType);\n    } else {\n      return oLocaleData.getCombinedDateTimePattern(sStyle, sStyle, sCalendarType);\n    }\n  },\n  oRequiredParts: {\n    'text': true,\n    'year': true,\n    'weekYear': true,\n    'month': true,\n    'day': true,\n    'hour0_23': true,\n    'hour1_24': true,\n    'hour0_11': true,\n    'hour1_12': true\n  },\n  aRelativeScales: ['year', 'month', 'week', 'day', 'hour', 'minute', 'second'],\n  aRelativeParseScales: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second'],\n  aIntervalCompareFields: ['Era', 'FullYear', 'Quarter', 'Month', 'Week', 'Date', 'DayPeriod', 'Hours', 'Minutes', 'Seconds']\n};\nDateFormat.oTimeInfo = {\n  oDefaultFormatOptions: {\n    style: 'medium',\n    relativeScale: 'auto',\n    relativeStyle: 'wide'\n  },\n  aFallbackFormatOptions: [{\n    style: 'short'\n  }, {\n    style: 'medium'\n  }, {\n    pattern: 'HH:mm:ss'\n  }, {\n    pattern: 'HHmmss'\n  }],\n  getPattern: function (oLocaleData, sStyle, sCalendarType) {\n    return oLocaleData.getTimePattern(sStyle, sCalendarType);\n  },\n  oRequiredParts: {\n    'text': true,\n    'hour0_23': true,\n    'hour1_24': true,\n    'hour0_11': true,\n    'hour1_12': true\n  },\n  aRelativeScales: ['hour', 'minute', 'second'],\n  aRelativeParseScales: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second'],\n  aIntervalCompareFields: ['DayPeriod', 'Hours', 'Minutes', 'Seconds']\n};\n\nDateFormat.getInstance = function (oFormatOptions, oLocale) {\n  return this.getDateInstance(oFormatOptions, oLocale);\n};\n\nDateFormat.getDateInstance = function (oFormatOptions, oLocale) {\n  return this.createInstance(oFormatOptions, oLocale, this.oDateInfo);\n};\n\nDateFormat.getDateTimeInstance = function (oFormatOptions, oLocale) {\n  return this.createInstance(oFormatOptions, oLocale, this.oDateTimeInfo);\n};\n\nDateFormat.getTimeInstance = function (oFormatOptions, oLocale) {\n  return this.createInstance(oFormatOptions, oLocale, this.oTimeInfo);\n};\n\nfunction createIntervalPatternWithNormalConnector(oFormat) {\n  var sPattern = oFormat.oLocaleData.getIntervalPattern('', oFormat.oFormatOptions.calendarType);\n  sPattern = sPattern.replace(/[^\\{\\}01 ]/, '-');\n  return sPattern.replace(/\\{(0|1)\\}/g, oFormat.oFormatOptions.pattern);\n}\n\nDateFormat.createInstance = function (oFormatOptions, oLocale, oInfo) {\n  var oFormat = Object.create(this.prototype);\n\n  if (oFormatOptions instanceof Locale) {\n    oLocale = oFormatOptions;\n    oFormatOptions = undefined;\n  }\n\n  if (!oLocale) {\n    oLocale = Core.getConfiguration().getFormatSettings().getFormatLocale();\n  }\n\n  oFormat.oLocale = oLocale;\n  oFormat.oLocaleData = LocaleData.getInstance(oLocale);\n  oFormat.oFormatOptions = extend({}, oInfo.oDefaultFormatOptions, oFormatOptions);\n\n  if (!oFormat.oFormatOptions.calendarType) {\n    oFormat.oFormatOptions.calendarType = Core.getConfiguration().getCalendarType();\n  }\n\n  if (!oFormat.oFormatOptions.pattern) {\n    if (oFormat.oFormatOptions.format) {\n      oFormat.oFormatOptions.pattern = oFormat.oLocaleData.getCustomDateTimePattern(oFormat.oFormatOptions.format, oFormat.oFormatOptions.calendarType);\n    } else {\n      oFormat.oFormatOptions.pattern = oInfo.getPattern(oFormat.oLocaleData, oFormat.oFormatOptions.style, oFormat.oFormatOptions.calendarType);\n    }\n  }\n\n  if (oFormat.oFormatOptions.interval) {\n    if (oFormat.oFormatOptions.format) {\n      oFormat.intervalPatterns = oFormat.oLocaleData.getCustomIntervalPattern(oFormat.oFormatOptions.format, null, oFormat.oFormatOptions.calendarType);\n\n      if (typeof oFormat.intervalPatterns === 'string') {\n        oFormat.intervalPatterns = [oFormat.intervalPatterns];\n      }\n\n      oFormat.intervalPatterns.push(oFormat.oLocaleData.getCustomDateTimePattern(oFormat.oFormatOptions.format, oFormat.oFormatOptions.calendarType));\n    } else {\n      oFormat.intervalPatterns = [oFormat.oLocaleData.getCombinedIntervalPattern(oFormat.oFormatOptions.pattern, oFormat.oFormatOptions.calendarType), oFormat.oFormatOptions.pattern];\n    }\n\n    var sCommonConnectorPattern = createIntervalPatternWithNormalConnector(oFormat);\n    oFormat.intervalPatterns.push(sCommonConnectorPattern);\n  }\n\n  if (!oFormat.oFormatOptions.fallback) {\n    if (!oInfo.oFallbackFormats) {\n      oInfo.oFallbackFormats = {};\n    }\n\n    var sLocale = oLocale.toString(),\n        sCalendarType = oFormat.oFormatOptions.calendarType,\n        sKey = sLocale + '-' + sCalendarType,\n        sPattern,\n        aFallbackFormatOptions;\n\n    if (oFormat.oFormatOptions.pattern && oInfo.bPatternFallbackWithoutDelimiter) {\n      sKey = sKey + '-' + oFormat.oFormatOptions.pattern;\n    }\n\n    if (oFormat.oFormatOptions.interval) {\n      sKey = sKey + '-' + 'interval';\n    }\n\n    var oFallbackFormats = oInfo.oFallbackFormats[sKey] ? Object.assign({}, oInfo.oFallbackFormats[sKey]) : undefined;\n\n    if (!oFallbackFormats) {\n      aFallbackFormatOptions = oInfo.aFallbackFormatOptions;\n\n      if (oInfo.bShortFallbackFormatOptions) {\n        sPattern = oInfo.getPattern(oFormat.oLocaleData, 'short');\n        aFallbackFormatOptions = aFallbackFormatOptions.concat(DateFormat._createFallbackOptionsWithoutDelimiter(sPattern));\n      }\n\n      if (oFormat.oFormatOptions.pattern && oInfo.bPatternFallbackWithoutDelimiter) {\n        aFallbackFormatOptions = DateFormat._createFallbackOptionsWithoutDelimiter(oFormat.oFormatOptions.pattern).concat(aFallbackFormatOptions);\n      }\n\n      oFallbackFormats = DateFormat._createFallbackFormat(aFallbackFormatOptions, sCalendarType, oLocale, oInfo, oFormat.oFormatOptions.interval);\n    }\n\n    oFormat.aFallbackFormats = oFallbackFormats;\n  }\n\n  oFormat.oRequiredParts = oInfo.oRequiredParts;\n  oFormat.aRelativeScales = oInfo.aRelativeScales;\n  oFormat.aRelativeParseScales = oInfo.aRelativeParseScales;\n  oFormat.aIntervalCompareFields = oInfo.aIntervalCompareFields;\n  oFormat.init();\n  return oFormat;\n};\n\nDateFormat.prototype.init = function () {\n  var sCalendarType = this.oFormatOptions.calendarType;\n  this.aMonthsAbbrev = this.oLocaleData.getMonths('abbreviated', sCalendarType);\n  this.aMonthsWide = this.oLocaleData.getMonths('wide', sCalendarType);\n  this.aMonthsNarrow = this.oLocaleData.getMonths('narrow', sCalendarType);\n  this.aMonthsAbbrevSt = this.oLocaleData.getMonthsStandAlone('abbreviated', sCalendarType);\n  this.aMonthsWideSt = this.oLocaleData.getMonthsStandAlone('wide', sCalendarType);\n  this.aMonthsNarrowSt = this.oLocaleData.getMonthsStandAlone('narrow', sCalendarType);\n  this.aDaysAbbrev = this.oLocaleData.getDays('abbreviated', sCalendarType);\n  this.aDaysWide = this.oLocaleData.getDays('wide', sCalendarType);\n  this.aDaysNarrow = this.oLocaleData.getDays('narrow', sCalendarType);\n  this.aDaysShort = this.oLocaleData.getDays('short', sCalendarType);\n  this.aDaysAbbrevSt = this.oLocaleData.getDaysStandAlone('abbreviated', sCalendarType);\n  this.aDaysWideSt = this.oLocaleData.getDaysStandAlone('wide', sCalendarType);\n  this.aDaysNarrowSt = this.oLocaleData.getDaysStandAlone('narrow', sCalendarType);\n  this.aDaysShortSt = this.oLocaleData.getDaysStandAlone('short', sCalendarType);\n  this.aQuartersAbbrev = this.oLocaleData.getQuarters('abbreviated', sCalendarType);\n  this.aQuartersWide = this.oLocaleData.getQuarters('wide', sCalendarType);\n  this.aQuartersNarrow = this.oLocaleData.getQuarters('narrow', sCalendarType);\n  this.aQuartersAbbrevSt = this.oLocaleData.getQuartersStandAlone('abbreviated', sCalendarType);\n  this.aQuartersWideSt = this.oLocaleData.getQuartersStandAlone('wide', sCalendarType);\n  this.aQuartersNarrowSt = this.oLocaleData.getQuartersStandAlone('narrow', sCalendarType);\n  this.aErasNarrow = this.oLocaleData.getEras('narrow', sCalendarType);\n  this.aErasAbbrev = this.oLocaleData.getEras('abbreviated', sCalendarType);\n  this.aErasWide = this.oLocaleData.getEras('wide', sCalendarType);\n  this.aDayPeriods = this.oLocaleData.getDayPeriods('abbreviated', sCalendarType);\n  this.aFormatArray = this.parseCldrDatePattern(this.oFormatOptions.pattern);\n  this.sAllowedCharacters = this.getAllowedCharacters(this.aFormatArray);\n};\n\nDateFormat._createFallbackFormat = function (aFallbackFormatOptions, sCalendarType, oLocale, oInfo, bInterval) {\n  return aFallbackFormatOptions.map(function (oOptions) {\n    var oFormatOptions = Object.assign({}, oOptions);\n\n    if (bInterval) {\n      oFormatOptions.interval = true;\n    }\n\n    oFormatOptions.calendarType = sCalendarType;\n    oFormatOptions.fallback = true;\n    var oFallbackFormat = DateFormat.createInstance(oFormatOptions, oLocale, oInfo);\n    oFallbackFormat.bIsFallback = true;\n    return oFallbackFormat;\n  });\n};\n\nDateFormat._createFallbackOptionsWithoutDelimiter = function (sBasePattern) {\n  var rNonDateFields = /[^dMyGU]/g,\n      oDayReplace = {\n    regex: /d+/g,\n    replace: 'dd'\n  },\n      oMonthReplace = {\n    regex: /M+/g,\n    replace: 'MM'\n  },\n      oYearReplace = {\n    regex: /[yU]+/g,\n    replace: ['yyyy', 'yy']\n  };\n  sBasePattern = sBasePattern.replace(rNonDateFields, '');\n  sBasePattern = sBasePattern.replace(oDayReplace.regex, oDayReplace.replace);\n  sBasePattern = sBasePattern.replace(oMonthReplace.regex, oMonthReplace.replace);\n  return oYearReplace.replace.map(function (sReplace) {\n    return {\n      pattern: sBasePattern.replace(oYearReplace.regex, sReplace),\n      strictParsing: true\n    };\n  });\n};\n\nvar oParseHelper = {\n  isNumber: function (iCharCode) {\n    return iCharCode >= 48 && iCharCode <= 57;\n  },\n  findNumbers: function (sValue, iMaxLength) {\n    var iLength = 0;\n\n    while (iLength < iMaxLength && this.isNumber(sValue.charCodeAt(iLength))) {\n      iLength++;\n    }\n\n    if (typeof sValue !== 'string') {\n      sValue = sValue.toString();\n    }\n\n    return sValue.substr(0, iLength);\n  },\n  findEntry: function (sValue, aList) {\n    var iFoundIndex = -1,\n        iMatchedLength = 0;\n\n    for (var j = 0; j < aList.length; j++) {\n      if (aList[j] && aList[j].length > iMatchedLength && sValue.indexOf(aList[j]) === 0) {\n        iFoundIndex = j;\n        iMatchedLength = aList[j].length;\n      }\n    }\n\n    return {\n      index: iFoundIndex,\n      value: iFoundIndex === -1 ? null : aList[iFoundIndex]\n    };\n  },\n  parseTZ: function (sValue, bColonSeparated) {\n    var iLength = 0;\n    var iTZFactor = sValue.charAt(0) == '+' ? -1 : 1;\n    var sPart;\n    iLength++;\n    sPart = this.findNumbers(sValue.substr(iLength), 2);\n    var iTZDiffHour = parseInt(sPart);\n    iLength += 2;\n\n    if (bColonSeparated) {\n      iLength++;\n    }\n\n    sPart = this.findNumbers(sValue.substr(iLength), 2);\n    var iTZDiff = 0;\n\n    if (sPart) {\n      iLength += 2;\n      iTZDiff = parseInt(sPart);\n    }\n\n    return {\n      length: iLength,\n      tzDiff: (iTZDiff + 60 * iTZDiffHour) * iTZFactor\n    };\n  },\n  checkValid: function (sType, bPartInvalid, oFormat) {\n    if (sType in oFormat.oRequiredParts && bPartInvalid) {\n      return false;\n    }\n  }\n};\nDateFormat.prototype.oSymbols = {\n  '': {\n    name: 'text',\n    format: function (oField, oDate, bUTC, oFormat) {\n      return oField.value;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sChar;\n      var bValid = true;\n      var iValueIndex = 0;\n      var iPatternIndex = 0;\n      var sDelimiter = '-~\\u2010\\u2011\\u2012\\u2013\\u2014\\uFE58\\uFE63\\uFF0D\\uFF5E';\n\n      for (; iPatternIndex < oPart.value.length; iPatternIndex++) {\n        sChar = oPart.value.charAt(iPatternIndex);\n\n        if (sChar === ' ') {\n          while (sValue.charAt(iValueIndex) === ' ') {\n            iValueIndex++;\n          }\n        } else if (sDelimiter.includes(sChar)) {\n          if (!sDelimiter.includes(sValue.charAt(iValueIndex))) {\n            bValid = false;\n          }\n\n          iValueIndex++;\n        } else {\n          if (sValue.charAt(iValueIndex) !== sChar) {\n            bValid = false;\n          }\n\n          iValueIndex++;\n        }\n\n        if (!bValid) {\n          break;\n        }\n      }\n\n      if (bValid) {\n        return {\n          length: iValueIndex\n        };\n      } else {\n        var bPartInvalid = false;\n\n        if (oConfig.index < oConfig.formatArray.length - 1) {\n          bPartInvalid = oConfig.formatArray[oConfig.index + 1].type in oFormat.oRequiredParts;\n        }\n\n        return {\n          valid: oParseHelper.checkValid(oPart.type, bPartInvalid, oFormat)\n        };\n      }\n    }\n  },\n  'G': {\n    name: 'era',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iEra = bUTC ? oDate.getUTCEra() : oDate.getEra();\n\n      if (oField.digits <= 3) {\n        return oFormat.aErasAbbrev[iEra];\n      } else if (oField.digits === 4) {\n        return oFormat.aErasWide[iEra];\n      } else {\n        return oFormat.aErasNarrow[iEra];\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aErasVariants = [oFormat.aErasWide, oFormat.aErasAbbrev, oFormat.aErasNarrow];\n\n      for (var i = 0; i < aErasVariants.length; i++) {\n        var aVariants = aErasVariants[i];\n        var oFound = oParseHelper.findEntry(sValue, aVariants);\n\n        if (oFound.index !== -1) {\n          return {\n            era: oFound.index,\n            length: oFound.value.length\n          };\n        }\n      }\n\n      return {\n        era: oFormat.aErasWide.length - 1,\n        valid: oParseHelper.checkValid(oPart.type, true, oFormat)\n      };\n    }\n  },\n  'y': {\n    name: 'year',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iYear = bUTC ? oDate.getUTCFullYear() : oDate.getFullYear();\n      var sYear = String(iYear);\n      var sCalendarType = oFormat.oFormatOptions.calendarType;\n\n      if (oField.digits == 2 && sYear.length > 2) {\n        sYear = sYear.substr(sYear.length - 2);\n      }\n\n      if (sCalendarType != CalendarType.Japanese && oField.digits == 1 && iYear < 100) {\n        sYear = sYear.padStart(4, '0');\n      }\n\n      return sYear.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sCalendarType = oFormat.oFormatOptions.calendarType;\n      var sPart;\n\n      if (oPart.digits == 1) {\n        sPart = oParseHelper.findNumbers(sValue, 4);\n      } else if (oPart.digits == 2) {\n        sPart = oParseHelper.findNumbers(sValue, 2);\n      } else {\n        sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n      }\n\n      var iYear = parseInt(sPart);\n\n      if (sCalendarType != CalendarType.Japanese && sPart.length <= 2) {\n        var oCurrentDate = UniversalDate.getInstance(new Date(), sCalendarType),\n            iCurrentYear = oCurrentDate.getFullYear(),\n            iCurrentCentury = Math.floor(iCurrentYear / 100),\n            iYearDiff = iCurrentCentury * 100 + iYear - iCurrentYear;\n\n        if (iYearDiff < -70) {\n          iYear += (iCurrentCentury + 1) * 100;\n        } else if (iYearDiff < 30) {\n          iYear += iCurrentCentury * 100;\n        } else {\n          iYear += (iCurrentCentury - 1) * 100;\n        }\n      }\n\n      return {\n        length: sPart.length,\n        valid: oParseHelper.checkValid(oPart.type, sPart === '', oFormat),\n        year: iYear\n      };\n    }\n  },\n  'Y': {\n    name: 'weekYear',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var oWeek = bUTC ? oDate.getUTCWeek() : oDate.getWeek();\n      var iWeekYear = oWeek.year;\n      var sWeekYear = String(iWeekYear);\n      var sCalendarType = oFormat.oFormatOptions.calendarType;\n\n      if (oField.digits == 2 && sWeekYear.length > 2) {\n        sWeekYear = sWeekYear.substr(sWeekYear.length - 2);\n      }\n\n      if (sCalendarType != CalendarType.Japanese && oField.digits == 1 && iWeekYear < 100) {\n        sWeekYear = sWeekYear.padStart(4, '0');\n      }\n\n      return sWeekYear.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sCalendarType = oFormat.oFormatOptions.calendarType;\n      var sPart;\n\n      if (oPart.digits == 1) {\n        sPart = oParseHelper.findNumbers(sValue, 4);\n      } else if (oPart.digits == 2) {\n        sPart = oParseHelper.findNumbers(sValue, 2);\n      } else {\n        sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n      }\n\n      var iYear = parseInt(sPart);\n      var iWeekYear;\n\n      if (sCalendarType != CalendarType.Japanese && sPart.length <= 2) {\n        var oCurrentDate = UniversalDate.getInstance(new Date(), sCalendarType),\n            iCurrentYear = oCurrentDate.getFullYear(),\n            iCurrentCentury = Math.floor(iCurrentYear / 100),\n            iYearDiff = iCurrentCentury * 100 + iWeekYear - iCurrentYear;\n\n        if (iYearDiff < -70) {\n          iWeekYear += (iCurrentCentury + 1) * 100;\n        } else if (iYearDiff < 30) {\n          iWeekYear += iCurrentCentury * 100;\n        } else {\n          iWeekYear += (iCurrentCentury - 1) * 100;\n        }\n      }\n\n      return {\n        length: sPart.length,\n        valid: oParseHelper.checkValid(oPart.type, sPart === '', oFormat),\n        year: iYear,\n        weekYear: iWeekYear\n      };\n    }\n  },\n  'M': {\n    name: 'month',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iMonth = bUTC ? oDate.getUTCMonth() : oDate.getMonth();\n\n      if (oField.digits == 3) {\n        return oFormat.aMonthsAbbrev[iMonth];\n      } else if (oField.digits == 4) {\n        return oFormat.aMonthsWide[iMonth];\n      } else if (oField.digits > 4) {\n        return oFormat.aMonthsNarrow[iMonth];\n      } else {\n        return String(iMonth + 1).padStart(oField.digits, '0');\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aMonthsVariants = [oFormat.aMonthsWide, oFormat.aMonthsWideSt, oFormat.aMonthsAbbrev, oFormat.aMonthsAbbrevSt, oFormat.aMonthsNarrow, oFormat.aMonthsNarrowSt];\n      var bValid;\n      var iMonth;\n      var sPart;\n\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n        bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n        iMonth = parseInt(sPart) - 1;\n\n        if (oConfig.strict && (iMonth > 11 || iMonth < 0)) {\n          bValid = false;\n        }\n      } else {\n        for (var i = 0; i < aMonthsVariants.length; i++) {\n          var aVariants = aMonthsVariants[i];\n          var oFound = oParseHelper.findEntry(sValue, aVariants);\n\n          if (oFound.index !== -1) {\n            return {\n              month: oFound.index,\n              length: oFound.value.length\n            };\n          }\n        }\n\n        bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n      }\n\n      return {\n        month: iMonth,\n        length: sPart ? sPart.length : 0,\n        valid: bValid\n      };\n    }\n  },\n  'L': {\n    name: 'monthStandalone',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iMonth = bUTC ? oDate.getUTCMonth() : oDate.getMonth();\n\n      if (oField.digits == 3) {\n        return oFormat.aMonthsAbbrevSt[iMonth];\n      } else if (oField.digits == 4) {\n        return oFormat.aMonthsWideSt[iMonth];\n      } else if (oField.digits > 4) {\n        return oFormat.aMonthsNarrowSt[iMonth];\n      } else {\n        return String(iMonth + 1).padStart(oField.digits, '0');\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aMonthsVariants = [oFormat.aMonthsWide, oFormat.aMonthsWideSt, oFormat.aMonthsAbbrev, oFormat.aMonthsAbbrevSt, oFormat.aMonthsNarrow, oFormat.aMonthsNarrowSt];\n      var bValid;\n      var iMonth;\n      var sPart;\n\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n        bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n        iMonth = parseInt(sPart) - 1;\n\n        if (oConfig.strict && (iMonth > 11 || iMonth < 0)) {\n          bValid = false;\n        }\n      } else {\n        for (var i = 0; i < aMonthsVariants.length; i++) {\n          var aVariants = aMonthsVariants[i];\n          var oFound = oParseHelper.findEntry(sValue, aVariants);\n\n          if (oFound.index !== -1) {\n            return {\n              month: oFound.index,\n              length: oFound.value.length\n            };\n          }\n        }\n\n        bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n      }\n\n      return {\n        month: iMonth,\n        length: sPart ? sPart.length : 0,\n        valid: bValid\n      };\n    }\n  },\n  'w': {\n    name: 'weekInYear',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var oWeek = bUTC ? oDate.getUTCWeek() : oDate.getWeek();\n      var iWeek = oWeek.week;\n      var sWeek = String(iWeek + 1);\n\n      if (oField.digits < 3) {\n        sWeek = sWeek.padStart(oField.digits, '0');\n      } else {\n        sWeek = oFormat.oLocaleData.getCalendarWeek(oField.digits === 3 ? 'narrow' : 'wide', sWeek.padStart(2, '0'));\n      }\n\n      return sWeek;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart;\n      var iWeek;\n      var iLength = 0;\n\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, 2);\n        iLength = sPart.length;\n        iWeek = parseInt(sPart) - 1;\n        bValid = oParseHelper.checkValid(oPart.type, !sPart, oFormat);\n      } else {\n        sPart = oFormat.oLocaleData.getCalendarWeek(oPart.digits === 3 ? 'narrow' : 'wide');\n        sPart = sPart.replace('{0}', '[0-9]+');\n        var rWeekNumber = new RegExp(sPart),\n            oResult = rWeekNumber.exec(sValue);\n\n        if (oResult) {\n          iLength = oResult[0].length;\n          iWeek = parseInt(oResult[0]) - 1;\n        } else {\n          bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n        }\n      }\n\n      return {\n        length: iLength,\n        valid: bValid,\n        week: iWeek\n      };\n    }\n  },\n  'W': {\n    name: 'weekInMonth',\n    format: function (oField, oDate, bUTC, oFormat) {\n      return '';\n    },\n    parse: function () {\n      return {};\n    }\n  },\n  'D': {\n    name: 'dayInYear',\n    format: function (oField, oDate, bUTC, oFormat) {},\n    parse: function () {\n      return {};\n    }\n  },\n  'd': {\n    name: 'day',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDate = bUTC ? oDate.getUTCDate() : oDate.getDate();\n      return String(iDate).padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n      var iDay = parseInt(sPart);\n\n      if (oConfig.strict && (iDay > 31 || iDay < 1)) {\n        bValid = false;\n      }\n\n      return {\n        day: iDay,\n        length: sPart.length,\n        valid: bValid\n      };\n    }\n  },\n  'Q': {\n    name: 'quarter',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iQuarter = bUTC ? oDate.getUTCQuarter() : oDate.getQuarter();\n\n      if (oField.digits == 3) {\n        return oFormat.aQuartersAbbrev[iQuarter];\n      } else if (oField.digits == 4) {\n        return oFormat.aQuartersWide[iQuarter];\n      } else if (oField.digits > 4) {\n        return oFormat.aQuartersNarrow[iQuarter];\n      } else {\n        return String(iQuarter + 1).padStart(oField.digits, '0');\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var iQuarter;\n      var sPart;\n      var aQuartersVariants = [oFormat.aQuartersWide, oFormat.aQuartersWideSt, oFormat.aQuartersAbbrev, oFormat.aQuartersAbbrevSt, oFormat.aQuartersNarrow, oFormat.aQuartersNarrowSt];\n\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n        bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n        iQuarter = parseInt(sPart) - 1;\n\n        if (oConfig.strict && iQuarter > 3) {\n          bValid = false;\n        }\n      } else {\n        for (var i = 0; i < aQuartersVariants.length; i++) {\n          var aVariants = aQuartersVariants[i];\n          var oFound = oParseHelper.findEntry(sValue, aVariants);\n\n          if (oFound.index !== -1) {\n            return {\n              quarter: oFound.index,\n              length: oFound.value.length\n            };\n          }\n        }\n\n        bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n      }\n\n      return {\n        length: sPart ? sPart.length : 0,\n        quarter: iQuarter,\n        valid: bValid\n      };\n    }\n  },\n  'q': {\n    name: 'quarterStandalone',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iQuarter = bUTC ? oDate.getUTCQuarter() : oDate.getQuarter();\n\n      if (oField.digits == 3) {\n        return oFormat.aQuartersAbbrevSt[iQuarter];\n      } else if (oField.digits == 4) {\n        return oFormat.aQuartersWideSt[iQuarter];\n      } else if (oField.digits > 4) {\n        return oFormat.aQuartersNarrowSt[iQuarter];\n      } else {\n        return String(iQuarter + 1).padStart(oField.digits, '0');\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var iQuarter;\n      var sPart;\n      var aQuartersVariants = [oFormat.aQuartersWide, oFormat.aQuartersWideSt, oFormat.aQuartersAbbrev, oFormat.aQuartersAbbrevSt, oFormat.aQuartersNarrow, oFormat.aQuartersNarrowSt];\n\n      if (oPart.digits < 3) {\n        sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n        bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n        iQuarter = parseInt(sPart) - 1;\n\n        if (oConfig.strict && iQuarter > 3) {\n          bValid = false;\n        }\n      } else {\n        for (var i = 0; i < aQuartersVariants.length; i++) {\n          var aVariants = aQuartersVariants[i];\n          var oFound = oParseHelper.findEntry(sValue, aVariants);\n\n          if (oFound.index !== -1) {\n            return {\n              quarter: oFound.index,\n              length: oFound.value.length\n            };\n          }\n        }\n\n        bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n      }\n\n      return {\n        length: sPart ? sPart.length : 0,\n        quarter: iQuarter,\n        valid: bValid\n      };\n    }\n  },\n  'F': {\n    name: 'dayOfWeekInMonth',\n    format: function (oField, oDate, bUTC, oFormat) {\n      return '';\n    },\n    parse: function () {\n      return {};\n    }\n  },\n  'E': {\n    name: 'dayNameInWeek',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDay = bUTC ? oDate.getUTCDay() : oDate.getDay();\n\n      if (oField.digits < 4) {\n        return oFormat.aDaysAbbrev[iDay];\n      } else if (oField.digits == 4) {\n        return oFormat.aDaysWide[iDay];\n      } else if (oField.digits == 5) {\n        return oFormat.aDaysNarrow[iDay];\n      } else {\n        return oFormat.aDaysShort[iDay];\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aDaysVariants = [oFormat.aDaysWide, oFormat.aDaysWideSt, oFormat.aDaysAbbrev, oFormat.aDaysAbbrevSt, oFormat.aDaysShort, oFormat.aDaysShortSt, oFormat.aDaysNarrow, oFormat.aDaysNarrowSt];\n\n      for (var i = 0; i < aDaysVariants.length; i++) {\n        var aVariants = aDaysVariants[i];\n        var oFound = oParseHelper.findEntry(sValue, aVariants);\n\n        if (oFound.index !== -1) {\n          return {\n            dayOfWeek: oFound.index,\n            length: oFound.value.length\n          };\n        }\n      }\n    }\n  },\n  'c': {\n    name: 'dayNameInWeekStandalone',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDay = bUTC ? oDate.getUTCDay() : oDate.getDay();\n\n      if (oField.digits < 4) {\n        return oFormat.aDaysAbbrevSt[iDay];\n      } else if (oField.digits == 4) {\n        return oFormat.aDaysWideSt[iDay];\n      } else if (oField.digits == 5) {\n        return oFormat.aDaysNarrowSt[iDay];\n      } else {\n        return oFormat.aDaysShortSt[iDay];\n      }\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var aDaysVariants = [oFormat.aDaysWide, oFormat.aDaysWideSt, oFormat.aDaysAbbrev, oFormat.aDaysAbbrevSt, oFormat.aDaysShort, oFormat.aDaysShortSt, oFormat.aDaysNarrow, oFormat.aDaysNarrowSt];\n\n      for (var i = 0; i < aDaysVariants.length; i++) {\n        var aVariants = aDaysVariants[i];\n        var oFound = oParseHelper.findEntry(sValue, aVariants);\n\n        if (oFound.index !== -1) {\n          return {\n            day: oFound.index,\n            length: oFound.value.length\n          };\n        }\n      }\n    }\n  },\n  'u': {\n    name: 'dayNumberOfWeek',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDay = bUTC ? oDate.getUTCDay() : oDate.getDay();\n      return oFormat._adaptDayOfWeek(iDay);\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n      return {\n        dayNumberOfWeek: parseInt(sPart),\n        length: sPart.length\n      };\n    }\n  },\n  'a': {\n    name: 'amPmMarker',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iDayPeriod = bUTC ? oDate.getUTCDayPeriod() : oDate.getDayPeriod();\n      return oFormat.aDayPeriods[iDayPeriod];\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bPM;\n      var iLength;\n      var sAM = oFormat.aDayPeriods[0],\n          sPM = oFormat.aDayPeriods[1];\n      var rAMPM = /[aApP](?:\\.)?[mM](?:\\.)?/;\n      var aMatch = sValue.match(rAMPM);\n      var bVariant = aMatch && aMatch.index === 0;\n\n      if (bVariant) {\n        sValue = aMatch[0].replace(/\\./g, '').toLowerCase() + sValue.substring(aMatch[0].length);\n        sAM = sAM.replace(/\\./g, '').toLowerCase();\n        sPM = sPM.replace(/\\./g, '').toLowerCase();\n      }\n\n      if (sValue.indexOf(sAM) === 0) {\n        bPM = false;\n        iLength = bVariant ? aMatch[0].length : sAM.length;\n      } else if (sValue.indexOf(sPM) === 0) {\n        bPM = true;\n        iLength = bVariant ? aMatch[0].length : sPM.length;\n      }\n\n      return {\n        pm: bPM,\n        length: iLength\n      };\n    }\n  },\n  'H': {\n    name: 'hour0_23',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iHours = bUTC ? oDate.getUTCHours() : oDate.getHours();\n      return String(iHours).padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iHours = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n\n      if (oConfig.strict && iHours > 23) {\n        bValid = false;\n      }\n\n      return {\n        hour: iHours,\n        length: sPart.length,\n        valid: bValid\n      };\n    }\n  },\n  'k': {\n    name: 'hour1_24',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iHours = bUTC ? oDate.getUTCHours() : oDate.getHours();\n      var sHours = iHours === 0 ? '24' : String(iHours);\n      return sHours.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iHours = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n\n      if (iHours == 24) {\n        iHours = 0;\n      }\n\n      if (oConfig.strict && iHours > 23) {\n        bValid = false;\n      }\n\n      return {\n        hour: iHours,\n        length: sPart.length,\n        valid: bValid\n      };\n    }\n  },\n  'K': {\n    name: 'hour0_11',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iHours = bUTC ? oDate.getUTCHours() : oDate.getHours();\n      var sHours = String(iHours > 11 ? iHours - 12 : iHours);\n      return sHours.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iHours = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n\n      if (oConfig.strict && iHours > 11) {\n        bValid = false;\n      }\n\n      return {\n        hour: iHours,\n        length: sPart.length,\n        valid: bValid\n      };\n    }\n  },\n  'h': {\n    name: 'hour1_12',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iHours = bUTC ? oDate.getUTCHours() : oDate.getHours();\n      var sHours;\n\n      if (iHours > 12) {\n        sHours = String(iHours - 12);\n      } else if (iHours == 0) {\n        sHours = '12';\n      } else {\n        sHours = String(iHours);\n      }\n\n      return sHours.padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bPM = oConfig.dateValue.pm;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iHours = parseInt(sPart);\n      var bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n\n      if (iHours == 12) {\n        iHours = 0;\n        bPM = bPM === undefined ? true : bPM;\n      }\n\n      if (oConfig.strict && iHours > 11) {\n        bValid = false;\n      }\n\n      return {\n        hour: iHours,\n        length: sPart.length,\n        pm: bPM,\n        valid: bValid\n      };\n    }\n  },\n  'm': {\n    name: 'minute',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iMinutes = bUTC ? oDate.getUTCMinutes() : oDate.getMinutes();\n      return String(iMinutes).padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iMinutes = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n\n      if (oConfig.strict && iMinutes > 59) {\n        bValid = false;\n      }\n\n      return {\n        length: sPart.length,\n        minute: iMinutes,\n        valid: bValid\n      };\n    }\n  },\n  's': {\n    name: 'second',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iSeconds = bUTC ? oDate.getUTCSeconds() : oDate.getSeconds();\n      return String(iSeconds).padStart(oField.digits, '0');\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var bValid;\n      var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n      var iSeconds = parseInt(sPart);\n      bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n\n      if (oConfig.strict && iSeconds > 59) {\n        bValid = false;\n      }\n\n      return {\n        length: sPart.length,\n        second: iSeconds,\n        valid: bValid\n      };\n    }\n  },\n  'S': {\n    name: 'fractionalsecond',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iMilliseconds = bUTC ? oDate.getUTCMilliseconds() : oDate.getMilliseconds();\n      var sMilliseconds = String(iMilliseconds);\n      var sFractionalseconds = sMilliseconds.padStart(3, '0');\n      sFractionalseconds = sFractionalseconds.substr(0, oField.digits);\n      sFractionalseconds = sFractionalseconds.padEnd(oField.digits, '0');\n      return sFractionalseconds;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n      var iLength = sPart.length;\n      sPart = sPart.substr(0, 3);\n      sPart = sPart.padEnd(3, '0');\n      var iMilliseconds = parseInt(sPart);\n      return {\n        length: iLength,\n        millisecond: iMilliseconds\n      };\n    }\n  },\n  'z': {\n    name: 'timezoneGeneral',\n    format: function (oField, oDate, bUTC, oFormat) {\n      if (oField.digits > 3 && oDate.getTimezoneLong && oDate.getTimezoneLong()) {\n        return oDate.getTimezoneLong();\n      } else if (oDate.getTimezoneShort && oDate.getTimezoneShort()) {\n        return oDate.getTimezoneShort();\n      }\n\n      var sTimeZone = 'GMT';\n      var iTZOffset = Math.abs(oDate.getTimezoneOffset());\n      var bPositiveOffset = oDate.getTimezoneOffset() > 0;\n      var iHourOffset = Math.floor(iTZOffset / 60);\n      var iMinuteOffset = iTZOffset % 60;\n\n      if (!bUTC && iTZOffset != 0) {\n        sTimeZone += bPositiveOffset ? '-' : '+';\n        sTimeZone += String(iHourOffset).padStart(2, '0');\n        sTimeZone += ':';\n        sTimeZone += String(iMinuteOffset).padStart(2, '0');\n      } else {\n        sTimeZone += 'Z';\n      }\n\n      return sTimeZone;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      var iLength = 0;\n      var iTZDiff;\n      var oTZ = sValue.substring(0, 3);\n\n      if (oTZ === 'GMT' || oTZ === 'UTC') {\n        iLength = 3;\n      } else if (sValue.substring(0, 2) === 'UT') {\n        iLength = 2;\n      } else if (sValue.charAt(0) === 'Z') {\n        iLength = 1;\n        iTZDiff = 0;\n      } else {\n        return {\n          error: 'cannot be parsed correcly by sap.ui.core.format.DateFormat: The given timezone is not supported!'\n        };\n      }\n\n      if (sValue.charAt(0) !== 'Z') {\n        var oParsedTZ = oParseHelper.parseTZ(sValue.substr(iLength), true);\n        iLength += oParsedTZ.length;\n        iTZDiff = oParsedTZ.tzDiff;\n      }\n\n      return {\n        length: iLength,\n        tzDiff: iTZDiff\n      };\n    }\n  },\n  'Z': {\n    name: 'timezoneRFC822',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iTZOffset = Math.abs(oDate.getTimezoneOffset());\n      var bPositiveOffset = oDate.getTimezoneOffset() > 0;\n      var iHourOffset = Math.floor(iTZOffset / 60);\n      var iMinuteOffset = iTZOffset % 60;\n      var sTimeZone = '';\n\n      if (!bUTC) {\n        sTimeZone += bPositiveOffset ? '-' : '+';\n        sTimeZone += String(iHourOffset).padStart(2, '0');\n        sTimeZone += String(iMinuteOffset).padStart(2, '0');\n      }\n\n      return sTimeZone;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      return oParseHelper.parseTZ(sValue, false);\n    }\n  },\n  'X': {\n    name: 'timezoneISO8601',\n    format: function (oField, oDate, bUTC, oFormat) {\n      var iTZOffset = Math.abs(oDate.getTimezoneOffset());\n      var bPositiveOffset = oDate.getTimezoneOffset() > 0;\n      var iHourOffset = Math.floor(iTZOffset / 60);\n      var iMinuteOffset = iTZOffset % 60;\n      var sTimeZone = '';\n\n      if (!bUTC && iTZOffset != 0) {\n        sTimeZone += bPositiveOffset ? '-' : '+';\n        sTimeZone += String(iHourOffset).padStart(2, '0');\n\n        if (oField.digits > 1 || iMinuteOffset > 0) {\n          if (oField.digits === 3 || oField.digits === 5) {\n            sTimeZone += ':';\n          }\n\n          sTimeZone += String(iMinuteOffset).padStart(2, '0');\n        }\n      } else {\n        sTimeZone += 'Z';\n      }\n\n      return sTimeZone;\n    },\n    parse: function (sValue, oPart, oFormat, oConfig) {\n      if (sValue.charAt(0) === 'Z') {\n        return {\n          length: 1,\n          tzDiff: 0\n        };\n      } else {\n        return oParseHelper.parseTZ(sValue, oPart.digits === 3 || oPart.digits === 5);\n      }\n    }\n  }\n};\n\nDateFormat.prototype._format = function (oJSDate, bUTC) {\n  if (this.oFormatOptions.relative) {\n    var sRes = this.formatRelative(oJSDate, bUTC, this.oFormatOptions.relativeRange);\n\n    if (sRes) {\n      return sRes;\n    }\n  }\n\n  var sCalendarType = this.oFormatOptions.calendarType;\n  var oDate = UniversalDate.getInstance(oJSDate, sCalendarType);\n  var aBuffer = [],\n      oPart,\n      sResult,\n      sSymbol;\n\n  for (var i = 0; i < this.aFormatArray.length; i++) {\n    oPart = this.aFormatArray[i];\n    sSymbol = oPart.symbol || '';\n    aBuffer.push(this.oSymbols[sSymbol].format(oPart, oDate, bUTC, this));\n  }\n\n  sResult = aBuffer.join('');\n\n  if (Core.getConfiguration().getOriginInfo()) {\n    sResult = new String(sResult);\n    sResult.originInfo = {\n      source: 'Common Locale Data Repository',\n      locale: this.oLocale.toString(),\n      style: this.oFormatOptions.style,\n      pattern: this.oFormatOptions.pattern\n    };\n  }\n\n  return sResult;\n};\n\nDateFormat.prototype.format = function (vJSDate, bUTC) {\n  var sCalendarType = this.oFormatOptions.calendarType,\n      sResult;\n\n  if (bUTC === undefined) {\n    bUTC = this.oFormatOptions.UTC;\n  }\n\n  if (Array.isArray(vJSDate)) {\n    if (!this.oFormatOptions.interval) {\n      Log.error('Non-interval DateFormat can\\'t format more than one date instance.');\n      return '';\n    }\n\n    if (vJSDate.length !== 2) {\n      Log.error('Interval DateFormat can only format with 2 date instances but ' + vJSDate.length + ' is given.');\n      return '';\n    }\n\n    if (this.oFormatOptions.singleIntervalValue) {\n      if (vJSDate[0] === null) {\n        Log.error('First date instance which is passed to the interval DateFormat shouldn\\'t be null.');\n        return '';\n      }\n\n      if (vJSDate[1] === null) {\n        sResult = this._format(vJSDate[0], bUTC);\n      }\n    }\n\n    if (sResult === undefined) {\n      var bValid = vJSDate.every(function (oJSDate) {\n        return oJSDate && !isNaN(oJSDate.getTime());\n      });\n\n      if (!bValid) {\n        Log.error('At least one date instance which is passed to the interval DateFormat isn\\'t valid.');\n        return '';\n      }\n\n      sResult = this._formatInterval(vJSDate, bUTC);\n    }\n  } else {\n    if (!vJSDate || isNaN(vJSDate.getTime())) {\n      Log.error('The given date instance isn\\'t valid.');\n      return '';\n    }\n\n    if (this.oFormatOptions.interval) {\n      Log.error('Interval DateFormat expects an array with two dates for the first argument but only one date is given.');\n      return '';\n    }\n\n    sResult = this._format(vJSDate, bUTC);\n  }\n\n  if (sCalendarType == CalendarType.Japanese && this.oLocale.getLanguage() === 'ja') {\n    sResult = sResult.replace(/(^|[^\\d])1年/g, '$1元年');\n  }\n\n  return sResult;\n};\n\nDateFormat.prototype._formatInterval = function (aJSDates, bUTC) {\n  var sCalendarType = this.oFormatOptions.calendarType;\n  var oFromDate = UniversalDate.getInstance(aJSDates[0], sCalendarType);\n  var oToDate = UniversalDate.getInstance(aJSDates[1], sCalendarType);\n  var oDate;\n  var oPart;\n  var sSymbol;\n  var aBuffer = [];\n  var sPattern;\n  var aFormatArray = [];\n\n  var oDiffField = this._getGreatestDiffField([oFromDate, oToDate], bUTC);\n\n  if (!oDiffField) {\n    return this._format(aJSDates[0], bUTC);\n  }\n\n  if (this.oFormatOptions.format) {\n    sPattern = this.oLocaleData.getCustomIntervalPattern(this.oFormatOptions.format, oDiffField, sCalendarType);\n  } else {\n    sPattern = this.oLocaleData.getCombinedIntervalPattern(this.oFormatOptions.pattern, sCalendarType);\n  }\n\n  aFormatArray = this.parseCldrDatePattern(sPattern);\n  oDate = oFromDate;\n\n  for (var i = 0; i < aFormatArray.length; i++) {\n    oPart = aFormatArray[i];\n    sSymbol = oPart.symbol || '';\n\n    if (oPart.repeat) {\n      oDate = oToDate;\n    }\n\n    aBuffer.push(this.oSymbols[sSymbol].format(oPart, oDate, bUTC, this));\n  }\n\n  return aBuffer.join('');\n};\n\nvar mFieldToGroup = {\n  Era: 'Era',\n  FullYear: 'Year',\n  Quarter: 'Quarter',\n  Month: 'Month',\n  Week: 'Week',\n  Date: 'Day',\n  DayPeriod: 'DayPeriod',\n  Hours: 'Hour',\n  Minutes: 'Minute',\n  Seconds: 'Second'\n};\n\nDateFormat.prototype._getGreatestDiffField = function (aDates, bUTC) {\n  var bDiffFound = false,\n      mDiff = {};\n  this.aIntervalCompareFields.forEach(function (sField) {\n    var sGetterPrefix = 'get' + (bUTC ? 'UTC' : ''),\n        sMethodName = sGetterPrefix + sField,\n        sFieldGroup = mFieldToGroup[sField],\n        vFromValue = aDates[0][sMethodName].apply(aDates[0]),\n        vToValue = aDates[1][sMethodName].apply(aDates[1]);\n\n    if (!deepEqual(vFromValue, vToValue)) {\n      bDiffFound = true;\n      mDiff[sFieldGroup] = true;\n    }\n  });\n\n  if (bDiffFound) {\n    return mDiff;\n  }\n\n  return null;\n};\n\nDateFormat.prototype._parse = function (sValue, aFormatArray, bUTC, bStrict) {\n  var iIndex = 0,\n      oPart,\n      sSubValue,\n      oResult;\n  var oDateValue = {\n    valid: true\n  };\n  var oParseConf = {\n    formatArray: aFormatArray,\n    dateValue: oDateValue,\n    strict: bStrict\n  };\n\n  for (var i = 0; i < aFormatArray.length; i++) {\n    sSubValue = sValue.substr(iIndex);\n    oPart = aFormatArray[i];\n    oParseConf.index = i;\n    oResult = this.oSymbols[oPart.symbol || ''].parse(sSubValue, oPart, this, oParseConf) || {};\n    oDateValue = extend(oDateValue, oResult);\n\n    if (oResult.valid === false) {\n      break;\n    }\n\n    iIndex += oResult.length || 0;\n  }\n\n  oDateValue.index = iIndex;\n\n  if (oDateValue.pm) {\n    oDateValue.hour += 12;\n  }\n\n  if (oDateValue.dayNumberOfWeek === undefined && oDateValue.dayOfWeek !== undefined) {\n    oDateValue.dayNumberOfWeek = this._adaptDayOfWeek(oDateValue.dayOfWeek);\n  }\n\n  if (oDateValue.quarter !== undefined && oDateValue.month === undefined && oDateValue.day === undefined) {\n    oDateValue.month = 3 * oDateValue.quarter;\n    oDateValue.day = 1;\n  }\n\n  return oDateValue;\n};\n\nDateFormat.prototype._parseInterval = function (sValue, sCalendarType, bUTC, bStrict) {\n  var aDateValues, iRepeat, oDateValue;\n  this.intervalPatterns.some(function (sPattern) {\n    var aFormatArray = this.parseCldrDatePattern(sPattern);\n    iRepeat = undefined;\n\n    for (var i = 0; i < aFormatArray.length; i++) {\n      if (aFormatArray[i].repeat) {\n        iRepeat = i;\n        break;\n      }\n    }\n\n    if (iRepeat === undefined) {\n      oDateValue = this._parse(sValue, aFormatArray, bUTC, bStrict);\n\n      if (oDateValue.index === 0 || oDateValue.index < sValue.length) {\n        oDateValue.valid = false;\n      }\n\n      if (oDateValue.valid === false) {\n        return;\n      }\n\n      aDateValues = [oDateValue, oDateValue];\n      return true;\n    } else {\n      aDateValues = [];\n      oDateValue = this._parse(sValue, aFormatArray.slice(0, iRepeat), bUTC, bStrict);\n\n      if (oDateValue.valid === false) {\n        return;\n      }\n\n      aDateValues.push(oDateValue);\n      var iLength = oDateValue.index;\n      oDateValue = this._parse(sValue.substring(iLength), aFormatArray.slice(iRepeat), bUTC, bStrict);\n\n      if (oDateValue.index === 0 || oDateValue.index + iLength < sValue.length) {\n        oDateValue.valid = false;\n      }\n\n      if (oDateValue.valid === false) {\n        return;\n      }\n\n      aDateValues.push(oDateValue);\n      return true;\n    }\n  }.bind(this));\n  return aDateValues;\n};\n\nvar fnCreateDate = function (oDateValue, sCalendarType, bUTC, bStrict) {\n  var oDate,\n      iYear = typeof oDateValue.year === 'number' ? oDateValue.year : 1970;\n\n  if (oDateValue.valid) {\n    if (bUTC || oDateValue.tzDiff !== undefined) {\n      oDate = UniversalDate.getInstance(new Date(0), sCalendarType);\n      oDate.setUTCEra(oDateValue.era || UniversalDate.getCurrentEra(sCalendarType));\n      oDate.setUTCFullYear(iYear);\n      oDate.setUTCMonth(oDateValue.month || 0);\n      oDate.setUTCDate(oDateValue.day || 1);\n      oDate.setUTCHours(oDateValue.hour || 0);\n      oDate.setUTCMinutes(oDateValue.minute || 0);\n      oDate.setUTCSeconds(oDateValue.second || 0);\n      oDate.setUTCMilliseconds(oDateValue.millisecond || 0);\n\n      if (bStrict && (oDateValue.day || 1) !== oDate.getUTCDate()) {\n        oDateValue.valid = false;\n        oDate = undefined;\n      } else {\n        if (oDateValue.tzDiff) {\n          oDate.setUTCMinutes((oDateValue.minute || 0) + oDateValue.tzDiff);\n        }\n\n        if (oDateValue.week !== undefined && (oDateValue.month === undefined || oDateValue.day === undefined)) {\n          oDate.setUTCWeek({\n            year: oDateValue.weekYear || oDateValue.year,\n            week: oDateValue.week\n          });\n\n          if (oDateValue.dayNumberOfWeek !== undefined) {\n            oDate.setUTCDate(oDate.getUTCDate() + oDateValue.dayNumberOfWeek - 1);\n          }\n        }\n      }\n    } else {\n      oDate = UniversalDate.getInstance(new Date(1970, 0, 1, 0, 0, 0), sCalendarType);\n      oDate.setEra(oDateValue.era || UniversalDate.getCurrentEra(sCalendarType));\n      oDate.setFullYear(iYear);\n      oDate.setMonth(oDateValue.month || 0);\n      oDate.setDate(oDateValue.day || 1);\n      oDate.setHours(oDateValue.hour || 0);\n      oDate.setMinutes(oDateValue.minute || 0);\n      oDate.setSeconds(oDateValue.second || 0);\n      oDate.setMilliseconds(oDateValue.millisecond || 0);\n\n      if (bStrict && (oDateValue.day || 1) !== oDate.getDate()) {\n        oDateValue.valid = false;\n        oDate = undefined;\n      } else if (oDateValue.week !== undefined && (oDateValue.month === undefined || oDateValue.day === undefined)) {\n        oDate.setWeek({\n          year: oDateValue.weekYear || oDateValue.year,\n          week: oDateValue.week\n        });\n\n        if (oDateValue.dayNumberOfWeek !== undefined) {\n          oDate.setDate(oDate.getDate() + oDateValue.dayNumberOfWeek - 1);\n        }\n      }\n    }\n\n    if (oDateValue.valid) {\n      oDate = oDate.getJSDate();\n      return oDate;\n    }\n  }\n\n  return null;\n};\n\nfunction mergeWithoutOverwrite(object1, object2) {\n  if (object1 === object2) {\n    return object1;\n  }\n\n  var oMergedObject = {};\n  Object.keys(object1).forEach(function (sKey) {\n    oMergedObject[sKey] = object1[sKey];\n  });\n  Object.keys(object2).forEach(function (sKey) {\n    if (!oMergedObject.hasOwnProperty(sKey)) {\n      oMergedObject[sKey] = object2[sKey];\n    }\n  });\n  return oMergedObject;\n}\n\nfunction isValidDateRange(oStartDate, oEndDate) {\n  if (oStartDate.getTime() > oEndDate.getTime()) {\n    return false;\n  }\n\n  return true;\n}\n\nDateFormat.prototype.parse = function (sValue, bUTC, bStrict) {\n  sValue = sValue == null ? '' : String(sValue).trim();\n  var oDateValue;\n  var sCalendarType = this.oFormatOptions.calendarType;\n\n  if (bUTC === undefined) {\n    bUTC = this.oFormatOptions.UTC;\n  }\n\n  if (bStrict === undefined) {\n    bStrict = this.oFormatOptions.strictParsing;\n  }\n\n  if (sCalendarType == CalendarType.Japanese && this.oLocale.getLanguage() === 'ja') {\n    sValue = sValue.replace(/元年/g, '1年');\n  }\n\n  if (!this.oFormatOptions.interval) {\n    var oJSDate = this.parseRelative(sValue, bUTC);\n\n    if (oJSDate) {\n      return oJSDate;\n    }\n\n    oDateValue = this._parse(sValue, this.aFormatArray, bUTC, bStrict);\n\n    if (oDateValue.index === 0 || oDateValue.index < sValue.length) {\n      oDateValue.valid = false;\n    }\n\n    oJSDate = fnCreateDate(oDateValue, sCalendarType, bUTC, bStrict);\n\n    if (oJSDate) {\n      return oJSDate;\n    }\n  } else {\n    var aDateValues = this._parseInterval(sValue, sCalendarType, bUTC, bStrict);\n\n    var oJSDate1, oJSDate2;\n\n    if (aDateValues && aDateValues.length == 2) {\n      var oDateValue1 = mergeWithoutOverwrite(aDateValues[0], aDateValues[1]);\n      var oDateValue2 = mergeWithoutOverwrite(aDateValues[1], aDateValues[0]);\n      oJSDate1 = fnCreateDate(oDateValue1, sCalendarType, bUTC, bStrict);\n      oJSDate2 = fnCreateDate(oDateValue2, sCalendarType, bUTC, bStrict);\n\n      if (oJSDate1 && oJSDate2) {\n        if (this.oFormatOptions.singleIntervalValue && oJSDate1.getTime() === oJSDate2.getTime()) {\n          return [oJSDate1, null];\n        }\n\n        var bValid = isValidDateRange(oJSDate1, oJSDate2);\n\n        if (bStrict && !bValid) {\n          Log.error('StrictParsing: Invalid date range. The given end date is before the start date.');\n          return [null, null];\n        }\n\n        return [oJSDate1, oJSDate2];\n      }\n    }\n  }\n\n  if (!this.bIsFallback) {\n    var vDate;\n    this.aFallbackFormats.every(function (oFallbackFormat) {\n      vDate = oFallbackFormat.parse(sValue, bUTC, bStrict);\n\n      if (Array.isArray(vDate)) {\n        return !(vDate[0] && vDate[1]);\n      } else {\n        return !vDate;\n      }\n    });\n    return vDate;\n  }\n\n  if (!this.oFormatOptions.interval) {\n    return null;\n  } else {\n    return [null, null];\n  }\n};\n\nDateFormat.prototype.parseCldrDatePattern = function (sPattern) {\n  if (mCldrDatePattern[sPattern]) {\n    return mCldrDatePattern[sPattern];\n  }\n\n  var aFormatArray = [],\n      i,\n      bQuoted = false,\n      oCurrentObject = null,\n      sState = '',\n      sNewState = '',\n      mAppeared = {},\n      bIntervalStartFound = false;\n\n  for (i = 0; i < sPattern.length; i++) {\n    var sCurChar = sPattern.charAt(i),\n        sNextChar,\n        sPrevChar,\n        sPrevPrevChar;\n\n    if (bQuoted) {\n      if (sCurChar == '\\'') {\n        sPrevChar = sPattern.charAt(i - 1);\n        sPrevPrevChar = sPattern.charAt(i - 2);\n        sNextChar = sPattern.charAt(i + 1);\n\n        if (sPrevChar == '\\'' && sPrevPrevChar != '\\'') {\n          bQuoted = false;\n        } else if (sNextChar == '\\'') {\n          i += 1;\n        } else {\n          bQuoted = false;\n          continue;\n        }\n      }\n\n      if (sState == 'text') {\n        oCurrentObject.value += sCurChar;\n      } else {\n        oCurrentObject = {\n          type: 'text',\n          value: sCurChar\n        };\n        aFormatArray.push(oCurrentObject);\n        sState = 'text';\n      }\n    } else {\n      if (sCurChar == '\\'') {\n        bQuoted = true;\n      } else if (this.oSymbols[sCurChar]) {\n        sNewState = this.oSymbols[sCurChar].name;\n\n        if (sState == sNewState) {\n          oCurrentObject.digits++;\n        } else {\n          oCurrentObject = {\n            type: sNewState,\n            symbol: sCurChar,\n            digits: 1\n          };\n          aFormatArray.push(oCurrentObject);\n          sState = sNewState;\n\n          if (!bIntervalStartFound) {\n            if (mAppeared[sNewState]) {\n              oCurrentObject.repeat = true;\n              bIntervalStartFound = true;\n            } else {\n              mAppeared[sNewState] = true;\n            }\n          }\n        }\n      } else {\n        if (sState == 'text') {\n          oCurrentObject.value += sCurChar;\n        } else {\n          oCurrentObject = {\n            type: 'text',\n            value: sCurChar\n          };\n          aFormatArray.push(oCurrentObject);\n          sState = 'text';\n        }\n      }\n    }\n  }\n\n  mCldrDatePattern[sPattern] = aFormatArray;\n  return aFormatArray;\n};\n\nDateFormat.prototype.parseRelative = function (sValue, bUTC) {\n  var aPatterns, oEntry, rPattern, oResult, iValue;\n\n  if (!sValue) {\n    return null;\n  }\n\n  aPatterns = this.oLocaleData.getRelativePatterns(this.aRelativeParseScales, this.oFormatOptions.relativeStyle);\n\n  for (var i = 0; i < aPatterns.length; i++) {\n    oEntry = aPatterns[i];\n    rPattern = new RegExp('^\\\\s*' + oEntry.pattern.replace(/\\{0\\}/, '(\\\\d+)') + '\\\\s*$', 'i');\n    oResult = rPattern.exec(sValue);\n\n    if (oResult) {\n      if (oEntry.value !== undefined) {\n        return computeRelativeDate(oEntry.value, oEntry.scale);\n      } else {\n        iValue = parseInt(oResult[1]);\n        return computeRelativeDate(iValue * oEntry.sign, oEntry.scale);\n      }\n    }\n  }\n\n  function computeRelativeDate(iDiff, sScale) {\n    var iToday,\n        oToday = new Date(),\n        oJSDate;\n\n    if (bUTC) {\n      iToday = oToday.getTime();\n    } else {\n      iToday = Date.UTC(oToday.getFullYear(), oToday.getMonth(), oToday.getDate(), oToday.getHours(), oToday.getMinutes(), oToday.getSeconds(), oToday.getMilliseconds());\n    }\n\n    oJSDate = new Date(iToday);\n\n    switch (sScale) {\n      case 'second':\n        oJSDate.setUTCSeconds(oJSDate.getUTCSeconds() + iDiff);\n        break;\n\n      case 'minute':\n        oJSDate.setUTCMinutes(oJSDate.getUTCMinutes() + iDiff);\n        break;\n\n      case 'hour':\n        oJSDate.setUTCHours(oJSDate.getUTCHours() + iDiff);\n        break;\n\n      case 'day':\n        oJSDate.setUTCDate(oJSDate.getUTCDate() + iDiff);\n        break;\n\n      case 'week':\n        oJSDate.setUTCDate(oJSDate.getUTCDate() + iDiff * 7);\n        break;\n\n      case 'month':\n        oJSDate.setUTCMonth(oJSDate.getUTCMonth() + iDiff);\n        break;\n\n      case 'quarter':\n        oJSDate.setUTCMonth(oJSDate.getUTCMonth() + iDiff * 3);\n        break;\n\n      case 'year':\n        oJSDate.setUTCFullYear(oJSDate.getUTCFullYear() + iDiff);\n        break;\n    }\n\n    if (bUTC) {\n      return oJSDate;\n    } else {\n      return new Date(oJSDate.getUTCFullYear(), oJSDate.getUTCMonth(), oJSDate.getUTCDate(), oJSDate.getUTCHours(), oJSDate.getUTCMinutes(), oJSDate.getUTCSeconds(), oJSDate.getUTCMilliseconds());\n    }\n  }\n};\n\nDateFormat.prototype.formatRelative = function (oJSDate, bUTC, aRange) {\n  var oToday = new Date(),\n      oDateUTC,\n      sScale = this.oFormatOptions.relativeScale || 'day',\n      iDiff,\n      sPattern,\n      iDiffSeconds;\n  iDiffSeconds = (oJSDate.getTime() - oToday.getTime()) / 1000;\n\n  if (this.oFormatOptions.relativeScale == 'auto') {\n    sScale = this._getScale(iDiffSeconds, this.aRelativeScales);\n  }\n\n  if (!aRange) {\n    aRange = this._mRanges[sScale];\n  }\n\n  if (sScale == 'year' || sScale == 'month' || sScale == 'day') {\n    oToday = new Date(Date.UTC(oToday.getFullYear(), oToday.getMonth(), oToday.getDate()));\n    oDateUTC = new Date(0);\n\n    if (bUTC) {\n      oDateUTC.setUTCFullYear(oJSDate.getUTCFullYear(), oJSDate.getUTCMonth(), oJSDate.getUTCDate());\n    } else {\n      oDateUTC.setUTCFullYear(oJSDate.getFullYear(), oJSDate.getMonth(), oJSDate.getDate());\n    }\n\n    oJSDate = oDateUTC;\n  }\n\n  iDiff = this._getDifference(sScale, [oToday, oJSDate]);\n\n  if (this.oFormatOptions.relativeScale != 'auto' && (iDiff < aRange[0] || iDiff > aRange[1])) {\n    return null;\n  }\n\n  sPattern = this.oLocaleData.getRelativePattern(sScale, iDiff, iDiffSeconds > 0, this.oFormatOptions.relativeStyle);\n  return formatMessage(sPattern, [Math.abs(iDiff)]);\n};\n\nDateFormat.prototype._mRanges = {\n  second: [-60, 60],\n  minute: [-60, 60],\n  hour: [-24, 24],\n  day: [-6, 6],\n  week: [-4, 4],\n  month: [-12, 12],\n  year: [-10, 10]\n};\nDateFormat.prototype._mScales = {\n  second: 1,\n  minute: 60,\n  hour: 3600,\n  day: 86400,\n  week: 604800,\n  month: 2592000,\n  quarter: 7776000,\n  year: 31536000\n};\n\nDateFormat.prototype._getScale = function (iDiffSeconds, aScales) {\n  var sScale, sTestScale;\n  iDiffSeconds = Math.abs(iDiffSeconds);\n\n  for (var i = 0; i < aScales.length; i++) {\n    sTestScale = aScales[i];\n\n    if (iDiffSeconds >= this._mScales[sTestScale]) {\n      sScale = sTestScale;\n      break;\n    }\n  }\n\n  if (!sScale) {\n    sScale = aScales[aScales.length - 1];\n  }\n\n  return sScale;\n};\n\nfunction cutDateFields(oDate, iStartIndex) {\n  var aFields = ['FullYear', 'Month', 'Date', 'Hours', 'Minutes', 'Seconds', 'Milliseconds'],\n      sMethodName;\n  var oDateCopy = new Date(oDate.getTime());\n\n  for (var i = iStartIndex; i < aFields.length; i++) {\n    sMethodName = 'set' + aFields[iStartIndex];\n    oDateCopy[sMethodName].apply(oDateCopy, [0]);\n  }\n\n  return oDateCopy;\n}\n\nvar mRelativeDiffs = {\n  year: function (oFromDate, oToDate) {\n    return oToDate.getFullYear() - oFromDate.getFullYear();\n  },\n  month: function (oFromDate, oToDate) {\n    return oToDate.getMonth() - oFromDate.getMonth() + this.year(oFromDate, oToDate) * 12;\n  },\n  week: function (oFromDate, oToDate, oFormat) {\n    var iFromDay = oFormat._adaptDayOfWeek(oFromDate.getDay());\n\n    var iToDay = oFormat._adaptDayOfWeek(oToDate.getDay());\n\n    oFromDate = cutDateFields(oFromDate, 3);\n    oToDate = cutDateFields(oToDate, 3);\n    return (oToDate.getTime() - oFromDate.getTime() - (iToDay - iFromDay) * oFormat._mScales.day * 1000) / (oFormat._mScales.week * 1000);\n  },\n  day: function (oFromDate, oToDate, oFormat) {\n    oFromDate = cutDateFields(oFromDate, 3);\n    oToDate = cutDateFields(oToDate, 3);\n    return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.day * 1000);\n  },\n  hour: function (oFromDate, oToDate, oFormat) {\n    oFromDate = cutDateFields(oFromDate, 4);\n    oToDate = cutDateFields(oToDate, 4);\n    return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.hour * 1000);\n  },\n  minute: function (oFromDate, oToDate, oFormat) {\n    oFromDate = cutDateFields(oFromDate, 5);\n    oToDate = cutDateFields(oToDate, 5);\n    return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.minute * 1000);\n  },\n  second: function (oFromDate, oToDate, oFormat) {\n    oFromDate = cutDateFields(oFromDate, 6);\n    oToDate = cutDateFields(oToDate, 6);\n    return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.second * 1000);\n  }\n};\n\nDateFormat.prototype._adaptDayOfWeek = function (iDayOfWeek) {\n  var iFirstDayOfWeek = LocaleData.getInstance(Core.getConfiguration().getFormatSettings().getFormatLocale()).getFirstDayOfWeek();\n  var iDayNumberOfWeek = iDayOfWeek - (iFirstDayOfWeek - 1);\n\n  if (iDayNumberOfWeek <= 0) {\n    iDayNumberOfWeek += 7;\n  }\n\n  return iDayNumberOfWeek;\n};\n\nDateFormat.prototype._getDifference = function (sScale, aDates) {\n  var oFromDate = aDates[0];\n  var oToDate = aDates[1];\n  return Math.round(mRelativeDiffs[sScale](oFromDate, oToDate, this));\n};\n\nDateFormat.prototype.getAllowedCharacters = function (aFormatArray) {\n  if (this.oFormatOptions.relative) {\n    return '';\n  }\n\n  var sAllowedCharacters = '';\n  var bNumbers = false;\n  var bAll = false;\n  var oPart;\n\n  for (var i = 0; i < aFormatArray.length; i++) {\n    oPart = aFormatArray[i];\n\n    switch (oPart.type) {\n      case 'text':\n        if (sAllowedCharacters.indexOf(oPart.value) < 0) {\n          sAllowedCharacters += oPart.value;\n        }\n\n        break;\n\n      case 'day':\n      case 'year':\n      case 'weekYear':\n      case 'dayNumberOfWeek':\n      case 'weekInYear':\n      case 'hour0_23':\n      case 'hour1_24':\n      case 'hour0_11':\n      case 'hour1_12':\n      case 'minute':\n      case 'second':\n      case 'fractionalsecond':\n        if (!bNumbers) {\n          sAllowedCharacters += '0123456789';\n          bNumbers = true;\n        }\n\n        break;\n\n      case 'month':\n      case 'monthStandalone':\n        if (oPart.digits < 3) {\n          if (!bNumbers) {\n            sAllowedCharacters += '0123456789';\n            bNumbers = true;\n          }\n        } else {\n          bAll = true;\n        }\n\n        break;\n\n      default:\n        bAll = true;\n        break;\n    }\n  }\n\n  if (bAll) {\n    sAllowedCharacters = '';\n  }\n\n  return sAllowedCharacters;\n};\n\nexport default DateFormat;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-localization/dist/sap/ui/core/format/DateFormat.js"],"names":["Core","CalendarType","Locale","LocaleData","UniversalDate","deepEqual","formatMessage","Log","extend","DateFormat","Error","mCldrDatePattern","oDateInfo","oDefaultFormatOptions","style","relativeScale","relativeStyle","aFallbackFormatOptions","pattern","strictParsing","bShortFallbackFormatOptions","bPatternFallbackWithoutDelimiter","getPattern","oLocaleData","sStyle","sCalendarType","getDatePattern","oRequiredParts","aRelativeScales","aRelativeParseScales","aIntervalCompareFields","oDateTimeInfo","iSlashIndex","indexOf","getCombinedDateTimePattern","substr","oTimeInfo","getTimePattern","getInstance","oFormatOptions","oLocale","getDateInstance","createInstance","getDateTimeInstance","getTimeInstance","createIntervalPatternWithNormalConnector","oFormat","sPattern","getIntervalPattern","calendarType","replace","oInfo","Object","create","prototype","undefined","getConfiguration","getFormatSettings","getFormatLocale","getCalendarType","format","getCustomDateTimePattern","interval","intervalPatterns","getCustomIntervalPattern","push","getCombinedIntervalPattern","sCommonConnectorPattern","fallback","oFallbackFormats","sLocale","toString","sKey","assign","concat","_createFallbackOptionsWithoutDelimiter","_createFallbackFormat","aFallbackFormats","init","aMonthsAbbrev","getMonths","aMonthsWide","aMonthsNarrow","aMonthsAbbrevSt","getMonthsStandAlone","aMonthsWideSt","aMonthsNarrowSt","aDaysAbbrev","getDays","aDaysWide","aDaysNarrow","aDaysShort","aDaysAbbrevSt","getDaysStandAlone","aDaysWideSt","aDaysNarrowSt","aDaysShortSt","aQuartersAbbrev","getQuarters","aQuartersWide","aQuartersNarrow","aQuartersAbbrevSt","getQuartersStandAlone","aQuartersWideSt","aQuartersNarrowSt","aErasNarrow","getEras","aErasAbbrev","aErasWide","aDayPeriods","getDayPeriods","aFormatArray","parseCldrDatePattern","sAllowedCharacters","getAllowedCharacters","bInterval","map","oOptions","oFallbackFormat","bIsFallback","sBasePattern","rNonDateFields","oDayReplace","regex","oMonthReplace","oYearReplace","sReplace","oParseHelper","isNumber","iCharCode","findNumbers","sValue","iMaxLength","iLength","charCodeAt","findEntry","aList","iFoundIndex","iMatchedLength","j","length","index","value","parseTZ","bColonSeparated","iTZFactor","charAt","sPart","iTZDiffHour","parseInt","iTZDiff","tzDiff","checkValid","sType","bPartInvalid","oSymbols","name","oField","oDate","bUTC","parse","oPart","oConfig","sChar","bValid","iValueIndex","iPatternIndex","sDelimiter","includes","formatArray","type","valid","iEra","getUTCEra","getEra","digits","aErasVariants","i","aVariants","oFound","era","iYear","getUTCFullYear","getFullYear","sYear","String","Japanese","padStart","oCurrentDate","Date","iCurrentYear","iCurrentCentury","Math","floor","iYearDiff","year","oWeek","getUTCWeek","getWeek","iWeekYear","sWeekYear","weekYear","iMonth","getUTCMonth","getMonth","aMonthsVariants","max","strict","month","iWeek","week","sWeek","getCalendarWeek","rWeekNumber","RegExp","oResult","exec","iDate","getUTCDate","getDate","iDay","day","iQuarter","getUTCQuarter","getQuarter","aQuartersVariants","quarter","getUTCDay","getDay","aDaysVariants","dayOfWeek","_adaptDayOfWeek","dayNumberOfWeek","iDayPeriod","getUTCDayPeriod","getDayPeriod","bPM","sAM","sPM","rAMPM","aMatch","match","bVariant","toLowerCase","substring","pm","iHours","getUTCHours","getHours","hour","sHours","dateValue","iMinutes","getUTCMinutes","getMinutes","minute","iSeconds","getUTCSeconds","getSeconds","second","iMilliseconds","getUTCMilliseconds","getMilliseconds","sMilliseconds","sFractionalseconds","padEnd","millisecond","getTimezoneLong","getTimezoneShort","sTimeZone","iTZOffset","abs","getTimezoneOffset","bPositiveOffset","iHourOffset","iMinuteOffset","oTZ","error","oParsedTZ","_format","oJSDate","relative","sRes","formatRelative","relativeRange","aBuffer","sResult","sSymbol","symbol","join","getOriginInfo","originInfo","source","locale","vJSDate","UTC","Array","isArray","singleIntervalValue","every","isNaN","getTime","_formatInterval","getLanguage","aJSDates","oFromDate","oToDate","oDiffField","_getGreatestDiffField","repeat","mFieldToGroup","Era","FullYear","Quarter","Month","Week","DayPeriod","Hours","Minutes","Seconds","aDates","bDiffFound","mDiff","forEach","sField","sGetterPrefix","sMethodName","sFieldGroup","vFromValue","apply","vToValue","_parse","bStrict","iIndex","sSubValue","oDateValue","oParseConf","_parseInterval","aDateValues","iRepeat","some","slice","bind","fnCreateDate","setUTCEra","getCurrentEra","setUTCFullYear","setUTCMonth","setUTCDate","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","setUTCWeek","setEra","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds","setWeek","getJSDate","mergeWithoutOverwrite","object1","object2","oMergedObject","keys","hasOwnProperty","isValidDateRange","oStartDate","oEndDate","trim","parseRelative","oJSDate1","oJSDate2","oDateValue1","oDateValue2","vDate","bQuoted","oCurrentObject","sState","sNewState","mAppeared","bIntervalStartFound","sCurChar","sNextChar","sPrevChar","sPrevPrevChar","aPatterns","oEntry","rPattern","iValue","getRelativePatterns","computeRelativeDate","scale","sign","iDiff","sScale","iToday","oToday","aRange","oDateUTC","iDiffSeconds","_getScale","_mRanges","_getDifference","getRelativePattern","_mScales","aScales","sTestScale","cutDateFields","iStartIndex","aFields","oDateCopy","mRelativeDiffs","iFromDay","iToDay","iDayOfWeek","iFirstDayOfWeek","getFirstDayOfWeek","iDayNumberOfWeek","round","bNumbers","bAll"],"mappings":"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","sourcesContent":["import Core from '../Core.js';\nimport CalendarType from '../CalendarType.js';\nimport Locale from '../Locale.js';\nimport LocaleData from '../LocaleData.js';\nimport UniversalDate from '../date/UniversalDate.js';\nimport deepEqual from '../../../base/util/deepEqual.js';\nimport formatMessage from '../../../base/strings/formatMessage.js';\nimport Log from '../../../base/Log.js';\nimport extend from '../../../base/util/extend.js';\nvar DateFormat = function () {\n    throw new Error();\n};\nvar mCldrDatePattern = {};\nDateFormat.oDateInfo = {\n    oDefaultFormatOptions: {\n        style: 'medium',\n        relativeScale: 'day',\n        relativeStyle: 'wide'\n    },\n    aFallbackFormatOptions: [\n        { style: 'short' },\n        { style: 'medium' },\n        { pattern: 'yyyy-MM-dd' },\n        {\n            pattern: 'yyyyMMdd',\n            strictParsing: true\n        }\n    ],\n    bShortFallbackFormatOptions: true,\n    bPatternFallbackWithoutDelimiter: true,\n    getPattern: function (oLocaleData, sStyle, sCalendarType) {\n        return oLocaleData.getDatePattern(sStyle, sCalendarType);\n    },\n    oRequiredParts: {\n        'text': true,\n        'year': true,\n        'weekYear': true,\n        'month': true,\n        'day': true\n    },\n    aRelativeScales: [\n        'year',\n        'month',\n        'week',\n        'day'\n    ],\n    aRelativeParseScales: [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second'\n    ],\n    aIntervalCompareFields: [\n        'Era',\n        'FullYear',\n        'Quarter',\n        'Month',\n        'Week',\n        'Date'\n    ]\n};\nDateFormat.oDateTimeInfo = {\n    oDefaultFormatOptions: {\n        style: 'medium',\n        relativeScale: 'auto',\n        relativeStyle: 'wide'\n    },\n    aFallbackFormatOptions: [\n        { style: 'short' },\n        { style: 'medium' },\n        { pattern: 'yyyy-MM-dd\\'T\\'HH:mm:ss' },\n        { pattern: 'yyyyMMdd HHmmss' }\n    ],\n    getPattern: function (oLocaleData, sStyle, sCalendarType) {\n        var iSlashIndex = sStyle.indexOf('/');\n        if (iSlashIndex > 0) {\n            return oLocaleData.getCombinedDateTimePattern(sStyle.substr(0, iSlashIndex), sStyle.substr(iSlashIndex + 1), sCalendarType);\n        } else {\n            return oLocaleData.getCombinedDateTimePattern(sStyle, sStyle, sCalendarType);\n        }\n    },\n    oRequiredParts: {\n        'text': true,\n        'year': true,\n        'weekYear': true,\n        'month': true,\n        'day': true,\n        'hour0_23': true,\n        'hour1_24': true,\n        'hour0_11': true,\n        'hour1_12': true\n    },\n    aRelativeScales: [\n        'year',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second'\n    ],\n    aRelativeParseScales: [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second'\n    ],\n    aIntervalCompareFields: [\n        'Era',\n        'FullYear',\n        'Quarter',\n        'Month',\n        'Week',\n        'Date',\n        'DayPeriod',\n        'Hours',\n        'Minutes',\n        'Seconds'\n    ]\n};\nDateFormat.oTimeInfo = {\n    oDefaultFormatOptions: {\n        style: 'medium',\n        relativeScale: 'auto',\n        relativeStyle: 'wide'\n    },\n    aFallbackFormatOptions: [\n        { style: 'short' },\n        { style: 'medium' },\n        { pattern: 'HH:mm:ss' },\n        { pattern: 'HHmmss' }\n    ],\n    getPattern: function (oLocaleData, sStyle, sCalendarType) {\n        return oLocaleData.getTimePattern(sStyle, sCalendarType);\n    },\n    oRequiredParts: {\n        'text': true,\n        'hour0_23': true,\n        'hour1_24': true,\n        'hour0_11': true,\n        'hour1_12': true\n    },\n    aRelativeScales: [\n        'hour',\n        'minute',\n        'second'\n    ],\n    aRelativeParseScales: [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second'\n    ],\n    aIntervalCompareFields: [\n        'DayPeriod',\n        'Hours',\n        'Minutes',\n        'Seconds'\n    ]\n};\nDateFormat.getInstance = function (oFormatOptions, oLocale) {\n    return this.getDateInstance(oFormatOptions, oLocale);\n};\nDateFormat.getDateInstance = function (oFormatOptions, oLocale) {\n    return this.createInstance(oFormatOptions, oLocale, this.oDateInfo);\n};\nDateFormat.getDateTimeInstance = function (oFormatOptions, oLocale) {\n    return this.createInstance(oFormatOptions, oLocale, this.oDateTimeInfo);\n};\nDateFormat.getTimeInstance = function (oFormatOptions, oLocale) {\n    return this.createInstance(oFormatOptions, oLocale, this.oTimeInfo);\n};\nfunction createIntervalPatternWithNormalConnector(oFormat) {\n    var sPattern = oFormat.oLocaleData.getIntervalPattern('', oFormat.oFormatOptions.calendarType);\n    sPattern = sPattern.replace(/[^\\{\\}01 ]/, '-');\n    return sPattern.replace(/\\{(0|1)\\}/g, oFormat.oFormatOptions.pattern);\n}\nDateFormat.createInstance = function (oFormatOptions, oLocale, oInfo) {\n    var oFormat = Object.create(this.prototype);\n    if (oFormatOptions instanceof Locale) {\n        oLocale = oFormatOptions;\n        oFormatOptions = undefined;\n    }\n    if (!oLocale) {\n        oLocale = Core.getConfiguration().getFormatSettings().getFormatLocale();\n    }\n    oFormat.oLocale = oLocale;\n    oFormat.oLocaleData = LocaleData.getInstance(oLocale);\n    oFormat.oFormatOptions = extend({}, oInfo.oDefaultFormatOptions, oFormatOptions);\n    if (!oFormat.oFormatOptions.calendarType) {\n        oFormat.oFormatOptions.calendarType = Core.getConfiguration().getCalendarType();\n    }\n    if (!oFormat.oFormatOptions.pattern) {\n        if (oFormat.oFormatOptions.format) {\n            oFormat.oFormatOptions.pattern = oFormat.oLocaleData.getCustomDateTimePattern(oFormat.oFormatOptions.format, oFormat.oFormatOptions.calendarType);\n        } else {\n            oFormat.oFormatOptions.pattern = oInfo.getPattern(oFormat.oLocaleData, oFormat.oFormatOptions.style, oFormat.oFormatOptions.calendarType);\n        }\n    }\n    if (oFormat.oFormatOptions.interval) {\n        if (oFormat.oFormatOptions.format) {\n            oFormat.intervalPatterns = oFormat.oLocaleData.getCustomIntervalPattern(oFormat.oFormatOptions.format, null, oFormat.oFormatOptions.calendarType);\n            if (typeof oFormat.intervalPatterns === 'string') {\n                oFormat.intervalPatterns = [oFormat.intervalPatterns];\n            }\n            oFormat.intervalPatterns.push(oFormat.oLocaleData.getCustomDateTimePattern(oFormat.oFormatOptions.format, oFormat.oFormatOptions.calendarType));\n        } else {\n            oFormat.intervalPatterns = [\n                oFormat.oLocaleData.getCombinedIntervalPattern(oFormat.oFormatOptions.pattern, oFormat.oFormatOptions.calendarType),\n                oFormat.oFormatOptions.pattern\n            ];\n        }\n        var sCommonConnectorPattern = createIntervalPatternWithNormalConnector(oFormat);\n        oFormat.intervalPatterns.push(sCommonConnectorPattern);\n    }\n    if (!oFormat.oFormatOptions.fallback) {\n        if (!oInfo.oFallbackFormats) {\n            oInfo.oFallbackFormats = {};\n        }\n        var sLocale = oLocale.toString(), sCalendarType = oFormat.oFormatOptions.calendarType, sKey = sLocale + '-' + sCalendarType, sPattern, aFallbackFormatOptions;\n        if (oFormat.oFormatOptions.pattern && oInfo.bPatternFallbackWithoutDelimiter) {\n            sKey = sKey + '-' + oFormat.oFormatOptions.pattern;\n        }\n        if (oFormat.oFormatOptions.interval) {\n            sKey = sKey + '-' + 'interval';\n        }\n        var oFallbackFormats = oInfo.oFallbackFormats[sKey] ? Object.assign({}, oInfo.oFallbackFormats[sKey]) : undefined;\n        if (!oFallbackFormats) {\n            aFallbackFormatOptions = oInfo.aFallbackFormatOptions;\n            if (oInfo.bShortFallbackFormatOptions) {\n                sPattern = oInfo.getPattern(oFormat.oLocaleData, 'short');\n                aFallbackFormatOptions = aFallbackFormatOptions.concat(DateFormat._createFallbackOptionsWithoutDelimiter(sPattern));\n            }\n            if (oFormat.oFormatOptions.pattern && oInfo.bPatternFallbackWithoutDelimiter) {\n                aFallbackFormatOptions = DateFormat._createFallbackOptionsWithoutDelimiter(oFormat.oFormatOptions.pattern).concat(aFallbackFormatOptions);\n            }\n            oFallbackFormats = DateFormat._createFallbackFormat(aFallbackFormatOptions, sCalendarType, oLocale, oInfo, oFormat.oFormatOptions.interval);\n        }\n        oFormat.aFallbackFormats = oFallbackFormats;\n    }\n    oFormat.oRequiredParts = oInfo.oRequiredParts;\n    oFormat.aRelativeScales = oInfo.aRelativeScales;\n    oFormat.aRelativeParseScales = oInfo.aRelativeParseScales;\n    oFormat.aIntervalCompareFields = oInfo.aIntervalCompareFields;\n    oFormat.init();\n    return oFormat;\n};\nDateFormat.prototype.init = function () {\n    var sCalendarType = this.oFormatOptions.calendarType;\n    this.aMonthsAbbrev = this.oLocaleData.getMonths('abbreviated', sCalendarType);\n    this.aMonthsWide = this.oLocaleData.getMonths('wide', sCalendarType);\n    this.aMonthsNarrow = this.oLocaleData.getMonths('narrow', sCalendarType);\n    this.aMonthsAbbrevSt = this.oLocaleData.getMonthsStandAlone('abbreviated', sCalendarType);\n    this.aMonthsWideSt = this.oLocaleData.getMonthsStandAlone('wide', sCalendarType);\n    this.aMonthsNarrowSt = this.oLocaleData.getMonthsStandAlone('narrow', sCalendarType);\n    this.aDaysAbbrev = this.oLocaleData.getDays('abbreviated', sCalendarType);\n    this.aDaysWide = this.oLocaleData.getDays('wide', sCalendarType);\n    this.aDaysNarrow = this.oLocaleData.getDays('narrow', sCalendarType);\n    this.aDaysShort = this.oLocaleData.getDays('short', sCalendarType);\n    this.aDaysAbbrevSt = this.oLocaleData.getDaysStandAlone('abbreviated', sCalendarType);\n    this.aDaysWideSt = this.oLocaleData.getDaysStandAlone('wide', sCalendarType);\n    this.aDaysNarrowSt = this.oLocaleData.getDaysStandAlone('narrow', sCalendarType);\n    this.aDaysShortSt = this.oLocaleData.getDaysStandAlone('short', sCalendarType);\n    this.aQuartersAbbrev = this.oLocaleData.getQuarters('abbreviated', sCalendarType);\n    this.aQuartersWide = this.oLocaleData.getQuarters('wide', sCalendarType);\n    this.aQuartersNarrow = this.oLocaleData.getQuarters('narrow', sCalendarType);\n    this.aQuartersAbbrevSt = this.oLocaleData.getQuartersStandAlone('abbreviated', sCalendarType);\n    this.aQuartersWideSt = this.oLocaleData.getQuartersStandAlone('wide', sCalendarType);\n    this.aQuartersNarrowSt = this.oLocaleData.getQuartersStandAlone('narrow', sCalendarType);\n    this.aErasNarrow = this.oLocaleData.getEras('narrow', sCalendarType);\n    this.aErasAbbrev = this.oLocaleData.getEras('abbreviated', sCalendarType);\n    this.aErasWide = this.oLocaleData.getEras('wide', sCalendarType);\n    this.aDayPeriods = this.oLocaleData.getDayPeriods('abbreviated', sCalendarType);\n    this.aFormatArray = this.parseCldrDatePattern(this.oFormatOptions.pattern);\n    this.sAllowedCharacters = this.getAllowedCharacters(this.aFormatArray);\n};\nDateFormat._createFallbackFormat = function (aFallbackFormatOptions, sCalendarType, oLocale, oInfo, bInterval) {\n    return aFallbackFormatOptions.map(function (oOptions) {\n        var oFormatOptions = Object.assign({}, oOptions);\n        if (bInterval) {\n            oFormatOptions.interval = true;\n        }\n        oFormatOptions.calendarType = sCalendarType;\n        oFormatOptions.fallback = true;\n        var oFallbackFormat = DateFormat.createInstance(oFormatOptions, oLocale, oInfo);\n        oFallbackFormat.bIsFallback = true;\n        return oFallbackFormat;\n    });\n};\nDateFormat._createFallbackOptionsWithoutDelimiter = function (sBasePattern) {\n    var rNonDateFields = /[^dMyGU]/g, oDayReplace = {\n            regex: /d+/g,\n            replace: 'dd'\n        }, oMonthReplace = {\n            regex: /M+/g,\n            replace: 'MM'\n        }, oYearReplace = {\n            regex: /[yU]+/g,\n            replace: [\n                'yyyy',\n                'yy'\n            ]\n        };\n    sBasePattern = sBasePattern.replace(rNonDateFields, '');\n    sBasePattern = sBasePattern.replace(oDayReplace.regex, oDayReplace.replace);\n    sBasePattern = sBasePattern.replace(oMonthReplace.regex, oMonthReplace.replace);\n    return oYearReplace.replace.map(function (sReplace) {\n        return {\n            pattern: sBasePattern.replace(oYearReplace.regex, sReplace),\n            strictParsing: true\n        };\n    });\n};\nvar oParseHelper = {\n    isNumber: function (iCharCode) {\n        return iCharCode >= 48 && iCharCode <= 57;\n    },\n    findNumbers: function (sValue, iMaxLength) {\n        var iLength = 0;\n        while (iLength < iMaxLength && this.isNumber(sValue.charCodeAt(iLength))) {\n            iLength++;\n        }\n        if (typeof sValue !== 'string') {\n            sValue = sValue.toString();\n        }\n        return sValue.substr(0, iLength);\n    },\n    findEntry: function (sValue, aList) {\n        var iFoundIndex = -1, iMatchedLength = 0;\n        for (var j = 0; j < aList.length; j++) {\n            if (aList[j] && aList[j].length > iMatchedLength && sValue.indexOf(aList[j]) === 0) {\n                iFoundIndex = j;\n                iMatchedLength = aList[j].length;\n            }\n        }\n        return {\n            index: iFoundIndex,\n            value: iFoundIndex === -1 ? null : aList[iFoundIndex]\n        };\n    },\n    parseTZ: function (sValue, bColonSeparated) {\n        var iLength = 0;\n        var iTZFactor = sValue.charAt(0) == '+' ? -1 : 1;\n        var sPart;\n        iLength++;\n        sPart = this.findNumbers(sValue.substr(iLength), 2);\n        var iTZDiffHour = parseInt(sPart);\n        iLength += 2;\n        if (bColonSeparated) {\n            iLength++;\n        }\n        sPart = this.findNumbers(sValue.substr(iLength), 2);\n        var iTZDiff = 0;\n        if (sPart) {\n            iLength += 2;\n            iTZDiff = parseInt(sPart);\n        }\n        return {\n            length: iLength,\n            tzDiff: (iTZDiff + 60 * iTZDiffHour) * iTZFactor\n        };\n    },\n    checkValid: function (sType, bPartInvalid, oFormat) {\n        if (sType in oFormat.oRequiredParts && bPartInvalid) {\n            return false;\n        }\n    }\n};\nDateFormat.prototype.oSymbols = {\n    '': {\n        name: 'text',\n        format: function (oField, oDate, bUTC, oFormat) {\n            return oField.value;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sChar;\n            var bValid = true;\n            var iValueIndex = 0;\n            var iPatternIndex = 0;\n            var sDelimiter = '-~\\u2010\\u2011\\u2012\\u2013\\u2014\\uFE58\\uFE63\\uFF0D\\uFF5E';\n            for (; iPatternIndex < oPart.value.length; iPatternIndex++) {\n                sChar = oPart.value.charAt(iPatternIndex);\n                if (sChar === ' ') {\n                    while (sValue.charAt(iValueIndex) === ' ') {\n                        iValueIndex++;\n                    }\n                } else if (sDelimiter.includes(sChar)) {\n                    if (!sDelimiter.includes(sValue.charAt(iValueIndex))) {\n                        bValid = false;\n                    }\n                    iValueIndex++;\n                } else {\n                    if (sValue.charAt(iValueIndex) !== sChar) {\n                        bValid = false;\n                    }\n                    iValueIndex++;\n                }\n                if (!bValid) {\n                    break;\n                }\n            }\n            if (bValid) {\n                return { length: iValueIndex };\n            } else {\n                var bPartInvalid = false;\n                if (oConfig.index < oConfig.formatArray.length - 1) {\n                    bPartInvalid = oConfig.formatArray[oConfig.index + 1].type in oFormat.oRequiredParts;\n                }\n                return { valid: oParseHelper.checkValid(oPart.type, bPartInvalid, oFormat) };\n            }\n        }\n    },\n    'G': {\n        name: 'era',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iEra = bUTC ? oDate.getUTCEra() : oDate.getEra();\n            if (oField.digits <= 3) {\n                return oFormat.aErasAbbrev[iEra];\n            } else if (oField.digits === 4) {\n                return oFormat.aErasWide[iEra];\n            } else {\n                return oFormat.aErasNarrow[iEra];\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aErasVariants = [\n                oFormat.aErasWide,\n                oFormat.aErasAbbrev,\n                oFormat.aErasNarrow\n            ];\n            for (var i = 0; i < aErasVariants.length; i++) {\n                var aVariants = aErasVariants[i];\n                var oFound = oParseHelper.findEntry(sValue, aVariants);\n                if (oFound.index !== -1) {\n                    return {\n                        era: oFound.index,\n                        length: oFound.value.length\n                    };\n                }\n            }\n            return {\n                era: oFormat.aErasWide.length - 1,\n                valid: oParseHelper.checkValid(oPart.type, true, oFormat)\n            };\n        }\n    },\n    'y': {\n        name: 'year',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iYear = bUTC ? oDate.getUTCFullYear() : oDate.getFullYear();\n            var sYear = String(iYear);\n            var sCalendarType = oFormat.oFormatOptions.calendarType;\n            if (oField.digits == 2 && sYear.length > 2) {\n                sYear = sYear.substr(sYear.length - 2);\n            }\n            if (sCalendarType != CalendarType.Japanese && oField.digits == 1 && iYear < 100) {\n                sYear = sYear.padStart(4, '0');\n            }\n            return sYear.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sCalendarType = oFormat.oFormatOptions.calendarType;\n            var sPart;\n            if (oPart.digits == 1) {\n                sPart = oParseHelper.findNumbers(sValue, 4);\n            } else if (oPart.digits == 2) {\n                sPart = oParseHelper.findNumbers(sValue, 2);\n            } else {\n                sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n            }\n            var iYear = parseInt(sPart);\n            if (sCalendarType != CalendarType.Japanese && sPart.length <= 2) {\n                var oCurrentDate = UniversalDate.getInstance(new Date(), sCalendarType), iCurrentYear = oCurrentDate.getFullYear(), iCurrentCentury = Math.floor(iCurrentYear / 100), iYearDiff = iCurrentCentury * 100 + iYear - iCurrentYear;\n                if (iYearDiff < -70) {\n                    iYear += (iCurrentCentury + 1) * 100;\n                } else if (iYearDiff < 30) {\n                    iYear += iCurrentCentury * 100;\n                } else {\n                    iYear += (iCurrentCentury - 1) * 100;\n                }\n            }\n            return {\n                length: sPart.length,\n                valid: oParseHelper.checkValid(oPart.type, sPart === '', oFormat),\n                year: iYear\n            };\n        }\n    },\n    'Y': {\n        name: 'weekYear',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var oWeek = bUTC ? oDate.getUTCWeek() : oDate.getWeek();\n            var iWeekYear = oWeek.year;\n            var sWeekYear = String(iWeekYear);\n            var sCalendarType = oFormat.oFormatOptions.calendarType;\n            if (oField.digits == 2 && sWeekYear.length > 2) {\n                sWeekYear = sWeekYear.substr(sWeekYear.length - 2);\n            }\n            if (sCalendarType != CalendarType.Japanese && oField.digits == 1 && iWeekYear < 100) {\n                sWeekYear = sWeekYear.padStart(4, '0');\n            }\n            return sWeekYear.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sCalendarType = oFormat.oFormatOptions.calendarType;\n            var sPart;\n            if (oPart.digits == 1) {\n                sPart = oParseHelper.findNumbers(sValue, 4);\n            } else if (oPart.digits == 2) {\n                sPart = oParseHelper.findNumbers(sValue, 2);\n            } else {\n                sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n            }\n            var iYear = parseInt(sPart);\n            var iWeekYear;\n            if (sCalendarType != CalendarType.Japanese && sPart.length <= 2) {\n                var oCurrentDate = UniversalDate.getInstance(new Date(), sCalendarType), iCurrentYear = oCurrentDate.getFullYear(), iCurrentCentury = Math.floor(iCurrentYear / 100), iYearDiff = iCurrentCentury * 100 + iWeekYear - iCurrentYear;\n                if (iYearDiff < -70) {\n                    iWeekYear += (iCurrentCentury + 1) * 100;\n                } else if (iYearDiff < 30) {\n                    iWeekYear += iCurrentCentury * 100;\n                } else {\n                    iWeekYear += (iCurrentCentury - 1) * 100;\n                }\n            }\n            return {\n                length: sPart.length,\n                valid: oParseHelper.checkValid(oPart.type, sPart === '', oFormat),\n                year: iYear,\n                weekYear: iWeekYear\n            };\n        }\n    },\n    'M': {\n        name: 'month',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iMonth = bUTC ? oDate.getUTCMonth() : oDate.getMonth();\n            if (oField.digits == 3) {\n                return oFormat.aMonthsAbbrev[iMonth];\n            } else if (oField.digits == 4) {\n                return oFormat.aMonthsWide[iMonth];\n            } else if (oField.digits > 4) {\n                return oFormat.aMonthsNarrow[iMonth];\n            } else {\n                return String(iMonth + 1).padStart(oField.digits, '0');\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aMonthsVariants = [\n                oFormat.aMonthsWide,\n                oFormat.aMonthsWideSt,\n                oFormat.aMonthsAbbrev,\n                oFormat.aMonthsAbbrevSt,\n                oFormat.aMonthsNarrow,\n                oFormat.aMonthsNarrowSt\n            ];\n            var bValid;\n            var iMonth;\n            var sPart;\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n                bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n                iMonth = parseInt(sPart) - 1;\n                if (oConfig.strict && (iMonth > 11 || iMonth < 0)) {\n                    bValid = false;\n                }\n            } else {\n                for (var i = 0; i < aMonthsVariants.length; i++) {\n                    var aVariants = aMonthsVariants[i];\n                    var oFound = oParseHelper.findEntry(sValue, aVariants);\n                    if (oFound.index !== -1) {\n                        return {\n                            month: oFound.index,\n                            length: oFound.value.length\n                        };\n                    }\n                }\n                bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n            }\n            return {\n                month: iMonth,\n                length: sPart ? sPart.length : 0,\n                valid: bValid\n            };\n        }\n    },\n    'L': {\n        name: 'monthStandalone',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iMonth = bUTC ? oDate.getUTCMonth() : oDate.getMonth();\n            if (oField.digits == 3) {\n                return oFormat.aMonthsAbbrevSt[iMonth];\n            } else if (oField.digits == 4) {\n                return oFormat.aMonthsWideSt[iMonth];\n            } else if (oField.digits > 4) {\n                return oFormat.aMonthsNarrowSt[iMonth];\n            } else {\n                return String(iMonth + 1).padStart(oField.digits, '0');\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aMonthsVariants = [\n                oFormat.aMonthsWide,\n                oFormat.aMonthsWideSt,\n                oFormat.aMonthsAbbrev,\n                oFormat.aMonthsAbbrevSt,\n                oFormat.aMonthsNarrow,\n                oFormat.aMonthsNarrowSt\n            ];\n            var bValid;\n            var iMonth;\n            var sPart;\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n                bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n                iMonth = parseInt(sPart) - 1;\n                if (oConfig.strict && (iMonth > 11 || iMonth < 0)) {\n                    bValid = false;\n                }\n            } else {\n                for (var i = 0; i < aMonthsVariants.length; i++) {\n                    var aVariants = aMonthsVariants[i];\n                    var oFound = oParseHelper.findEntry(sValue, aVariants);\n                    if (oFound.index !== -1) {\n                        return {\n                            month: oFound.index,\n                            length: oFound.value.length\n                        };\n                    }\n                }\n                bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n            }\n            return {\n                month: iMonth,\n                length: sPart ? sPart.length : 0,\n                valid: bValid\n            };\n        }\n    },\n    'w': {\n        name: 'weekInYear',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var oWeek = bUTC ? oDate.getUTCWeek() : oDate.getWeek();\n            var iWeek = oWeek.week;\n            var sWeek = String(iWeek + 1);\n            if (oField.digits < 3) {\n                sWeek = sWeek.padStart(oField.digits, '0');\n            } else {\n                sWeek = oFormat.oLocaleData.getCalendarWeek(oField.digits === 3 ? 'narrow' : 'wide', sWeek.padStart(2, '0'));\n            }\n            return sWeek;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart;\n            var iWeek;\n            var iLength = 0;\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, 2);\n                iLength = sPart.length;\n                iWeek = parseInt(sPart) - 1;\n                bValid = oParseHelper.checkValid(oPart.type, !sPart, oFormat);\n            } else {\n                sPart = oFormat.oLocaleData.getCalendarWeek(oPart.digits === 3 ? 'narrow' : 'wide');\n                sPart = sPart.replace('{0}', '[0-9]+');\n                var rWeekNumber = new RegExp(sPart), oResult = rWeekNumber.exec(sValue);\n                if (oResult) {\n                    iLength = oResult[0].length;\n                    iWeek = parseInt(oResult[0]) - 1;\n                } else {\n                    bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n                }\n            }\n            return {\n                length: iLength,\n                valid: bValid,\n                week: iWeek\n            };\n        }\n    },\n    'W': {\n        name: 'weekInMonth',\n        format: function (oField, oDate, bUTC, oFormat) {\n            return '';\n        },\n        parse: function () {\n            return {};\n        }\n    },\n    'D': {\n        name: 'dayInYear',\n        format: function (oField, oDate, bUTC, oFormat) {\n        },\n        parse: function () {\n            return {};\n        }\n    },\n    'd': {\n        name: 'day',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDate = bUTC ? oDate.getUTCDate() : oDate.getDate();\n            return String(iDate).padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            var iDay = parseInt(sPart);\n            if (oConfig.strict && (iDay > 31 || iDay < 1)) {\n                bValid = false;\n            }\n            return {\n                day: iDay,\n                length: sPart.length,\n                valid: bValid\n            };\n        }\n    },\n    'Q': {\n        name: 'quarter',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iQuarter = bUTC ? oDate.getUTCQuarter() : oDate.getQuarter();\n            if (oField.digits == 3) {\n                return oFormat.aQuartersAbbrev[iQuarter];\n            } else if (oField.digits == 4) {\n                return oFormat.aQuartersWide[iQuarter];\n            } else if (oField.digits > 4) {\n                return oFormat.aQuartersNarrow[iQuarter];\n            } else {\n                return String(iQuarter + 1).padStart(oField.digits, '0');\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var iQuarter;\n            var sPart;\n            var aQuartersVariants = [\n                oFormat.aQuartersWide,\n                oFormat.aQuartersWideSt,\n                oFormat.aQuartersAbbrev,\n                oFormat.aQuartersAbbrevSt,\n                oFormat.aQuartersNarrow,\n                oFormat.aQuartersNarrowSt\n            ];\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n                bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n                iQuarter = parseInt(sPart) - 1;\n                if (oConfig.strict && iQuarter > 3) {\n                    bValid = false;\n                }\n            } else {\n                for (var i = 0; i < aQuartersVariants.length; i++) {\n                    var aVariants = aQuartersVariants[i];\n                    var oFound = oParseHelper.findEntry(sValue, aVariants);\n                    if (oFound.index !== -1) {\n                        return {\n                            quarter: oFound.index,\n                            length: oFound.value.length\n                        };\n                    }\n                }\n                bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n            }\n            return {\n                length: sPart ? sPart.length : 0,\n                quarter: iQuarter,\n                valid: bValid\n            };\n        }\n    },\n    'q': {\n        name: 'quarterStandalone',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iQuarter = bUTC ? oDate.getUTCQuarter() : oDate.getQuarter();\n            if (oField.digits == 3) {\n                return oFormat.aQuartersAbbrevSt[iQuarter];\n            } else if (oField.digits == 4) {\n                return oFormat.aQuartersWideSt[iQuarter];\n            } else if (oField.digits > 4) {\n                return oFormat.aQuartersNarrowSt[iQuarter];\n            } else {\n                return String(iQuarter + 1).padStart(oField.digits, '0');\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var iQuarter;\n            var sPart;\n            var aQuartersVariants = [\n                oFormat.aQuartersWide,\n                oFormat.aQuartersWideSt,\n                oFormat.aQuartersAbbrev,\n                oFormat.aQuartersAbbrevSt,\n                oFormat.aQuartersNarrow,\n                oFormat.aQuartersNarrowSt\n            ];\n            if (oPart.digits < 3) {\n                sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n                bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n                iQuarter = parseInt(sPart) - 1;\n                if (oConfig.strict && iQuarter > 3) {\n                    bValid = false;\n                }\n            } else {\n                for (var i = 0; i < aQuartersVariants.length; i++) {\n                    var aVariants = aQuartersVariants[i];\n                    var oFound = oParseHelper.findEntry(sValue, aVariants);\n                    if (oFound.index !== -1) {\n                        return {\n                            quarter: oFound.index,\n                            length: oFound.value.length\n                        };\n                    }\n                }\n                bValid = oParseHelper.checkValid(oPart.type, true, oFormat);\n            }\n            return {\n                length: sPart ? sPart.length : 0,\n                quarter: iQuarter,\n                valid: bValid\n            };\n        }\n    },\n    'F': {\n        name: 'dayOfWeekInMonth',\n        format: function (oField, oDate, bUTC, oFormat) {\n            return '';\n        },\n        parse: function () {\n            return {};\n        }\n    },\n    'E': {\n        name: 'dayNameInWeek',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDay = bUTC ? oDate.getUTCDay() : oDate.getDay();\n            if (oField.digits < 4) {\n                return oFormat.aDaysAbbrev[iDay];\n            } else if (oField.digits == 4) {\n                return oFormat.aDaysWide[iDay];\n            } else if (oField.digits == 5) {\n                return oFormat.aDaysNarrow[iDay];\n            } else {\n                return oFormat.aDaysShort[iDay];\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aDaysVariants = [\n                oFormat.aDaysWide,\n                oFormat.aDaysWideSt,\n                oFormat.aDaysAbbrev,\n                oFormat.aDaysAbbrevSt,\n                oFormat.aDaysShort,\n                oFormat.aDaysShortSt,\n                oFormat.aDaysNarrow,\n                oFormat.aDaysNarrowSt\n            ];\n            for (var i = 0; i < aDaysVariants.length; i++) {\n                var aVariants = aDaysVariants[i];\n                var oFound = oParseHelper.findEntry(sValue, aVariants);\n                if (oFound.index !== -1) {\n                    return {\n                        dayOfWeek: oFound.index,\n                        length: oFound.value.length\n                    };\n                }\n            }\n        }\n    },\n    'c': {\n        name: 'dayNameInWeekStandalone',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDay = bUTC ? oDate.getUTCDay() : oDate.getDay();\n            if (oField.digits < 4) {\n                return oFormat.aDaysAbbrevSt[iDay];\n            } else if (oField.digits == 4) {\n                return oFormat.aDaysWideSt[iDay];\n            } else if (oField.digits == 5) {\n                return oFormat.aDaysNarrowSt[iDay];\n            } else {\n                return oFormat.aDaysShortSt[iDay];\n            }\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var aDaysVariants = [\n                oFormat.aDaysWide,\n                oFormat.aDaysWideSt,\n                oFormat.aDaysAbbrev,\n                oFormat.aDaysAbbrevSt,\n                oFormat.aDaysShort,\n                oFormat.aDaysShortSt,\n                oFormat.aDaysNarrow,\n                oFormat.aDaysNarrowSt\n            ];\n            for (var i = 0; i < aDaysVariants.length; i++) {\n                var aVariants = aDaysVariants[i];\n                var oFound = oParseHelper.findEntry(sValue, aVariants);\n                if (oFound.index !== -1) {\n                    return {\n                        day: oFound.index,\n                        length: oFound.value.length\n                    };\n                }\n            }\n        }\n    },\n    'u': {\n        name: 'dayNumberOfWeek',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDay = bUTC ? oDate.getUTCDay() : oDate.getDay();\n            return oFormat._adaptDayOfWeek(iDay);\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n            return {\n                dayNumberOfWeek: parseInt(sPart),\n                length: sPart.length\n            };\n        }\n    },\n    'a': {\n        name: 'amPmMarker',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iDayPeriod = bUTC ? oDate.getUTCDayPeriod() : oDate.getDayPeriod();\n            return oFormat.aDayPeriods[iDayPeriod];\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bPM;\n            var iLength;\n            var sAM = oFormat.aDayPeriods[0], sPM = oFormat.aDayPeriods[1];\n            var rAMPM = /[aApP](?:\\.)?[mM](?:\\.)?/;\n            var aMatch = sValue.match(rAMPM);\n            var bVariant = aMatch && aMatch.index === 0;\n            if (bVariant) {\n                sValue = aMatch[0].replace(/\\./g, '').toLowerCase() + sValue.substring(aMatch[0].length);\n                sAM = sAM.replace(/\\./g, '').toLowerCase();\n                sPM = sPM.replace(/\\./g, '').toLowerCase();\n            }\n            if (sValue.indexOf(sAM) === 0) {\n                bPM = false;\n                iLength = bVariant ? aMatch[0].length : sAM.length;\n            } else if (sValue.indexOf(sPM) === 0) {\n                bPM = true;\n                iLength = bVariant ? aMatch[0].length : sPM.length;\n            }\n            return {\n                pm: bPM,\n                length: iLength\n            };\n        }\n    },\n    'H': {\n        name: 'hour0_23',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iHours = bUTC ? oDate.getUTCHours() : oDate.getHours();\n            return String(iHours).padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iHours = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (oConfig.strict && iHours > 23) {\n                bValid = false;\n            }\n            return {\n                hour: iHours,\n                length: sPart.length,\n                valid: bValid\n            };\n        }\n    },\n    'k': {\n        name: 'hour1_24',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iHours = bUTC ? oDate.getUTCHours() : oDate.getHours();\n            var sHours = iHours === 0 ? '24' : String(iHours);\n            return sHours.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iHours = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (iHours == 24) {\n                iHours = 0;\n            }\n            if (oConfig.strict && iHours > 23) {\n                bValid = false;\n            }\n            return {\n                hour: iHours,\n                length: sPart.length,\n                valid: bValid\n            };\n        }\n    },\n    'K': {\n        name: 'hour0_11',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iHours = bUTC ? oDate.getUTCHours() : oDate.getHours();\n            var sHours = String(iHours > 11 ? iHours - 12 : iHours);\n            return sHours.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iHours = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (oConfig.strict && iHours > 11) {\n                bValid = false;\n            }\n            return {\n                hour: iHours,\n                length: sPart.length,\n                valid: bValid\n            };\n        }\n    },\n    'h': {\n        name: 'hour1_12',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iHours = bUTC ? oDate.getUTCHours() : oDate.getHours();\n            var sHours;\n            if (iHours > 12) {\n                sHours = String(iHours - 12);\n            } else if (iHours == 0) {\n                sHours = '12';\n            } else {\n                sHours = String(iHours);\n            }\n            return sHours.padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bPM = oConfig.dateValue.pm;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iHours = parseInt(sPart);\n            var bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (iHours == 12) {\n                iHours = 0;\n                bPM = bPM === undefined ? true : bPM;\n            }\n            if (oConfig.strict && iHours > 11) {\n                bValid = false;\n            }\n            return {\n                hour: iHours,\n                length: sPart.length,\n                pm: bPM,\n                valid: bValid\n            };\n        }\n    },\n    'm': {\n        name: 'minute',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iMinutes = bUTC ? oDate.getUTCMinutes() : oDate.getMinutes();\n            return String(iMinutes).padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iMinutes = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (oConfig.strict && iMinutes > 59) {\n                bValid = false;\n            }\n            return {\n                length: sPart.length,\n                minute: iMinutes,\n                valid: bValid\n            };\n        }\n    },\n    's': {\n        name: 'second',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iSeconds = bUTC ? oDate.getUTCSeconds() : oDate.getSeconds();\n            return String(iSeconds).padStart(oField.digits, '0');\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var bValid;\n            var sPart = oParseHelper.findNumbers(sValue, Math.max(oPart.digits, 2));\n            var iSeconds = parseInt(sPart);\n            bValid = oParseHelper.checkValid(oPart.type, sPart === '', oFormat);\n            if (oConfig.strict && iSeconds > 59) {\n                bValid = false;\n            }\n            return {\n                length: sPart.length,\n                second: iSeconds,\n                valid: bValid\n            };\n        }\n    },\n    'S': {\n        name: 'fractionalsecond',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iMilliseconds = bUTC ? oDate.getUTCMilliseconds() : oDate.getMilliseconds();\n            var sMilliseconds = String(iMilliseconds);\n            var sFractionalseconds = sMilliseconds.padStart(3, '0');\n            sFractionalseconds = sFractionalseconds.substr(0, oField.digits);\n            sFractionalseconds = sFractionalseconds.padEnd(oField.digits, '0');\n            return sFractionalseconds;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var sPart = oParseHelper.findNumbers(sValue, oPart.digits);\n            var iLength = sPart.length;\n            sPart = sPart.substr(0, 3);\n            sPart = sPart.padEnd(3, '0');\n            var iMilliseconds = parseInt(sPart);\n            return {\n                length: iLength,\n                millisecond: iMilliseconds\n            };\n        }\n    },\n    'z': {\n        name: 'timezoneGeneral',\n        format: function (oField, oDate, bUTC, oFormat) {\n            if (oField.digits > 3 && oDate.getTimezoneLong && oDate.getTimezoneLong()) {\n                return oDate.getTimezoneLong();\n            } else if (oDate.getTimezoneShort && oDate.getTimezoneShort()) {\n                return oDate.getTimezoneShort();\n            }\n            var sTimeZone = 'GMT';\n            var iTZOffset = Math.abs(oDate.getTimezoneOffset());\n            var bPositiveOffset = oDate.getTimezoneOffset() > 0;\n            var iHourOffset = Math.floor(iTZOffset / 60);\n            var iMinuteOffset = iTZOffset % 60;\n            if (!bUTC && iTZOffset != 0) {\n                sTimeZone += bPositiveOffset ? '-' : '+';\n                sTimeZone += String(iHourOffset).padStart(2, '0');\n                sTimeZone += ':';\n                sTimeZone += String(iMinuteOffset).padStart(2, '0');\n            } else {\n                sTimeZone += 'Z';\n            }\n            return sTimeZone;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            var iLength = 0;\n            var iTZDiff;\n            var oTZ = sValue.substring(0, 3);\n            if (oTZ === 'GMT' || oTZ === 'UTC') {\n                iLength = 3;\n            } else if (sValue.substring(0, 2) === 'UT') {\n                iLength = 2;\n            } else if (sValue.charAt(0) === 'Z') {\n                iLength = 1;\n                iTZDiff = 0;\n            } else {\n                return { error: 'cannot be parsed correcly by sap.ui.core.format.DateFormat: The given timezone is not supported!' };\n            }\n            if (sValue.charAt(0) !== 'Z') {\n                var oParsedTZ = oParseHelper.parseTZ(sValue.substr(iLength), true);\n                iLength += oParsedTZ.length;\n                iTZDiff = oParsedTZ.tzDiff;\n            }\n            return {\n                length: iLength,\n                tzDiff: iTZDiff\n            };\n        }\n    },\n    'Z': {\n        name: 'timezoneRFC822',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iTZOffset = Math.abs(oDate.getTimezoneOffset());\n            var bPositiveOffset = oDate.getTimezoneOffset() > 0;\n            var iHourOffset = Math.floor(iTZOffset / 60);\n            var iMinuteOffset = iTZOffset % 60;\n            var sTimeZone = '';\n            if (!bUTC) {\n                sTimeZone += bPositiveOffset ? '-' : '+';\n                sTimeZone += String(iHourOffset).padStart(2, '0');\n                sTimeZone += String(iMinuteOffset).padStart(2, '0');\n            }\n            return sTimeZone;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            return oParseHelper.parseTZ(sValue, false);\n        }\n    },\n    'X': {\n        name: 'timezoneISO8601',\n        format: function (oField, oDate, bUTC, oFormat) {\n            var iTZOffset = Math.abs(oDate.getTimezoneOffset());\n            var bPositiveOffset = oDate.getTimezoneOffset() > 0;\n            var iHourOffset = Math.floor(iTZOffset / 60);\n            var iMinuteOffset = iTZOffset % 60;\n            var sTimeZone = '';\n            if (!bUTC && iTZOffset != 0) {\n                sTimeZone += bPositiveOffset ? '-' : '+';\n                sTimeZone += String(iHourOffset).padStart(2, '0');\n                if (oField.digits > 1 || iMinuteOffset > 0) {\n                    if (oField.digits === 3 || oField.digits === 5) {\n                        sTimeZone += ':';\n                    }\n                    sTimeZone += String(iMinuteOffset).padStart(2, '0');\n                }\n            } else {\n                sTimeZone += 'Z';\n            }\n            return sTimeZone;\n        },\n        parse: function (sValue, oPart, oFormat, oConfig) {\n            if (sValue.charAt(0) === 'Z') {\n                return {\n                    length: 1,\n                    tzDiff: 0\n                };\n            } else {\n                return oParseHelper.parseTZ(sValue, oPart.digits === 3 || oPart.digits === 5);\n            }\n        }\n    }\n};\nDateFormat.prototype._format = function (oJSDate, bUTC) {\n    if (this.oFormatOptions.relative) {\n        var sRes = this.formatRelative(oJSDate, bUTC, this.oFormatOptions.relativeRange);\n        if (sRes) {\n            return sRes;\n        }\n    }\n    var sCalendarType = this.oFormatOptions.calendarType;\n    var oDate = UniversalDate.getInstance(oJSDate, sCalendarType);\n    var aBuffer = [], oPart, sResult, sSymbol;\n    for (var i = 0; i < this.aFormatArray.length; i++) {\n        oPart = this.aFormatArray[i];\n        sSymbol = oPart.symbol || '';\n        aBuffer.push(this.oSymbols[sSymbol].format(oPart, oDate, bUTC, this));\n    }\n    sResult = aBuffer.join('');\n    if (Core.getConfiguration().getOriginInfo()) {\n        sResult = new String(sResult);\n        sResult.originInfo = {\n            source: 'Common Locale Data Repository',\n            locale: this.oLocale.toString(),\n            style: this.oFormatOptions.style,\n            pattern: this.oFormatOptions.pattern\n        };\n    }\n    return sResult;\n};\nDateFormat.prototype.format = function (vJSDate, bUTC) {\n    var sCalendarType = this.oFormatOptions.calendarType, sResult;\n    if (bUTC === undefined) {\n        bUTC = this.oFormatOptions.UTC;\n    }\n    if (Array.isArray(vJSDate)) {\n        if (!this.oFormatOptions.interval) {\n            Log.error('Non-interval DateFormat can\\'t format more than one date instance.');\n            return '';\n        }\n        if (vJSDate.length !== 2) {\n            Log.error('Interval DateFormat can only format with 2 date instances but ' + vJSDate.length + ' is given.');\n            return '';\n        }\n        if (this.oFormatOptions.singleIntervalValue) {\n            if (vJSDate[0] === null) {\n                Log.error('First date instance which is passed to the interval DateFormat shouldn\\'t be null.');\n                return '';\n            }\n            if (vJSDate[1] === null) {\n                sResult = this._format(vJSDate[0], bUTC);\n            }\n        }\n        if (sResult === undefined) {\n            var bValid = vJSDate.every(function (oJSDate) {\n                return oJSDate && !isNaN(oJSDate.getTime());\n            });\n            if (!bValid) {\n                Log.error('At least one date instance which is passed to the interval DateFormat isn\\'t valid.');\n                return '';\n            }\n            sResult = this._formatInterval(vJSDate, bUTC);\n        }\n    } else {\n        if (!vJSDate || isNaN(vJSDate.getTime())) {\n            Log.error('The given date instance isn\\'t valid.');\n            return '';\n        }\n        if (this.oFormatOptions.interval) {\n            Log.error('Interval DateFormat expects an array with two dates for the first argument but only one date is given.');\n            return '';\n        }\n        sResult = this._format(vJSDate, bUTC);\n    }\n    if (sCalendarType == CalendarType.Japanese && this.oLocale.getLanguage() === 'ja') {\n        sResult = sResult.replace(/(^|[^\\d])1年/g, '$1元年');\n    }\n    return sResult;\n};\nDateFormat.prototype._formatInterval = function (aJSDates, bUTC) {\n    var sCalendarType = this.oFormatOptions.calendarType;\n    var oFromDate = UniversalDate.getInstance(aJSDates[0], sCalendarType);\n    var oToDate = UniversalDate.getInstance(aJSDates[1], sCalendarType);\n    var oDate;\n    var oPart;\n    var sSymbol;\n    var aBuffer = [];\n    var sPattern;\n    var aFormatArray = [];\n    var oDiffField = this._getGreatestDiffField([\n        oFromDate,\n        oToDate\n    ], bUTC);\n    if (!oDiffField) {\n        return this._format(aJSDates[0], bUTC);\n    }\n    if (this.oFormatOptions.format) {\n        sPattern = this.oLocaleData.getCustomIntervalPattern(this.oFormatOptions.format, oDiffField, sCalendarType);\n    } else {\n        sPattern = this.oLocaleData.getCombinedIntervalPattern(this.oFormatOptions.pattern, sCalendarType);\n    }\n    aFormatArray = this.parseCldrDatePattern(sPattern);\n    oDate = oFromDate;\n    for (var i = 0; i < aFormatArray.length; i++) {\n        oPart = aFormatArray[i];\n        sSymbol = oPart.symbol || '';\n        if (oPart.repeat) {\n            oDate = oToDate;\n        }\n        aBuffer.push(this.oSymbols[sSymbol].format(oPart, oDate, bUTC, this));\n    }\n    return aBuffer.join('');\n};\nvar mFieldToGroup = {\n    Era: 'Era',\n    FullYear: 'Year',\n    Quarter: 'Quarter',\n    Month: 'Month',\n    Week: 'Week',\n    Date: 'Day',\n    DayPeriod: 'DayPeriod',\n    Hours: 'Hour',\n    Minutes: 'Minute',\n    Seconds: 'Second'\n};\nDateFormat.prototype._getGreatestDiffField = function (aDates, bUTC) {\n    var bDiffFound = false, mDiff = {};\n    this.aIntervalCompareFields.forEach(function (sField) {\n        var sGetterPrefix = 'get' + (bUTC ? 'UTC' : ''), sMethodName = sGetterPrefix + sField, sFieldGroup = mFieldToGroup[sField], vFromValue = aDates[0][sMethodName].apply(aDates[0]), vToValue = aDates[1][sMethodName].apply(aDates[1]);\n        if (!deepEqual(vFromValue, vToValue)) {\n            bDiffFound = true;\n            mDiff[sFieldGroup] = true;\n        }\n    });\n    if (bDiffFound) {\n        return mDiff;\n    }\n    return null;\n};\nDateFormat.prototype._parse = function (sValue, aFormatArray, bUTC, bStrict) {\n    var iIndex = 0, oPart, sSubValue, oResult;\n    var oDateValue = { valid: true };\n    var oParseConf = {\n        formatArray: aFormatArray,\n        dateValue: oDateValue,\n        strict: bStrict\n    };\n    for (var i = 0; i < aFormatArray.length; i++) {\n        sSubValue = sValue.substr(iIndex);\n        oPart = aFormatArray[i];\n        oParseConf.index = i;\n        oResult = this.oSymbols[oPart.symbol || ''].parse(sSubValue, oPart, this, oParseConf) || {};\n        oDateValue = extend(oDateValue, oResult);\n        if (oResult.valid === false) {\n            break;\n        }\n        iIndex += oResult.length || 0;\n    }\n    oDateValue.index = iIndex;\n    if (oDateValue.pm) {\n        oDateValue.hour += 12;\n    }\n    if (oDateValue.dayNumberOfWeek === undefined && oDateValue.dayOfWeek !== undefined) {\n        oDateValue.dayNumberOfWeek = this._adaptDayOfWeek(oDateValue.dayOfWeek);\n    }\n    if (oDateValue.quarter !== undefined && oDateValue.month === undefined && oDateValue.day === undefined) {\n        oDateValue.month = 3 * oDateValue.quarter;\n        oDateValue.day = 1;\n    }\n    return oDateValue;\n};\nDateFormat.prototype._parseInterval = function (sValue, sCalendarType, bUTC, bStrict) {\n    var aDateValues, iRepeat, oDateValue;\n    this.intervalPatterns.some(function (sPattern) {\n        var aFormatArray = this.parseCldrDatePattern(sPattern);\n        iRepeat = undefined;\n        for (var i = 0; i < aFormatArray.length; i++) {\n            if (aFormatArray[i].repeat) {\n                iRepeat = i;\n                break;\n            }\n        }\n        if (iRepeat === undefined) {\n            oDateValue = this._parse(sValue, aFormatArray, bUTC, bStrict);\n            if (oDateValue.index === 0 || oDateValue.index < sValue.length) {\n                oDateValue.valid = false;\n            }\n            if (oDateValue.valid === false) {\n                return;\n            }\n            aDateValues = [\n                oDateValue,\n                oDateValue\n            ];\n            return true;\n        } else {\n            aDateValues = [];\n            oDateValue = this._parse(sValue, aFormatArray.slice(0, iRepeat), bUTC, bStrict);\n            if (oDateValue.valid === false) {\n                return;\n            }\n            aDateValues.push(oDateValue);\n            var iLength = oDateValue.index;\n            oDateValue = this._parse(sValue.substring(iLength), aFormatArray.slice(iRepeat), bUTC, bStrict);\n            if (oDateValue.index === 0 || oDateValue.index + iLength < sValue.length) {\n                oDateValue.valid = false;\n            }\n            if (oDateValue.valid === false) {\n                return;\n            }\n            aDateValues.push(oDateValue);\n            return true;\n        }\n    }.bind(this));\n    return aDateValues;\n};\nvar fnCreateDate = function (oDateValue, sCalendarType, bUTC, bStrict) {\n    var oDate, iYear = typeof oDateValue.year === 'number' ? oDateValue.year : 1970;\n    if (oDateValue.valid) {\n        if (bUTC || oDateValue.tzDiff !== undefined) {\n            oDate = UniversalDate.getInstance(new Date(0), sCalendarType);\n            oDate.setUTCEra(oDateValue.era || UniversalDate.getCurrentEra(sCalendarType));\n            oDate.setUTCFullYear(iYear);\n            oDate.setUTCMonth(oDateValue.month || 0);\n            oDate.setUTCDate(oDateValue.day || 1);\n            oDate.setUTCHours(oDateValue.hour || 0);\n            oDate.setUTCMinutes(oDateValue.minute || 0);\n            oDate.setUTCSeconds(oDateValue.second || 0);\n            oDate.setUTCMilliseconds(oDateValue.millisecond || 0);\n            if (bStrict && (oDateValue.day || 1) !== oDate.getUTCDate()) {\n                oDateValue.valid = false;\n                oDate = undefined;\n            } else {\n                if (oDateValue.tzDiff) {\n                    oDate.setUTCMinutes((oDateValue.minute || 0) + oDateValue.tzDiff);\n                }\n                if (oDateValue.week !== undefined && (oDateValue.month === undefined || oDateValue.day === undefined)) {\n                    oDate.setUTCWeek({\n                        year: oDateValue.weekYear || oDateValue.year,\n                        week: oDateValue.week\n                    });\n                    if (oDateValue.dayNumberOfWeek !== undefined) {\n                        oDate.setUTCDate(oDate.getUTCDate() + oDateValue.dayNumberOfWeek - 1);\n                    }\n                }\n            }\n        } else {\n            oDate = UniversalDate.getInstance(new Date(1970, 0, 1, 0, 0, 0), sCalendarType);\n            oDate.setEra(oDateValue.era || UniversalDate.getCurrentEra(sCalendarType));\n            oDate.setFullYear(iYear);\n            oDate.setMonth(oDateValue.month || 0);\n            oDate.setDate(oDateValue.day || 1);\n            oDate.setHours(oDateValue.hour || 0);\n            oDate.setMinutes(oDateValue.minute || 0);\n            oDate.setSeconds(oDateValue.second || 0);\n            oDate.setMilliseconds(oDateValue.millisecond || 0);\n            if (bStrict && (oDateValue.day || 1) !== oDate.getDate()) {\n                oDateValue.valid = false;\n                oDate = undefined;\n            } else if (oDateValue.week !== undefined && (oDateValue.month === undefined || oDateValue.day === undefined)) {\n                oDate.setWeek({\n                    year: oDateValue.weekYear || oDateValue.year,\n                    week: oDateValue.week\n                });\n                if (oDateValue.dayNumberOfWeek !== undefined) {\n                    oDate.setDate(oDate.getDate() + oDateValue.dayNumberOfWeek - 1);\n                }\n            }\n        }\n        if (oDateValue.valid) {\n            oDate = oDate.getJSDate();\n            return oDate;\n        }\n    }\n    return null;\n};\nfunction mergeWithoutOverwrite(object1, object2) {\n    if (object1 === object2) {\n        return object1;\n    }\n    var oMergedObject = {};\n    Object.keys(object1).forEach(function (sKey) {\n        oMergedObject[sKey] = object1[sKey];\n    });\n    Object.keys(object2).forEach(function (sKey) {\n        if (!oMergedObject.hasOwnProperty(sKey)) {\n            oMergedObject[sKey] = object2[sKey];\n        }\n    });\n    return oMergedObject;\n}\nfunction isValidDateRange(oStartDate, oEndDate) {\n    if (oStartDate.getTime() > oEndDate.getTime()) {\n        return false;\n    }\n    return true;\n}\nDateFormat.prototype.parse = function (sValue, bUTC, bStrict) {\n    sValue = sValue == null ? '' : String(sValue).trim();\n    var oDateValue;\n    var sCalendarType = this.oFormatOptions.calendarType;\n    if (bUTC === undefined) {\n        bUTC = this.oFormatOptions.UTC;\n    }\n    if (bStrict === undefined) {\n        bStrict = this.oFormatOptions.strictParsing;\n    }\n    if (sCalendarType == CalendarType.Japanese && this.oLocale.getLanguage() === 'ja') {\n        sValue = sValue.replace(/元年/g, '1年');\n    }\n    if (!this.oFormatOptions.interval) {\n        var oJSDate = this.parseRelative(sValue, bUTC);\n        if (oJSDate) {\n            return oJSDate;\n        }\n        oDateValue = this._parse(sValue, this.aFormatArray, bUTC, bStrict);\n        if (oDateValue.index === 0 || oDateValue.index < sValue.length) {\n            oDateValue.valid = false;\n        }\n        oJSDate = fnCreateDate(oDateValue, sCalendarType, bUTC, bStrict);\n        if (oJSDate) {\n            return oJSDate;\n        }\n    } else {\n        var aDateValues = this._parseInterval(sValue, sCalendarType, bUTC, bStrict);\n        var oJSDate1, oJSDate2;\n        if (aDateValues && aDateValues.length == 2) {\n            var oDateValue1 = mergeWithoutOverwrite(aDateValues[0], aDateValues[1]);\n            var oDateValue2 = mergeWithoutOverwrite(aDateValues[1], aDateValues[0]);\n            oJSDate1 = fnCreateDate(oDateValue1, sCalendarType, bUTC, bStrict);\n            oJSDate2 = fnCreateDate(oDateValue2, sCalendarType, bUTC, bStrict);\n            if (oJSDate1 && oJSDate2) {\n                if (this.oFormatOptions.singleIntervalValue && oJSDate1.getTime() === oJSDate2.getTime()) {\n                    return [\n                        oJSDate1,\n                        null\n                    ];\n                }\n                var bValid = isValidDateRange(oJSDate1, oJSDate2);\n                if (bStrict && !bValid) {\n                    Log.error('StrictParsing: Invalid date range. The given end date is before the start date.');\n                    return [\n                        null,\n                        null\n                    ];\n                }\n                return [\n                    oJSDate1,\n                    oJSDate2\n                ];\n            }\n        }\n    }\n    if (!this.bIsFallback) {\n        var vDate;\n        this.aFallbackFormats.every(function (oFallbackFormat) {\n            vDate = oFallbackFormat.parse(sValue, bUTC, bStrict);\n            if (Array.isArray(vDate)) {\n                return !(vDate[0] && vDate[1]);\n            } else {\n                return !vDate;\n            }\n        });\n        return vDate;\n    }\n    if (!this.oFormatOptions.interval) {\n        return null;\n    } else {\n        return [\n            null,\n            null\n        ];\n    }\n};\nDateFormat.prototype.parseCldrDatePattern = function (sPattern) {\n    if (mCldrDatePattern[sPattern]) {\n        return mCldrDatePattern[sPattern];\n    }\n    var aFormatArray = [], i, bQuoted = false, oCurrentObject = null, sState = '', sNewState = '', mAppeared = {}, bIntervalStartFound = false;\n    for (i = 0; i < sPattern.length; i++) {\n        var sCurChar = sPattern.charAt(i), sNextChar, sPrevChar, sPrevPrevChar;\n        if (bQuoted) {\n            if (sCurChar == '\\'') {\n                sPrevChar = sPattern.charAt(i - 1);\n                sPrevPrevChar = sPattern.charAt(i - 2);\n                sNextChar = sPattern.charAt(i + 1);\n                if (sPrevChar == '\\'' && sPrevPrevChar != '\\'') {\n                    bQuoted = false;\n                } else if (sNextChar == '\\'') {\n                    i += 1;\n                } else {\n                    bQuoted = false;\n                    continue;\n                }\n            }\n            if (sState == 'text') {\n                oCurrentObject.value += sCurChar;\n            } else {\n                oCurrentObject = {\n                    type: 'text',\n                    value: sCurChar\n                };\n                aFormatArray.push(oCurrentObject);\n                sState = 'text';\n            }\n        } else {\n            if (sCurChar == '\\'') {\n                bQuoted = true;\n            } else if (this.oSymbols[sCurChar]) {\n                sNewState = this.oSymbols[sCurChar].name;\n                if (sState == sNewState) {\n                    oCurrentObject.digits++;\n                } else {\n                    oCurrentObject = {\n                        type: sNewState,\n                        symbol: sCurChar,\n                        digits: 1\n                    };\n                    aFormatArray.push(oCurrentObject);\n                    sState = sNewState;\n                    if (!bIntervalStartFound) {\n                        if (mAppeared[sNewState]) {\n                            oCurrentObject.repeat = true;\n                            bIntervalStartFound = true;\n                        } else {\n                            mAppeared[sNewState] = true;\n                        }\n                    }\n                }\n            } else {\n                if (sState == 'text') {\n                    oCurrentObject.value += sCurChar;\n                } else {\n                    oCurrentObject = {\n                        type: 'text',\n                        value: sCurChar\n                    };\n                    aFormatArray.push(oCurrentObject);\n                    sState = 'text';\n                }\n            }\n        }\n    }\n    mCldrDatePattern[sPattern] = aFormatArray;\n    return aFormatArray;\n};\nDateFormat.prototype.parseRelative = function (sValue, bUTC) {\n    var aPatterns, oEntry, rPattern, oResult, iValue;\n    if (!sValue) {\n        return null;\n    }\n    aPatterns = this.oLocaleData.getRelativePatterns(this.aRelativeParseScales, this.oFormatOptions.relativeStyle);\n    for (var i = 0; i < aPatterns.length; i++) {\n        oEntry = aPatterns[i];\n        rPattern = new RegExp('^\\\\s*' + oEntry.pattern.replace(/\\{0\\}/, '(\\\\d+)') + '\\\\s*$', 'i');\n        oResult = rPattern.exec(sValue);\n        if (oResult) {\n            if (oEntry.value !== undefined) {\n                return computeRelativeDate(oEntry.value, oEntry.scale);\n            } else {\n                iValue = parseInt(oResult[1]);\n                return computeRelativeDate(iValue * oEntry.sign, oEntry.scale);\n            }\n        }\n    }\n    function computeRelativeDate(iDiff, sScale) {\n        var iToday, oToday = new Date(), oJSDate;\n        if (bUTC) {\n            iToday = oToday.getTime();\n        } else {\n            iToday = Date.UTC(oToday.getFullYear(), oToday.getMonth(), oToday.getDate(), oToday.getHours(), oToday.getMinutes(), oToday.getSeconds(), oToday.getMilliseconds());\n        }\n        oJSDate = new Date(iToday);\n        switch (sScale) {\n        case 'second':\n            oJSDate.setUTCSeconds(oJSDate.getUTCSeconds() + iDiff);\n            break;\n        case 'minute':\n            oJSDate.setUTCMinutes(oJSDate.getUTCMinutes() + iDiff);\n            break;\n        case 'hour':\n            oJSDate.setUTCHours(oJSDate.getUTCHours() + iDiff);\n            break;\n        case 'day':\n            oJSDate.setUTCDate(oJSDate.getUTCDate() + iDiff);\n            break;\n        case 'week':\n            oJSDate.setUTCDate(oJSDate.getUTCDate() + iDiff * 7);\n            break;\n        case 'month':\n            oJSDate.setUTCMonth(oJSDate.getUTCMonth() + iDiff);\n            break;\n        case 'quarter':\n            oJSDate.setUTCMonth(oJSDate.getUTCMonth() + iDiff * 3);\n            break;\n        case 'year':\n            oJSDate.setUTCFullYear(oJSDate.getUTCFullYear() + iDiff);\n            break;\n        }\n        if (bUTC) {\n            return oJSDate;\n        } else {\n            return new Date(oJSDate.getUTCFullYear(), oJSDate.getUTCMonth(), oJSDate.getUTCDate(), oJSDate.getUTCHours(), oJSDate.getUTCMinutes(), oJSDate.getUTCSeconds(), oJSDate.getUTCMilliseconds());\n        }\n    }\n};\nDateFormat.prototype.formatRelative = function (oJSDate, bUTC, aRange) {\n    var oToday = new Date(), oDateUTC, sScale = this.oFormatOptions.relativeScale || 'day', iDiff, sPattern, iDiffSeconds;\n    iDiffSeconds = (oJSDate.getTime() - oToday.getTime()) / 1000;\n    if (this.oFormatOptions.relativeScale == 'auto') {\n        sScale = this._getScale(iDiffSeconds, this.aRelativeScales);\n    }\n    if (!aRange) {\n        aRange = this._mRanges[sScale];\n    }\n    if (sScale == 'year' || sScale == 'month' || sScale == 'day') {\n        oToday = new Date(Date.UTC(oToday.getFullYear(), oToday.getMonth(), oToday.getDate()));\n        oDateUTC = new Date(0);\n        if (bUTC) {\n            oDateUTC.setUTCFullYear(oJSDate.getUTCFullYear(), oJSDate.getUTCMonth(), oJSDate.getUTCDate());\n        } else {\n            oDateUTC.setUTCFullYear(oJSDate.getFullYear(), oJSDate.getMonth(), oJSDate.getDate());\n        }\n        oJSDate = oDateUTC;\n    }\n    iDiff = this._getDifference(sScale, [\n        oToday,\n        oJSDate\n    ]);\n    if (this.oFormatOptions.relativeScale != 'auto' && (iDiff < aRange[0] || iDiff > aRange[1])) {\n        return null;\n    }\n    sPattern = this.oLocaleData.getRelativePattern(sScale, iDiff, iDiffSeconds > 0, this.oFormatOptions.relativeStyle);\n    return formatMessage(sPattern, [Math.abs(iDiff)]);\n};\nDateFormat.prototype._mRanges = {\n    second: [\n        -60,\n        60\n    ],\n    minute: [\n        -60,\n        60\n    ],\n    hour: [\n        -24,\n        24\n    ],\n    day: [\n        -6,\n        6\n    ],\n    week: [\n        -4,\n        4\n    ],\n    month: [\n        -12,\n        12\n    ],\n    year: [\n        -10,\n        10\n    ]\n};\nDateFormat.prototype._mScales = {\n    second: 1,\n    minute: 60,\n    hour: 3600,\n    day: 86400,\n    week: 604800,\n    month: 2592000,\n    quarter: 7776000,\n    year: 31536000\n};\nDateFormat.prototype._getScale = function (iDiffSeconds, aScales) {\n    var sScale, sTestScale;\n    iDiffSeconds = Math.abs(iDiffSeconds);\n    for (var i = 0; i < aScales.length; i++) {\n        sTestScale = aScales[i];\n        if (iDiffSeconds >= this._mScales[sTestScale]) {\n            sScale = sTestScale;\n            break;\n        }\n    }\n    if (!sScale) {\n        sScale = aScales[aScales.length - 1];\n    }\n    return sScale;\n};\nfunction cutDateFields(oDate, iStartIndex) {\n    var aFields = [\n            'FullYear',\n            'Month',\n            'Date',\n            'Hours',\n            'Minutes',\n            'Seconds',\n            'Milliseconds'\n        ], sMethodName;\n    var oDateCopy = new Date(oDate.getTime());\n    for (var i = iStartIndex; i < aFields.length; i++) {\n        sMethodName = 'set' + aFields[iStartIndex];\n        oDateCopy[sMethodName].apply(oDateCopy, [0]);\n    }\n    return oDateCopy;\n}\nvar mRelativeDiffs = {\n    year: function (oFromDate, oToDate) {\n        return oToDate.getFullYear() - oFromDate.getFullYear();\n    },\n    month: function (oFromDate, oToDate) {\n        return oToDate.getMonth() - oFromDate.getMonth() + this.year(oFromDate, oToDate) * 12;\n    },\n    week: function (oFromDate, oToDate, oFormat) {\n        var iFromDay = oFormat._adaptDayOfWeek(oFromDate.getDay());\n        var iToDay = oFormat._adaptDayOfWeek(oToDate.getDay());\n        oFromDate = cutDateFields(oFromDate, 3);\n        oToDate = cutDateFields(oToDate, 3);\n        return (oToDate.getTime() - oFromDate.getTime() - (iToDay - iFromDay) * oFormat._mScales.day * 1000) / (oFormat._mScales.week * 1000);\n    },\n    day: function (oFromDate, oToDate, oFormat) {\n        oFromDate = cutDateFields(oFromDate, 3);\n        oToDate = cutDateFields(oToDate, 3);\n        return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.day * 1000);\n    },\n    hour: function (oFromDate, oToDate, oFormat) {\n        oFromDate = cutDateFields(oFromDate, 4);\n        oToDate = cutDateFields(oToDate, 4);\n        return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.hour * 1000);\n    },\n    minute: function (oFromDate, oToDate, oFormat) {\n        oFromDate = cutDateFields(oFromDate, 5);\n        oToDate = cutDateFields(oToDate, 5);\n        return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.minute * 1000);\n    },\n    second: function (oFromDate, oToDate, oFormat) {\n        oFromDate = cutDateFields(oFromDate, 6);\n        oToDate = cutDateFields(oToDate, 6);\n        return (oToDate.getTime() - oFromDate.getTime()) / (oFormat._mScales.second * 1000);\n    }\n};\nDateFormat.prototype._adaptDayOfWeek = function (iDayOfWeek) {\n    var iFirstDayOfWeek = LocaleData.getInstance(Core.getConfiguration().getFormatSettings().getFormatLocale()).getFirstDayOfWeek();\n    var iDayNumberOfWeek = iDayOfWeek - (iFirstDayOfWeek - 1);\n    if (iDayNumberOfWeek <= 0) {\n        iDayNumberOfWeek += 7;\n    }\n    return iDayNumberOfWeek;\n};\nDateFormat.prototype._getDifference = function (sScale, aDates) {\n    var oFromDate = aDates[0];\n    var oToDate = aDates[1];\n    return Math.round(mRelativeDiffs[sScale](oFromDate, oToDate, this));\n};\nDateFormat.prototype.getAllowedCharacters = function (aFormatArray) {\n    if (this.oFormatOptions.relative) {\n        return '';\n    }\n    var sAllowedCharacters = '';\n    var bNumbers = false;\n    var bAll = false;\n    var oPart;\n    for (var i = 0; i < aFormatArray.length; i++) {\n        oPart = aFormatArray[i];\n        switch (oPart.type) {\n        case 'text':\n            if (sAllowedCharacters.indexOf(oPart.value) < 0) {\n                sAllowedCharacters += oPart.value;\n            }\n            break;\n        case 'day':\n        case 'year':\n        case 'weekYear':\n        case 'dayNumberOfWeek':\n        case 'weekInYear':\n        case 'hour0_23':\n        case 'hour1_24':\n        case 'hour0_11':\n        case 'hour1_12':\n        case 'minute':\n        case 'second':\n        case 'fractionalsecond':\n            if (!bNumbers) {\n                sAllowedCharacters += '0123456789';\n                bNumbers = true;\n            }\n            break;\n        case 'month':\n        case 'monthStandalone':\n            if (oPart.digits < 3) {\n                if (!bNumbers) {\n                    sAllowedCharacters += '0123456789';\n                    bNumbers = true;\n                }\n            } else {\n                bAll = true;\n            }\n            break;\n        default:\n            bAll = true;\n            break;\n        }\n    }\n    if (bAll) {\n        sAllowedCharacters = '';\n    }\n    return sAllowedCharacters;\n};\nexport default DateFormat;"]},"metadata":{},"sourceType":"module"}