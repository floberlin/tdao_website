{"ast":null,"code":"import _toConsumableArray from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { isEscape } from \"@ui5/webcomponents-base/dist/Keys.js\";\nvar openedRegistry = [];\n\nvar addOpenedPopup = function addOpenedPopup(instance) {\n  var parentPopovers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!openedRegistry.includes(instance)) {\n    openedRegistry.push({\n      instance: instance,\n      parentPopovers: parentPopovers\n    });\n  }\n\n  if (openedRegistry.length === 1) {\n    attachGlobalListener();\n  }\n};\n\nvar removeOpenedPopup = function removeOpenedPopup(instance) {\n  openedRegistry = openedRegistry.filter(function (el) {\n    return el.instance !== instance;\n  });\n\n  if (!openedRegistry.length) {\n    detachGlobalListener();\n  }\n};\n\nvar getOpenedPopups = function getOpenedPopups() {\n  return _toConsumableArray(openedRegistry);\n};\n\nvar _keydownListener = function _keydownListener(event) {\n  if (!openedRegistry.length) {\n    return;\n  }\n\n  if (isEscape(event)) {\n    openedRegistry.pop().instance.close(true);\n  }\n};\n\nvar attachGlobalListener = function attachGlobalListener() {\n  document.addEventListener(\"keydown\", _keydownListener);\n};\n\nvar detachGlobalListener = function detachGlobalListener() {\n  document.removeEventListener(\"keydown\", _keydownListener);\n};\n\nexport { addOpenedPopup, removeOpenedPopup, getOpenedPopups };","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/popup-utils/OpenedPopupsRegistry.js"],"names":["isEscape","openedRegistry","addOpenedPopup","instance","parentPopovers","includes","push","length","attachGlobalListener","removeOpenedPopup","filter","el","detachGlobalListener","getOpenedPopups","_keydownListener","event","pop","close","document","addEventListener","removeEventListener"],"mappings":";AAAA,SAASA,QAAT,QAAyB,sCAAzB;AAEA,IAAIC,cAAc,GAAG,EAArB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,QAAD,EAAmC;AAAA,MAAxBC,cAAwB,uEAAP,EAAO;;AACzD,MAAI,CAACH,cAAc,CAACI,QAAf,CAAwBF,QAAxB,CAAL,EAAwC;AACvCF,IAAAA,cAAc,CAACK,IAAf,CAAoB;AACnBH,MAAAA,QAAQ,EAARA,QADmB;AAEnBC,MAAAA,cAAc,EAAdA;AAFmB,KAApB;AAIA;;AAED,MAAIH,cAAc,CAACM,MAAf,KAA0B,CAA9B,EAAiC;AAChCC,IAAAA,oBAAoB;AACpB;AACD,CAXD;;AAaA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAN,QAAQ,EAAI;AACrCF,EAAAA,cAAc,GAAGA,cAAc,CAACS,MAAf,CAAsB,UAAAC,EAAE,EAAI;AAC5C,WAAOA,EAAE,CAACR,QAAH,KAAgBA,QAAvB;AACA,GAFgB,CAAjB;;AAIA,MAAI,CAACF,cAAc,CAACM,MAApB,EAA4B;AAC3BK,IAAAA,oBAAoB;AACpB;AACD,CARD;;AAUA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC7B,4BAAWZ,cAAX;AACA,CAFD;;AAIA,IAAMa,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,KAAK,EAAI;AACjC,MAAI,CAACd,cAAc,CAACM,MAApB,EAA4B;AAC3B;AACA;;AAED,MAAIP,QAAQ,CAACe,KAAD,CAAZ,EAAqB;AACpBd,IAAAA,cAAc,CAACe,GAAf,GAAqBb,QAArB,CAA8Bc,KAA9B,CAAoC,IAApC;AACA;AACD,CARD;;AAUA,IAAMT,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AAClCU,EAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCL,gBAArC;AACA,CAFD;;AAIA,IAAMF,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AAClCM,EAAAA,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCN,gBAAxC;AACA,CAFD;;AAIA,SAASZ,cAAT,EAAyBO,iBAAzB,EAA4CI,eAA5C","sourcesContent":["import { isEscape } from \"@ui5/webcomponents-base/dist/Keys.js\";\n\nlet openedRegistry = [];\n\nconst addOpenedPopup = (instance, parentPopovers = []) => {\n\tif (!openedRegistry.includes(instance)) {\n\t\topenedRegistry.push({\n\t\t\tinstance,\n\t\t\tparentPopovers,\n\t\t});\n\t}\n\n\tif (openedRegistry.length === 1) {\n\t\tattachGlobalListener();\n\t}\n};\n\nconst removeOpenedPopup = instance => {\n\topenedRegistry = openedRegistry.filter(el => {\n\t\treturn el.instance !== instance;\n\t});\n\n\tif (!openedRegistry.length) {\n\t\tdetachGlobalListener();\n\t}\n};\n\nconst getOpenedPopups = () => {\n\treturn [...openedRegistry];\n};\n\nconst _keydownListener = event => {\n\tif (!openedRegistry.length) {\n\t\treturn;\n\t}\n\n\tif (isEscape(event)) {\n\t\topenedRegistry.pop().instance.close(true);\n\t}\n};\n\nconst attachGlobalListener = () => {\n\tdocument.addEventListener(\"keydown\", _keydownListener);\n};\n\nconst detachGlobalListener = () => {\n\tdocument.removeEventListener(\"keydown\", _keydownListener);\n};\n\nexport { addOpenedPopup, removeOpenedPopup, getOpenedPopups };\n"]},"metadata":{},"sourceType":"module"}