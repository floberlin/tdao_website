{"ast":null,"code":"import ObjectPath from '../../base/util/ObjectPath.js';\nimport assert from '../../base/assert.js';\nimport Log from '../../base/Log.js';\nimport uniqueSort from '../../base/util/array/uniqueSort.js';\n\nvar Metadata = function (sClassName, oClassInfo) {\n  assert(typeof sClassName === 'string' && sClassName, 'Metadata: sClassName must be a non-empty string');\n  assert(typeof oClassInfo === 'object', 'Metadata: oClassInfo must be empty or an object');\n\n  if (!oClassInfo || typeof oClassInfo.metadata !== 'object') {\n    oClassInfo = {\n      metadata: oClassInfo || {},\n      constructor: ObjectPath.get(sClassName)\n    };\n    oClassInfo.metadata.__version = 1;\n  }\n\n  oClassInfo.metadata.__version = oClassInfo.metadata.__version || 2;\n\n  if (typeof oClassInfo.constructor !== 'function') {\n    throw Error('constructor for class ' + sClassName + ' must have been declared before creating metadata for it');\n  }\n\n  this._sClassName = sClassName;\n  this._oClass = oClassInfo.constructor;\n  this.extend(oClassInfo);\n};\n\nMetadata.prototype.extend = function (oClassInfo) {\n  this.applySettings(oClassInfo);\n  this.afterApplySettings();\n};\n\nMetadata.prototype.applySettings = function (oClassInfo) {\n  var that = this,\n      oStaticInfo = oClassInfo.metadata,\n      oPrototype;\n\n  if (oStaticInfo.baseType) {\n    var oParentClass = ObjectPath.get(oStaticInfo.baseType);\n\n    if (typeof oParentClass !== 'function') {\n      Log.fatal('base class \\'' + oStaticInfo.baseType + '\\' does not exist');\n    }\n\n    if (oParentClass.getMetadata) {\n      this._oParent = oParentClass.getMetadata();\n      assert(oParentClass === oParentClass.getMetadata().getClass(), 'Metadata: oParentClass must match the class in the parent metadata');\n    } else {\n      this._oParent = new Metadata(oStaticInfo.baseType, {});\n    }\n  } else {\n    this._oParent = undefined;\n  }\n\n  this._bAbstract = !!oStaticInfo['abstract'];\n  this._bFinal = !!oStaticInfo['final'];\n  this._sStereotype = oStaticInfo.stereotype || (this._oParent ? this._oParent._sStereotype : 'object');\n  this._bDeprecated = !!oStaticInfo['deprecated'];\n  this._aInterfaces = oStaticInfo.interfaces || [];\n  this._aPublicMethods = oStaticInfo.publicMethods || [];\n  this._bInterfacesUnique = false;\n  oPrototype = this._oClass.prototype;\n\n  for (var n in oClassInfo) {\n    if (n !== 'metadata' && n !== 'constructor') {\n      oPrototype[n] = oClassInfo[n];\n\n      if (!n.match(/^_|^on|^init$|^exit$/)) {\n        that._aPublicMethods.push(n);\n      }\n    }\n  }\n};\n\nMetadata.prototype.afterApplySettings = function () {\n  if (this._oParent) {\n    this._aAllPublicMethods = this._oParent._aAllPublicMethods.concat(this._aPublicMethods);\n    this._bInterfacesUnique = false;\n  } else {\n    this._aAllPublicMethods = this._aPublicMethods;\n  }\n};\n\nMetadata.prototype.getStereotype = function () {\n  return this._sStereotype;\n};\n\nMetadata.prototype.getName = function () {\n  return this._sClassName;\n};\n\nMetadata.prototype.getClass = function () {\n  return this._oClass;\n};\n\nMetadata.prototype.getParent = function () {\n  return this._oParent;\n};\n\nMetadata.prototype._dedupInterfaces = function () {\n  if (!this._bInterfacesUnique) {\n    uniqueSort(this._aInterfaces);\n    uniqueSort(this._aPublicMethods);\n    uniqueSort(this._aAllPublicMethods);\n    this._bInterfacesUnique = true;\n  }\n};\n\nMetadata.prototype.getPublicMethods = function () {\n  this._dedupInterfaces();\n\n  return this._aPublicMethods;\n};\n\nMetadata.prototype.getAllPublicMethods = function () {\n  this._dedupInterfaces();\n\n  return this._aAllPublicMethods;\n};\n\nMetadata.prototype.getInterfaces = function () {\n  this._dedupInterfaces();\n\n  return this._aInterfaces;\n};\n\nMetadata.prototype.isInstanceOf = function (sInterface) {\n  if (this._oParent) {\n    if (this._oParent.isInstanceOf(sInterface)) {\n      return true;\n    }\n  }\n\n  var a = this._aInterfaces;\n\n  for (var i = 0, l = a.length; i < l; i++) {\n    if (a[i] === sInterface) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nObject.defineProperty(Metadata.prototype, '_mImplementedTypes', {\n  get: function () {\n    if (this === Metadata.prototype) {\n      throw new Error('sap.ui.base.Metadata: The \\'_mImplementedTypes\\' property must not be accessed on the prototype');\n    }\n\n    var result = Object.create(this._oParent ? this._oParent._mImplementedTypes : null);\n    result[this._sClassName] = true;\n    var aInterfaces = this._aInterfaces,\n        i = aInterfaces.length;\n\n    while (i-- > 0) {\n      if (!result[aInterfaces[i]]) {\n        result[aInterfaces[i]] = true;\n      }\n    }\n\n    Object.defineProperty(this, '_mImplementedTypes', {\n      value: Object.freeze(result),\n      writable: false,\n      configurable: false\n    });\n    return result;\n  },\n  configurable: true\n});\n\nMetadata.prototype.isA = function (vTypeName) {\n  var mTypes = this._mImplementedTypes;\n\n  if (Array.isArray(vTypeName)) {\n    for (var i = 0; i < vTypeName.length; i++) {\n      if (vTypeName[i] in mTypes) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  return vTypeName in mTypes;\n};\n\nMetadata.prototype.isAbstract = function () {\n  return this._bAbstract;\n};\n\nMetadata.prototype.isFinal = function () {\n  return this._bFinal;\n};\n\nMetadata.prototype.isDeprecated = function () {\n  return this._bDeprecated;\n};\n\nMetadata.prototype.addPublicMethods = function (sMethod) {\n  var aNames = sMethod instanceof Array ? sMethod : arguments;\n  Array.prototype.push.apply(this._aPublicMethods, aNames);\n  Array.prototype.push.apply(this._aAllPublicMethods, aNames);\n  this._bInterfacesUnique = false;\n};\n\nMetadata.createClass = function (fnBaseClass, sClassName, oClassInfo, FNMetaImpl) {\n  if (typeof fnBaseClass === 'string') {\n    FNMetaImpl = oClassInfo;\n    oClassInfo = sClassName;\n    sClassName = fnBaseClass;\n    fnBaseClass = null;\n  }\n\n  assert(!fnBaseClass || typeof fnBaseClass === 'function');\n  assert(typeof sClassName === 'string' && !!sClassName);\n  assert(!oClassInfo || typeof oClassInfo === 'object');\n  assert(!FNMetaImpl || typeof FNMetaImpl === 'function');\n  FNMetaImpl = FNMetaImpl || Metadata;\n\n  if (typeof FNMetaImpl.preprocessClassInfo === 'function') {\n    oClassInfo = FNMetaImpl.preprocessClassInfo(oClassInfo);\n  }\n\n  oClassInfo = oClassInfo || {};\n  oClassInfo.metadata = oClassInfo.metadata || {};\n\n  if (!oClassInfo.hasOwnProperty('constructor')) {\n    oClassInfo.constructor = undefined;\n  }\n\n  var fnClass = oClassInfo.constructor;\n  assert(!fnClass || typeof fnClass === 'function');\n\n  if (fnBaseClass) {\n    if (!fnClass) {\n      if (oClassInfo.metadata.deprecated) {\n        fnClass = function () {\n          Log.warning('Usage of deprecated class: ' + sClassName);\n          fnBaseClass.apply(this, arguments);\n        };\n      } else {\n        fnClass = function () {\n          fnBaseClass.apply(this, arguments);\n        };\n      }\n    }\n\n    fnClass.prototype = Object.create(fnBaseClass.prototype);\n    fnClass.prototype.constructor = fnClass;\n    oClassInfo.metadata.baseType = fnBaseClass.getMetadata().getName();\n  } else {\n    fnClass = fnClass || function () {};\n\n    delete oClassInfo.metadata.baseType;\n  }\n\n  oClassInfo.constructor = fnClass;\n  ObjectPath.set(sClassName, fnClass);\n  var oMetadata = new FNMetaImpl(sClassName, oClassInfo);\n\n  fnClass.getMetadata = fnClass.prototype.getMetadata = function () {\n    return oMetadata;\n  };\n\n  if (!fnClass.getMetadata().isFinal()) {\n    fnClass.extend = function (sSCName, oSCClassInfo, fnSCMetaImpl) {\n      return Metadata.createClass(fnClass, sSCName, oSCClassInfo, fnSCMetaImpl || FNMetaImpl);\n    };\n  }\n\n  return fnClass;\n};\n\nexport default Metadata;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-localization/dist/sap/ui/base/Metadata.js"],"names":["ObjectPath","assert","Log","uniqueSort","Metadata","sClassName","oClassInfo","metadata","constructor","get","__version","Error","_sClassName","_oClass","extend","prototype","applySettings","afterApplySettings","that","oStaticInfo","oPrototype","baseType","oParentClass","fatal","getMetadata","_oParent","getClass","undefined","_bAbstract","_bFinal","_sStereotype","stereotype","_bDeprecated","_aInterfaces","interfaces","_aPublicMethods","publicMethods","_bInterfacesUnique","n","match","push","_aAllPublicMethods","concat","getStereotype","getName","getParent","_dedupInterfaces","getPublicMethods","getAllPublicMethods","getInterfaces","isInstanceOf","sInterface","a","i","l","length","Object","defineProperty","result","create","_mImplementedTypes","aInterfaces","value","freeze","writable","configurable","isA","vTypeName","mTypes","Array","isArray","isAbstract","isFinal","isDeprecated","addPublicMethods","sMethod","aNames","arguments","apply","createClass","fnBaseClass","FNMetaImpl","preprocessClassInfo","hasOwnProperty","fnClass","deprecated","warning","set","oMetadata","sSCName","oSCClassInfo","fnSCMetaImpl"],"mappings":"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","sourcesContent":["import ObjectPath from '../../base/util/ObjectPath.js';\nimport assert from '../../base/assert.js';\nimport Log from '../../base/Log.js';\nimport uniqueSort from '../../base/util/array/uniqueSort.js';\nvar Metadata = function (sClassName, oClassInfo) {\n    assert(typeof sClassName === 'string' && sClassName, 'Metadata: sClassName must be a non-empty string');\n    assert(typeof oClassInfo === 'object', 'Metadata: oClassInfo must be empty or an object');\n    if (!oClassInfo || typeof oClassInfo.metadata !== 'object') {\n        oClassInfo = {\n            metadata: oClassInfo || {},\n            constructor: ObjectPath.get(sClassName)\n        };\n        oClassInfo.metadata.__version = 1;\n    }\n    oClassInfo.metadata.__version = oClassInfo.metadata.__version || 2;\n    if (typeof oClassInfo.constructor !== 'function') {\n        throw Error('constructor for class ' + sClassName + ' must have been declared before creating metadata for it');\n    }\n    this._sClassName = sClassName;\n    this._oClass = oClassInfo.constructor;\n    this.extend(oClassInfo);\n};\nMetadata.prototype.extend = function (oClassInfo) {\n    this.applySettings(oClassInfo);\n    this.afterApplySettings();\n};\nMetadata.prototype.applySettings = function (oClassInfo) {\n    var that = this, oStaticInfo = oClassInfo.metadata, oPrototype;\n    if (oStaticInfo.baseType) {\n        var oParentClass = ObjectPath.get(oStaticInfo.baseType);\n        if (typeof oParentClass !== 'function') {\n            Log.fatal('base class \\'' + oStaticInfo.baseType + '\\' does not exist');\n        }\n        if (oParentClass.getMetadata) {\n            this._oParent = oParentClass.getMetadata();\n            assert(oParentClass === oParentClass.getMetadata().getClass(), 'Metadata: oParentClass must match the class in the parent metadata');\n        } else {\n            this._oParent = new Metadata(oStaticInfo.baseType, {});\n        }\n    } else {\n        this._oParent = undefined;\n    }\n    this._bAbstract = !!oStaticInfo['abstract'];\n    this._bFinal = !!oStaticInfo['final'];\n    this._sStereotype = oStaticInfo.stereotype || (this._oParent ? this._oParent._sStereotype : 'object');\n    this._bDeprecated = !!oStaticInfo['deprecated'];\n    this._aInterfaces = oStaticInfo.interfaces || [];\n    this._aPublicMethods = oStaticInfo.publicMethods || [];\n    this._bInterfacesUnique = false;\n    oPrototype = this._oClass.prototype;\n    for (var n in oClassInfo) {\n        if (n !== 'metadata' && n !== 'constructor') {\n            oPrototype[n] = oClassInfo[n];\n            if (!n.match(/^_|^on|^init$|^exit$/)) {\n                that._aPublicMethods.push(n);\n            }\n        }\n    }\n};\nMetadata.prototype.afterApplySettings = function () {\n    if (this._oParent) {\n        this._aAllPublicMethods = this._oParent._aAllPublicMethods.concat(this._aPublicMethods);\n        this._bInterfacesUnique = false;\n    } else {\n        this._aAllPublicMethods = this._aPublicMethods;\n    }\n};\nMetadata.prototype.getStereotype = function () {\n    return this._sStereotype;\n};\nMetadata.prototype.getName = function () {\n    return this._sClassName;\n};\nMetadata.prototype.getClass = function () {\n    return this._oClass;\n};\nMetadata.prototype.getParent = function () {\n    return this._oParent;\n};\nMetadata.prototype._dedupInterfaces = function () {\n    if (!this._bInterfacesUnique) {\n        uniqueSort(this._aInterfaces);\n        uniqueSort(this._aPublicMethods);\n        uniqueSort(this._aAllPublicMethods);\n        this._bInterfacesUnique = true;\n    }\n};\nMetadata.prototype.getPublicMethods = function () {\n    this._dedupInterfaces();\n    return this._aPublicMethods;\n};\nMetadata.prototype.getAllPublicMethods = function () {\n    this._dedupInterfaces();\n    return this._aAllPublicMethods;\n};\nMetadata.prototype.getInterfaces = function () {\n    this._dedupInterfaces();\n    return this._aInterfaces;\n};\nMetadata.prototype.isInstanceOf = function (sInterface) {\n    if (this._oParent) {\n        if (this._oParent.isInstanceOf(sInterface)) {\n            return true;\n        }\n    }\n    var a = this._aInterfaces;\n    for (var i = 0, l = a.length; i < l; i++) {\n        if (a[i] === sInterface) {\n            return true;\n        }\n    }\n    return false;\n};\nObject.defineProperty(Metadata.prototype, '_mImplementedTypes', {\n    get: function () {\n        if (this === Metadata.prototype) {\n            throw new Error('sap.ui.base.Metadata: The \\'_mImplementedTypes\\' property must not be accessed on the prototype');\n        }\n        var result = Object.create(this._oParent ? this._oParent._mImplementedTypes : null);\n        result[this._sClassName] = true;\n        var aInterfaces = this._aInterfaces, i = aInterfaces.length;\n        while (i-- > 0) {\n            if (!result[aInterfaces[i]]) {\n                result[aInterfaces[i]] = true;\n            }\n        }\n        Object.defineProperty(this, '_mImplementedTypes', {\n            value: Object.freeze(result),\n            writable: false,\n            configurable: false\n        });\n        return result;\n    },\n    configurable: true\n});\nMetadata.prototype.isA = function (vTypeName) {\n    var mTypes = this._mImplementedTypes;\n    if (Array.isArray(vTypeName)) {\n        for (var i = 0; i < vTypeName.length; i++) {\n            if (vTypeName[i] in mTypes) {\n                return true;\n            }\n        }\n        return false;\n    }\n    return vTypeName in mTypes;\n};\nMetadata.prototype.isAbstract = function () {\n    return this._bAbstract;\n};\nMetadata.prototype.isFinal = function () {\n    return this._bFinal;\n};\nMetadata.prototype.isDeprecated = function () {\n    return this._bDeprecated;\n};\nMetadata.prototype.addPublicMethods = function (sMethod) {\n    var aNames = sMethod instanceof Array ? sMethod : arguments;\n    Array.prototype.push.apply(this._aPublicMethods, aNames);\n    Array.prototype.push.apply(this._aAllPublicMethods, aNames);\n    this._bInterfacesUnique = false;\n};\nMetadata.createClass = function (fnBaseClass, sClassName, oClassInfo, FNMetaImpl) {\n    if (typeof fnBaseClass === 'string') {\n        FNMetaImpl = oClassInfo;\n        oClassInfo = sClassName;\n        sClassName = fnBaseClass;\n        fnBaseClass = null;\n    }\n    assert(!fnBaseClass || typeof fnBaseClass === 'function');\n    assert(typeof sClassName === 'string' && !!sClassName);\n    assert(!oClassInfo || typeof oClassInfo === 'object');\n    assert(!FNMetaImpl || typeof FNMetaImpl === 'function');\n    FNMetaImpl = FNMetaImpl || Metadata;\n    if (typeof FNMetaImpl.preprocessClassInfo === 'function') {\n        oClassInfo = FNMetaImpl.preprocessClassInfo(oClassInfo);\n    }\n    oClassInfo = oClassInfo || {};\n    oClassInfo.metadata = oClassInfo.metadata || {};\n    if (!oClassInfo.hasOwnProperty('constructor')) {\n        oClassInfo.constructor = undefined;\n    }\n    var fnClass = oClassInfo.constructor;\n    assert(!fnClass || typeof fnClass === 'function');\n    if (fnBaseClass) {\n        if (!fnClass) {\n            if (oClassInfo.metadata.deprecated) {\n                fnClass = function () {\n                    Log.warning('Usage of deprecated class: ' + sClassName);\n                    fnBaseClass.apply(this, arguments);\n                };\n            } else {\n                fnClass = function () {\n                    fnBaseClass.apply(this, arguments);\n                };\n            }\n        }\n        fnClass.prototype = Object.create(fnBaseClass.prototype);\n        fnClass.prototype.constructor = fnClass;\n        oClassInfo.metadata.baseType = fnBaseClass.getMetadata().getName();\n    } else {\n        fnClass = fnClass || function () {\n        };\n        delete oClassInfo.metadata.baseType;\n    }\n    oClassInfo.constructor = fnClass;\n    ObjectPath.set(sClassName, fnClass);\n    var oMetadata = new FNMetaImpl(sClassName, oClassInfo);\n    fnClass.getMetadata = fnClass.prototype.getMetadata = function () {\n        return oMetadata;\n    };\n    if (!fnClass.getMetadata().isFinal()) {\n        fnClass.extend = function (sSCName, oSCClassInfo, fnSCMetaImpl) {\n            return Metadata.createClass(fnClass, sSCName, oSCClassInfo, fnSCMetaImpl || FNMetaImpl);\n        };\n    }\n    return fnClass;\n};\nexport default Metadata;"]},"metadata":{},"sourceType":"module"}