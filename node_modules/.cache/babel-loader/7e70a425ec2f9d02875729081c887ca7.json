{"ast":null,"code":"import { supportsTouch } from \"../Device.js\";\nimport EventProvider from \"../EventProvider.js\";\nimport scroll from \"../animations/scroll.js\";\nconst scrollEventName = \"scroll\";\nconst touchEndEventName = supportsTouch() ? \"touchend\" : \"mouseup\";\n\nclass ScrollEnablement extends EventProvider {\n  constructor(containerComponent) {\n    super();\n    this.containerComponent = containerComponent;\n    this.mouseMove = this.ontouchmove.bind(this);\n    this.mouseUp = this.ontouchend.bind(this);\n    this.touchStart = this.ontouchstart.bind(this);\n    this.supportsTouch = supportsTouch(); // On Android devices touchmove is thrown one more time than neccessary (together with touchend)\n    // so we have to cache the previus coordinates in order to provide correct parameters in the\n    // event for Android\n\n    this.cachedValue = {}; // In components like Carousel you need to know if the user has clicked on something or swiped\n    // in order to throw the needed event or not\n\n    this.startX = 0;\n    this.startY = 0;\n\n    if (this.supportsTouch) {\n      containerComponent.addEventListener(\"touchstart\", this.touchStart, {\n        passive: true\n      });\n      containerComponent.addEventListener(\"touchmove\", this.mouseMove, {\n        passive: true\n      });\n      containerComponent.addEventListener(\"touchend\", this.mouseUp, {\n        passive: true\n      });\n    } else {\n      containerComponent.addEventListener(\"mousedown\", this.touchStart, {\n        passive: true\n      });\n    }\n  }\n\n  set scrollContainer(container) {\n    this._container = container;\n  }\n\n  get scrollContainer() {\n    return this._container;\n  }\n  /**\n   * Scrolls the container to the left/top position, retrying retryCount times, if the container is not yet painted\n   *\n   * @param left\n   * @param top\n   * @param retryCount\n   * @param retryInterval\n   * @returns {Promise<void>} resolved when scrolled successfully\n   */\n\n\n  async scrollTo(left, top, retryCount = 0, retryInterval = 0) {\n    let containerPainted = this.scrollContainer.clientHeight > 0 && this.scrollContainer.clientWidth > 0;\n    /* eslint-disable no-loop-func, no-await-in-loop */\n\n    while (!containerPainted && retryCount > 0) {\n      await new Promise(resolve => {\n        setTimeout(() => {\n          containerPainted = this.scrollContainer.clientHeight > 0 && this.scrollContainer.clientWidth > 0;\n          retryCount--;\n          resolve();\n        }, retryInterval);\n      });\n    }\n    /* eslint-disable no-loop-func, no-await-in-loop */\n\n\n    this._container.scrollLeft = left;\n    this._container.scrollTop = top;\n  }\n\n  move(dx, dy, disableAnimation) {\n    if (disableAnimation) {\n      this._container.scrollLeft += dx;\n      this._container.scrollTop += dy;\n      return;\n    }\n\n    return scroll({\n      element: this._container,\n      dx,\n      dy\n    });\n  }\n\n  getScrollLeft() {\n    return this._container.scrollLeft;\n  }\n\n  getScrollTop() {\n    return this._container.scrollTop;\n  }\n\n  _isTouchInside(touch) {\n    const rect = this._container.getBoundingClientRect();\n\n    const x = this.supportsTouch ? touch.clientX : touch.x;\n    const y = this.supportsTouch ? touch.clientY : touch.y;\n    return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n  }\n\n  ontouchstart(event) {\n    const touch = this.supportsTouch ? event.touches[0] : null;\n\n    if (!this.supportsTouch) {\n      document.addEventListener(\"mouseup\", this.mouseUp, {\n        passive: true\n      });\n      document.addEventListener(\"mousemove\", this.mouseMove, {\n        passive: true\n      });\n    } else {\n      // Needed only on mobile\n      this.startX = touch.pageX;\n      this.startY = touch.pageY;\n    }\n\n    this._prevDragX = this.supportsTouch ? touch.pageX : event.x;\n    this._prevDragY = this.supportsTouch ? touch.pageY : event.y;\n    this._canScroll = this._isTouchInside(this.supportsTouch ? touch : event);\n  }\n\n  ontouchmove(event) {\n    if (!this._canScroll) {\n      return;\n    }\n\n    const container = this._container;\n    const touch = this.supportsTouch ? event.touches[0] : null;\n    const dragX = this.supportsTouch ? touch.pageX : event.x;\n    const dragY = this.supportsTouch ? touch.pageY : event.y;\n    container.scrollLeft += this._prevDragX - dragX;\n    container.scrollTop += this._prevDragY - dragY;\n    this.fireEvent(scrollEventName, {\n      isLeft: dragX > this._prevDragX,\n      isRight: dragX < this._prevDragX\n    });\n    this.cachedValue.dragX = this._prevDragX;\n    this.cachedValue.dragY = this._prevDragY;\n    this._prevDragX = dragX;\n    this._prevDragY = dragY;\n  }\n\n  ontouchend(event) {\n    if (this.supportsTouch) {\n      const deltaX = Math.abs(event.changedTouches[0].pageX - this.startX);\n      const deltaY = Math.abs(event.changedTouches[0].pageY - this.startY);\n\n      if (deltaX < 10 && deltaY < 10) {\n        return;\n      }\n    }\n\n    if (!this._canScroll) {\n      return;\n    }\n\n    const container = this._container;\n    const dragX = this.supportsTouch ? event.changedTouches[0].pageX : event.x;\n    const dragY = this.supportsTouch ? event.changedTouches[0].pageY : event.y;\n    container.scrollLeft += this._prevDragX - dragX;\n    container.scrollTop += this._prevDragY - dragY;\n    const useCachedValues = dragX === this._prevDragX;\n\n    const _dragX = useCachedValues ? this.cachedValue.dragX : dragX; // const _dragY = useCachedValues ? this.cachedValue.dragY : dragY; add if needed\n\n\n    this.fireEvent(touchEndEventName, {\n      isLeft: _dragX < this._prevDragX,\n      isRight: _dragX > this._prevDragX\n    });\n    this._prevDragX = dragX;\n    this._prevDragY = dragY;\n\n    if (!this.supportsTouch) {\n      document.removeEventListener(\"mousemove\", this.mouseMove, {\n        passive: true\n      });\n      document.removeEventListener(\"mouseup\", this.mouseUp);\n    }\n  }\n\n}\n\nexport default ScrollEnablement;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-base/dist/delegate/ScrollEnablement.js"],"names":["supportsTouch","EventProvider","scroll","scrollEventName","touchEndEventName","ScrollEnablement","constructor","containerComponent","mouseMove","ontouchmove","bind","mouseUp","ontouchend","touchStart","ontouchstart","cachedValue","startX","startY","addEventListener","passive","scrollContainer","container","_container","scrollTo","left","top","retryCount","retryInterval","containerPainted","clientHeight","clientWidth","Promise","resolve","setTimeout","scrollLeft","scrollTop","move","dx","dy","disableAnimation","element","getScrollLeft","getScrollTop","_isTouchInside","touch","rect","getBoundingClientRect","x","clientX","y","clientY","right","bottom","event","touches","document","pageX","pageY","_prevDragX","_prevDragY","_canScroll","dragX","dragY","fireEvent","isLeft","isRight","deltaX","Math","abs","changedTouches","deltaY","useCachedValues","_dragX","removeEventListener"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,MAAMC,eAAe,GAAG,QAAxB;AACA,MAAMC,iBAAiB,GAAGJ,aAAa,KAAK,UAAL,GAAkB,SAAzD;;AAEA,MAAMK,gBAAN,SAA+BJ,aAA/B,CAA6C;AAC5CK,EAAAA,WAAW,CAACC,kBAAD,EAAqB;AAC/B;AACA,SAAKA,kBAAL,GAA0BA,kBAA1B;AACA,SAAKC,SAAL,GAAiB,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAjB;AACA,SAAKC,OAAL,GAAe,KAAKC,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAf;AACA,SAAKG,UAAL,GAAkB,KAAKC,YAAL,CAAkBJ,IAAlB,CAAuB,IAAvB,CAAlB;AAEA,SAAKV,aAAL,GAAqBA,aAAa,EAAlC,CAP+B,CAS/B;AACA;AACA;;AACA,SAAKe,WAAL,GAAmB,EAAnB,CAZ+B,CAc/B;AACA;;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,MAAL,GAAc,CAAd;;AAEA,QAAI,KAAKjB,aAAT,EAAwB;AACvBO,MAAAA,kBAAkB,CAACW,gBAAnB,CAAoC,YAApC,EAAkD,KAAKL,UAAvD,EAAmE;AAAEM,QAAAA,OAAO,EAAE;AAAX,OAAnE;AACAZ,MAAAA,kBAAkB,CAACW,gBAAnB,CAAoC,WAApC,EAAiD,KAAKV,SAAtD,EAAiE;AAAEW,QAAAA,OAAO,EAAE;AAAX,OAAjE;AACAZ,MAAAA,kBAAkB,CAACW,gBAAnB,CAAoC,UAApC,EAAgD,KAAKP,OAArD,EAA8D;AAAEQ,QAAAA,OAAO,EAAE;AAAX,OAA9D;AACA,KAJD,MAIO;AACNZ,MAAAA,kBAAkB,CAACW,gBAAnB,CAAoC,WAApC,EAAiD,KAAKL,UAAtD,EAAkE;AAAEM,QAAAA,OAAO,EAAE;AAAX,OAAlE;AACA;AACD;;AAEkB,MAAfC,eAAe,CAACC,SAAD,EAAY;AAC9B,SAAKC,UAAL,GAAkBD,SAAlB;AACA;;AAEkB,MAAfD,eAAe,GAAG;AACrB,WAAO,KAAKE,UAAZ;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACe,QAARC,QAAQ,CAACC,IAAD,EAAOC,GAAP,EAAYC,UAAU,GAAG,CAAzB,EAA4BC,aAAa,GAAG,CAA5C,EAA+C;AAC5D,QAAIC,gBAAgB,GAAG,KAAKR,eAAL,CAAqBS,YAArB,GAAoC,CAApC,IAAyC,KAAKT,eAAL,CAAqBU,WAArB,GAAmC,CAAnG;AAEA;;AACA,WAAO,CAACF,gBAAD,IAAqBF,UAAU,GAAG,CAAzC,EAA4C;AAC3C,YAAM,IAAIK,OAAJ,CAAYC,OAAO,IAAI;AAC5BC,QAAAA,UAAU,CAAC,MAAM;AAChBL,UAAAA,gBAAgB,GAAG,KAAKR,eAAL,CAAqBS,YAArB,GAAoC,CAApC,IAAyC,KAAKT,eAAL,CAAqBU,WAArB,GAAmC,CAA/F;AACAJ,UAAAA,UAAU;AACVM,UAAAA,OAAO;AACP,SAJS,EAIPL,aAJO,CAAV;AAKA,OANK,CAAN;AAOA;AACD;;;AAEA,SAAKL,UAAL,CAAgBY,UAAhB,GAA6BV,IAA7B;AACA,SAAKF,UAAL,CAAgBa,SAAhB,GAA4BV,GAA5B;AACA;;AAEDW,EAAAA,IAAI,CAACC,EAAD,EAAKC,EAAL,EAASC,gBAAT,EAA2B;AAC9B,QAAIA,gBAAJ,EAAsB;AACrB,WAAKjB,UAAL,CAAgBY,UAAhB,IAA8BG,EAA9B;AACA,WAAKf,UAAL,CAAgBa,SAAhB,IAA6BG,EAA7B;AACA;AACA;;AAED,WAAOpC,MAAM,CAAC;AACbsC,MAAAA,OAAO,EAAE,KAAKlB,UADD;AAEbe,MAAAA,EAFa;AAGbC,MAAAA;AAHa,KAAD,CAAb;AAKA;;AAEDG,EAAAA,aAAa,GAAG;AACf,WAAO,KAAKnB,UAAL,CAAgBY,UAAvB;AACA;;AAEDQ,EAAAA,YAAY,GAAG;AACd,WAAO,KAAKpB,UAAL,CAAgBa,SAAvB;AACA;;AAEDQ,EAAAA,cAAc,CAACC,KAAD,EAAQ;AACrB,UAAMC,IAAI,GAAG,KAAKvB,UAAL,CAAgBwB,qBAAhB,EAAb;;AACA,UAAMC,CAAC,GAAG,KAAK/C,aAAL,GAAqB4C,KAAK,CAACI,OAA3B,GAAqCJ,KAAK,CAACG,CAArD;AACA,UAAME,CAAC,GAAG,KAAKjD,aAAL,GAAqB4C,KAAK,CAACM,OAA3B,GAAqCN,KAAK,CAACK,CAArD;AAEA,WAAOF,CAAC,IAAIF,IAAI,CAACrB,IAAV,IAAkBuB,CAAC,IAAIF,IAAI,CAACM,KAA5B,IACHF,CAAC,IAAIJ,IAAI,CAACpB,GADP,IACcwB,CAAC,IAAIJ,IAAI,CAACO,MAD/B;AAEA;;AAEDtC,EAAAA,YAAY,CAACuC,KAAD,EAAQ;AACnB,UAAMT,KAAK,GAAG,KAAK5C,aAAL,GAAqBqD,KAAK,CAACC,OAAN,CAAc,CAAd,CAArB,GAAwC,IAAtD;;AAEA,QAAI,CAAC,KAAKtD,aAAV,EAAyB;AACxBuD,MAAAA,QAAQ,CAACrC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKP,OAA1C,EAAmD;AAAEQ,QAAAA,OAAO,EAAE;AAAX,OAAnD;AACAoC,MAAAA,QAAQ,CAACrC,gBAAT,CAA0B,WAA1B,EAAuC,KAAKV,SAA5C,EAAuD;AAAEW,QAAAA,OAAO,EAAE;AAAX,OAAvD;AACA,KAHD,MAGO;AACN;AACA,WAAKH,MAAL,GAAc4B,KAAK,CAACY,KAApB;AACA,WAAKvC,MAAL,GAAc2B,KAAK,CAACa,KAApB;AACA;;AAED,SAAKC,UAAL,GAAkB,KAAK1D,aAAL,GAAqB4C,KAAK,CAACY,KAA3B,GAAmCH,KAAK,CAACN,CAA3D;AACA,SAAKY,UAAL,GAAkB,KAAK3D,aAAL,GAAqB4C,KAAK,CAACa,KAA3B,GAAmCJ,KAAK,CAACJ,CAA3D;AAEA,SAAKW,UAAL,GAAkB,KAAKjB,cAAL,CAAoB,KAAK3C,aAAL,GAAqB4C,KAArB,GAA6BS,KAAjD,CAAlB;AACA;;AAED5C,EAAAA,WAAW,CAAC4C,KAAD,EAAQ;AAClB,QAAI,CAAC,KAAKO,UAAV,EAAsB;AACrB;AACA;;AAED,UAAMvC,SAAS,GAAG,KAAKC,UAAvB;AACA,UAAMsB,KAAK,GAAG,KAAK5C,aAAL,GAAqBqD,KAAK,CAACC,OAAN,CAAc,CAAd,CAArB,GAAwC,IAAtD;AAEA,UAAMO,KAAK,GAAG,KAAK7D,aAAL,GAAqB4C,KAAK,CAACY,KAA3B,GAAmCH,KAAK,CAACN,CAAvD;AACA,UAAMe,KAAK,GAAG,KAAK9D,aAAL,GAAqB4C,KAAK,CAACa,KAA3B,GAAmCJ,KAAK,CAACJ,CAAvD;AAEA5B,IAAAA,SAAS,CAACa,UAAV,IAAwB,KAAKwB,UAAL,GAAkBG,KAA1C;AACAxC,IAAAA,SAAS,CAACc,SAAV,IAAuB,KAAKwB,UAAL,GAAkBG,KAAzC;AAEA,SAAKC,SAAL,CAAe5D,eAAf,EAAgC;AAC/B6D,MAAAA,MAAM,EAAEH,KAAK,GAAG,KAAKH,UADU;AAE/BO,MAAAA,OAAO,EAAEJ,KAAK,GAAG,KAAKH;AAFS,KAAhC;AAKA,SAAK3C,WAAL,CAAiB8C,KAAjB,GAAyB,KAAKH,UAA9B;AACA,SAAK3C,WAAL,CAAiB+C,KAAjB,GAAyB,KAAKH,UAA9B;AAEA,SAAKD,UAAL,GAAkBG,KAAlB;AACA,SAAKF,UAAL,GAAkBG,KAAlB;AACA;;AAEDlD,EAAAA,UAAU,CAACyC,KAAD,EAAQ;AACjB,QAAI,KAAKrD,aAAT,EAAwB;AACvB,YAAMkE,MAAM,GAAGC,IAAI,CAACC,GAAL,CAASf,KAAK,CAACgB,cAAN,CAAqB,CAArB,EAAwBb,KAAxB,GAAgC,KAAKxC,MAA9C,CAAf;AACA,YAAMsD,MAAM,GAAGH,IAAI,CAACC,GAAL,CAASf,KAAK,CAACgB,cAAN,CAAqB,CAArB,EAAwBZ,KAAxB,GAAgC,KAAKxC,MAA9C,CAAf;;AAEA,UAAIiD,MAAM,GAAG,EAAT,IAAeI,MAAM,GAAG,EAA5B,EAAgC;AAC/B;AACA;AACD;;AAED,QAAI,CAAC,KAAKV,UAAV,EAAsB;AACrB;AACA;;AAED,UAAMvC,SAAS,GAAG,KAAKC,UAAvB;AACA,UAAMuC,KAAK,GAAG,KAAK7D,aAAL,GAAqBqD,KAAK,CAACgB,cAAN,CAAqB,CAArB,EAAwBb,KAA7C,GAAqDH,KAAK,CAACN,CAAzE;AACA,UAAMe,KAAK,GAAG,KAAK9D,aAAL,GAAqBqD,KAAK,CAACgB,cAAN,CAAqB,CAArB,EAAwBZ,KAA7C,GAAqDJ,KAAK,CAACJ,CAAzE;AAEA5B,IAAAA,SAAS,CAACa,UAAV,IAAwB,KAAKwB,UAAL,GAAkBG,KAA1C;AACAxC,IAAAA,SAAS,CAACc,SAAV,IAAuB,KAAKwB,UAAL,GAAkBG,KAAzC;AAEA,UAAMS,eAAe,GAAGV,KAAK,KAAK,KAAKH,UAAvC;;AACA,UAAMc,MAAM,GAAGD,eAAe,GAAG,KAAKxD,WAAL,CAAiB8C,KAApB,GAA4BA,KAA1D,CAtBiB,CAuBjB;;;AAEA,SAAKE,SAAL,CAAe3D,iBAAf,EAAkC;AACjC4D,MAAAA,MAAM,EAAEQ,MAAM,GAAG,KAAKd,UADW;AAEjCO,MAAAA,OAAO,EAAEO,MAAM,GAAG,KAAKd;AAFU,KAAlC;AAKA,SAAKA,UAAL,GAAkBG,KAAlB;AACA,SAAKF,UAAL,GAAkBG,KAAlB;;AAEA,QAAI,CAAC,KAAK9D,aAAV,EAAyB;AACxBuD,MAAAA,QAAQ,CAACkB,mBAAT,CAA6B,WAA7B,EAA0C,KAAKjE,SAA/C,EAA0D;AAAEW,QAAAA,OAAO,EAAE;AAAX,OAA1D;AACAoC,MAAAA,QAAQ,CAACkB,mBAAT,CAA6B,SAA7B,EAAwC,KAAK9D,OAA7C;AACA;AACD;;AAjL2C;;AAoL7C,eAAeN,gBAAf","sourcesContent":["import { supportsTouch } from \"../Device.js\";\nimport EventProvider from \"../EventProvider.js\";\nimport scroll from \"../animations/scroll.js\";\n\nconst scrollEventName = \"scroll\";\nconst touchEndEventName = supportsTouch() ? \"touchend\" : \"mouseup\";\n\nclass ScrollEnablement extends EventProvider {\n\tconstructor(containerComponent) {\n\t\tsuper();\n\t\tthis.containerComponent = containerComponent;\n\t\tthis.mouseMove = this.ontouchmove.bind(this);\n\t\tthis.mouseUp = this.ontouchend.bind(this);\n\t\tthis.touchStart = this.ontouchstart.bind(this);\n\n\t\tthis.supportsTouch = supportsTouch();\n\n\t\t// On Android devices touchmove is thrown one more time than neccessary (together with touchend)\n\t\t// so we have to cache the previus coordinates in order to provide correct parameters in the\n\t\t// event for Android\n\t\tthis.cachedValue = {};\n\n\t\t// In components like Carousel you need to know if the user has clicked on something or swiped\n\t\t// in order to throw the needed event or not\n\t\tthis.startX = 0;\n\t\tthis.startY = 0;\n\n\t\tif (this.supportsTouch) {\n\t\t\tcontainerComponent.addEventListener(\"touchstart\", this.touchStart, { passive: true });\n\t\t\tcontainerComponent.addEventListener(\"touchmove\", this.mouseMove, { passive: true });\n\t\t\tcontainerComponent.addEventListener(\"touchend\", this.mouseUp, { passive: true });\n\t\t} else {\n\t\t\tcontainerComponent.addEventListener(\"mousedown\", this.touchStart, { passive: true });\n\t\t}\n\t}\n\n\tset scrollContainer(container) {\n\t\tthis._container = container;\n\t}\n\n\tget scrollContainer() {\n\t\treturn this._container;\n\t}\n\n\t/**\n\t * Scrolls the container to the left/top position, retrying retryCount times, if the container is not yet painted\n\t *\n\t * @param left\n\t * @param top\n\t * @param retryCount\n\t * @param retryInterval\n\t * @returns {Promise<void>} resolved when scrolled successfully\n\t */\n\tasync scrollTo(left, top, retryCount = 0, retryInterval = 0) {\n\t\tlet containerPainted = this.scrollContainer.clientHeight > 0 && this.scrollContainer.clientWidth > 0;\n\n\t\t/* eslint-disable no-loop-func, no-await-in-loop */\n\t\twhile (!containerPainted && retryCount > 0) {\n\t\t\tawait new Promise(resolve => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tcontainerPainted = this.scrollContainer.clientHeight > 0 && this.scrollContainer.clientWidth > 0;\n\t\t\t\t\tretryCount--;\n\t\t\t\t\tresolve();\n\t\t\t\t}, retryInterval);\n\t\t\t});\n\t\t}\n\t\t/* eslint-disable no-loop-func, no-await-in-loop */\n\n\t\tthis._container.scrollLeft = left;\n\t\tthis._container.scrollTop = top;\n\t}\n\n\tmove(dx, dy, disableAnimation) {\n\t\tif (disableAnimation) {\n\t\t\tthis._container.scrollLeft += dx;\n\t\t\tthis._container.scrollTop += dy;\n\t\t\treturn;\n\t\t}\n\n\t\treturn scroll({\n\t\t\telement: this._container,\n\t\t\tdx,\n\t\t\tdy,\n\t\t});\n\t}\n\n\tgetScrollLeft() {\n\t\treturn this._container.scrollLeft;\n\t}\n\n\tgetScrollTop() {\n\t\treturn this._container.scrollTop;\n\t}\n\n\t_isTouchInside(touch) {\n\t\tconst rect = this._container.getBoundingClientRect();\n\t\tconst x = this.supportsTouch ? touch.clientX : touch.x;\n\t\tconst y = this.supportsTouch ? touch.clientY : touch.y;\n\n\t\treturn x >= rect.left && x <= rect.right\n\t\t\t&& y >= rect.top && y <= rect.bottom;\n\t}\n\n\tontouchstart(event) {\n\t\tconst touch = this.supportsTouch ? event.touches[0] : null;\n\n\t\tif (!this.supportsTouch) {\n\t\t\tdocument.addEventListener(\"mouseup\", this.mouseUp, { passive: true });\n\t\t\tdocument.addEventListener(\"mousemove\", this.mouseMove, { passive: true });\n\t\t} else {\n\t\t\t// Needed only on mobile\n\t\t\tthis.startX = touch.pageX;\n\t\t\tthis.startY = touch.pageY;\n\t\t}\n\n\t\tthis._prevDragX = this.supportsTouch ? touch.pageX : event.x;\n\t\tthis._prevDragY = this.supportsTouch ? touch.pageY : event.y;\n\n\t\tthis._canScroll = this._isTouchInside(this.supportsTouch ? touch : event);\n\t}\n\n\tontouchmove(event) {\n\t\tif (!this._canScroll) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst container = this._container;\n\t\tconst touch = this.supportsTouch ? event.touches[0] : null;\n\n\t\tconst dragX = this.supportsTouch ? touch.pageX : event.x;\n\t\tconst dragY = this.supportsTouch ? touch.pageY : event.y;\n\n\t\tcontainer.scrollLeft += this._prevDragX - dragX;\n\t\tcontainer.scrollTop += this._prevDragY - dragY;\n\n\t\tthis.fireEvent(scrollEventName, {\n\t\t\tisLeft: dragX > this._prevDragX,\n\t\t\tisRight: dragX < this._prevDragX,\n\t\t});\n\n\t\tthis.cachedValue.dragX = this._prevDragX;\n\t\tthis.cachedValue.dragY = this._prevDragY;\n\n\t\tthis._prevDragX = dragX;\n\t\tthis._prevDragY = dragY;\n\t}\n\n\tontouchend(event) {\n\t\tif (this.supportsTouch) {\n\t\t\tconst deltaX = Math.abs(event.changedTouches[0].pageX - this.startX);\n\t\t\tconst deltaY = Math.abs(event.changedTouches[0].pageY - this.startY);\n\n\t\t\tif (deltaX < 10 && deltaY < 10) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (!this._canScroll) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst container = this._container;\n\t\tconst dragX = this.supportsTouch ? event.changedTouches[0].pageX : event.x;\n\t\tconst dragY = this.supportsTouch ? event.changedTouches[0].pageY : event.y;\n\n\t\tcontainer.scrollLeft += this._prevDragX - dragX;\n\t\tcontainer.scrollTop += this._prevDragY - dragY;\n\n\t\tconst useCachedValues = dragX === this._prevDragX;\n\t\tconst _dragX = useCachedValues ? this.cachedValue.dragX : dragX;\n\t\t// const _dragY = useCachedValues ? this.cachedValue.dragY : dragY; add if needed\n\n\t\tthis.fireEvent(touchEndEventName, {\n\t\t\tisLeft: _dragX < this._prevDragX,\n\t\t\tisRight: _dragX > this._prevDragX,\n\t\t});\n\n\t\tthis._prevDragX = dragX;\n\t\tthis._prevDragY = dragY;\n\n\t\tif (!this.supportsTouch) {\n\t\t\tdocument.removeEventListener(\"mousemove\", this.mouseMove, { passive: true });\n\t\t\tdocument.removeEventListener(\"mouseup\", this.mouseUp);\n\t\t}\n\t}\n}\n\nexport default ScrollEnablement;\n"]},"metadata":{},"sourceType":"module"}