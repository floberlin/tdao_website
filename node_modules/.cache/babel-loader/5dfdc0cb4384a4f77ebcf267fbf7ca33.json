{"ast":null,"code":"import { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { getNextZIndex } from \"@ui5/webcomponents-base/dist/util/PopupUtils.js\";\nimport { RESPONSIVE_POPOVER_CLOSE_DIALOG_BUTTON } from \"./generated/i18n/i18n-defaults.js\";\nimport ResponsivePopoverTemplate from \"./generated/templates/ResponsivePopoverTemplate.lit.js\";\nimport Popover from \"./Popover.js\";\nimport Dialog from \"./Dialog.js\";\nimport Button from \"./Button.js\";\nimport Title from \"./Title.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\"; // Styles\n\nimport ResponsivePopoverCss from \"./generated/themes/ResponsivePopover.css.js\";\nconst POPOVER_MIN_WIDTH = 100;\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-responsive-popover\",\n  properties:\n  /** @lends sap.ui.webcomponents.main.ResponsivePopover.prototype */\n  {\n    /**\n     * Defines whether the component will stretch to fit its content.\n     * <br/><b>Note:</b> by default the popover will be as wide as its opener component and will grow if the content is not fitting.\n     * <br/><b>Note:</b> if set to true, it will take only as much space as it needs.\n     * @private\n     */\n    noStretch: {\n      type: Boolean\n    },\n\n    /**\n     * Defines if padding would be added around the content.\n     * @private\n     */\n    withPadding: {\n      type: Boolean\n    },\n\n    /**\n     * Defines if only the content would be displayed (without header and footer) in the popover on Desktop.\n     * By default both the header and footer would be displayed.\n     * @private\n     */\n    contentOnlyOnDesktop: {\n      type: Boolean\n    },\n\n    /**\n     * Used internaly for controls which must not have header.\n     * @private\n     */\n    _hideHeader: {\n      type: Boolean\n    }\n  }\n};\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n * The <code>ui5-responsive-popover</code> acts as a Popover on desktop and tablet, while on phone it acts as a Dialog.\n * The component improves tremendously the user experience on mobile.\n *\n * <h3>Usage</h3>\n * Use it when you want to make sure that all the content is visible on any device.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.ResponsivePopover\n * @extends Popover\n * @tagname ui5-responsive-popover\n * @since 1.0.0-rc.6\n * @public\n */\n\nclass ResponsivePopover extends Popover {\n  constructor() {\n    super();\n    this.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n  }\n\n  static get metadata() {\n    return metadata;\n  }\n\n  static get styles() {\n    return [Popover.styles, ResponsivePopoverCss];\n  }\n\n  get classes() {\n    const allClasses = super.classes;\n    allClasses.header = {\n      \"ui5-responsive-popover-header\": true,\n      \"ui5-responsive-popover-header-no-title\": !this.headerText\n    };\n    return allClasses;\n  }\n\n  static get template() {\n    return ResponsivePopoverTemplate;\n  }\n\n  static get dependencies() {\n    return [Button, Dialog, Title];\n  }\n  /**\n   * Shows popover on desktop and dialog on mobile.\n   * @param {HTMLElement} opener the element that the popover is shown at\n   * @public\n   * @async\n   * @returns {Promise} Resolves when the responsive popover is open\n   */\n\n\n  async showAt(opener) {\n    this.style.display = this._isPhone ? \"contents\" : \"\";\n\n    if (this.isOpen() || this._dialog && this._dialog.isOpen()) {\n      return;\n    }\n\n    if (!isPhone()) {\n      // make popover width be >= of the opener's width\n      if (!this.noStretch) {\n        this._minWidth = Math.max(POPOVER_MIN_WIDTH, opener.getBoundingClientRect().width);\n      }\n\n      await super.showAt(opener);\n    } else {\n      this.style.zIndex = getNextZIndex();\n      await this._dialog.show();\n    }\n  }\n  /**\n   * Closes the popover/dialog.\n   * @public\n   */\n\n\n  close(escPressed = false, preventRegistryUpdate = false, preventFocusRestore = false) {\n    if (!isPhone()) {\n      super.close(escPressed, preventRegistryUpdate, preventFocusRestore);\n    } else {\n      this._dialog.close();\n    }\n  }\n\n  toggle(opener) {\n    if (this.isOpen()) {\n      return this.close();\n    }\n\n    this.showAt(opener);\n  }\n  /**\n   * Tells if the responsive popover is open\n   * @public\n   * @returns {boolean}\n   */\n\n\n  isOpen() {\n    return isPhone() ? this._dialog.isOpen() : super.isOpen();\n  }\n\n  get styles() {\n    const popoverStyles = super.styles;\n    popoverStyles.root = {\n      \"min-width\": `${this._minWidth}px`\n    };\n    return popoverStyles;\n  }\n\n  get _dialog() {\n    return this.shadowRoot.querySelector(\"[ui5-dialog]\");\n  }\n\n  get _isPhone() {\n    return isPhone();\n  }\n\n  get _displayHeader() {\n    return (this._isPhone || !this.contentOnlyOnDesktop) && super._displayHeader;\n  }\n\n  get _displayFooter() {\n    return this._isPhone || !this.contentOnlyOnDesktop;\n  }\n\n  get _closeDialogAriaLabel() {\n    return this.i18nBundle.getText(RESPONSIVE_POPOVER_CLOSE_DIALOG_BUTTON);\n  }\n\n  _afterDialogOpen(event) {\n    this.opened = true;\n\n    this._propagateDialogEvent(event);\n  }\n\n  _afterDialogClose(event) {\n    this.opened = false;\n\n    this._propagateDialogEvent(event);\n  }\n\n  _propagateDialogEvent(event) {\n    const type = event.type.replace(\"ui5-\", \"\");\n    this.fireEvent(type, event.detail);\n  }\n\n  static async onDefine() {\n    await fetchI18nBundle(\"@ui5/webcomponents\");\n  }\n\n}\n\nResponsivePopover.define();\nexport default ResponsivePopover;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/ResponsivePopover.js"],"names":["isPhone","fetchI18nBundle","getI18nBundle","getNextZIndex","RESPONSIVE_POPOVER_CLOSE_DIALOG_BUTTON","ResponsivePopoverTemplate","Popover","Dialog","Button","Title","ResponsivePopoverCss","POPOVER_MIN_WIDTH","metadata","tag","properties","noStretch","type","Boolean","withPadding","contentOnlyOnDesktop","_hideHeader","ResponsivePopover","constructor","i18nBundle","styles","classes","allClasses","header","headerText","template","dependencies","showAt","opener","style","display","_isPhone","isOpen","_dialog","_minWidth","Math","max","getBoundingClientRect","width","zIndex","show","close","escPressed","preventRegistryUpdate","preventFocusRestore","toggle","popoverStyles","root","shadowRoot","querySelector","_displayHeader","_displayFooter","_closeDialogAriaLabel","getText","_afterDialogOpen","event","opened","_propagateDialogEvent","_afterDialogClose","replace","fireEvent","detail","onDefine","define"],"mappings":"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","sourcesContent":["import { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { getNextZIndex } from \"@ui5/webcomponents-base/dist/util/PopupUtils.js\";\nimport { RESPONSIVE_POPOVER_CLOSE_DIALOG_BUTTON } from \"./generated/i18n/i18n-defaults.js\";\nimport ResponsivePopoverTemplate from \"./generated/templates/ResponsivePopoverTemplate.lit.js\";\nimport Popover from \"./Popover.js\";\nimport Dialog from \"./Dialog.js\";\nimport Button from \"./Button.js\";\nimport Title from \"./Title.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\n\n// Styles\nimport ResponsivePopoverCss from \"./generated/themes/ResponsivePopover.css.js\";\n\nconst POPOVER_MIN_WIDTH = 100;\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-responsive-popover\",\n\tproperties: /** @lends sap.ui.webcomponents.main.ResponsivePopover.prototype */ {\n\n\t\t/**\n\t\t * Defines whether the component will stretch to fit its content.\n\t\t * <br/><b>Note:</b> by default the popover will be as wide as its opener component and will grow if the content is not fitting.\n\t\t * <br/><b>Note:</b> if set to true, it will take only as much space as it needs.\n\t\t * @private\n\t\t */\n\t\tnoStretch: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines if padding would be added around the content.\n\t\t * @private\n\t\t */\n\t\twithPadding: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines if only the content would be displayed (without header and footer) in the popover on Desktop.\n\t\t * By default both the header and footer would be displayed.\n\t\t * @private\n\t\t */\n\t\tcontentOnlyOnDesktop: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Used internaly for controls which must not have header.\n\t\t * @private\n\t\t */\n\t\t_hideHeader: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n * The <code>ui5-responsive-popover</code> acts as a Popover on desktop and tablet, while on phone it acts as a Dialog.\n * The component improves tremendously the user experience on mobile.\n *\n * <h3>Usage</h3>\n * Use it when you want to make sure that all the content is visible on any device.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.ResponsivePopover\n * @extends Popover\n * @tagname ui5-responsive-popover\n * @since 1.0.0-rc.6\n * @public\n */\nclass ResponsivePopover extends Popover {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get styles() {\n\t\treturn [Popover.styles, ResponsivePopoverCss];\n\t}\n\n\tget classes() {\n\t\tconst allClasses = super.classes;\n\n\t\tallClasses.header = {\n\t\t\t\"ui5-responsive-popover-header\": true,\n\t\t\t\"ui5-responsive-popover-header-no-title\": !this.headerText,\n\t\t};\n\n\t\treturn allClasses;\n\t}\n\n\tstatic get template() {\n\t\treturn ResponsivePopoverTemplate;\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tButton,\n\t\t\tDialog,\n\t\t\tTitle,\n\t\t];\n\t}\n\n\t/**\n\t * Shows popover on desktop and dialog on mobile.\n\t * @param {HTMLElement} opener the element that the popover is shown at\n\t * @public\n\t * @async\n\t * @returns {Promise} Resolves when the responsive popover is open\n\t */\n\tasync showAt(opener) {\n\t\tthis.style.display = this._isPhone ? \"contents\" : \"\";\n\n\t\tif (this.isOpen() || (this._dialog && this._dialog.isOpen())) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isPhone()) {\n\t\t\t// make popover width be >= of the opener's width\n\t\t\tif (!this.noStretch) {\n\t\t\t\tthis._minWidth = Math.max(POPOVER_MIN_WIDTH, opener.getBoundingClientRect().width);\n\t\t\t}\n\t\t\tawait super.showAt(opener);\n\t\t} else {\n\t\t\tthis.style.zIndex = getNextZIndex();\n\t\t\tawait this._dialog.show();\n\t\t}\n\t}\n\n\t/**\n\t * Closes the popover/dialog.\n\t * @public\n\t */\n\tclose(escPressed = false, preventRegistryUpdate = false, preventFocusRestore = false) {\n\t\tif (!isPhone()) {\n\t\t\tsuper.close(escPressed, preventRegistryUpdate, preventFocusRestore);\n\t\t} else {\n\t\t\tthis._dialog.close();\n\t\t}\n\t}\n\n\ttoggle(opener) {\n\t\tif (this.isOpen()) {\n\t\t\treturn this.close();\n\t\t}\n\n\t\tthis.showAt(opener);\n\t}\n\n\t/**\n\t * Tells if the responsive popover is open\n\t * @public\n\t * @returns {boolean}\n\t */\n\tisOpen() {\n\t\treturn isPhone() ? this._dialog.isOpen() : super.isOpen();\n\t}\n\n\tget styles() {\n\t\tconst popoverStyles = super.styles;\n\n\t\tpopoverStyles.root = {\n\t\t\t\"min-width\": `${this._minWidth}px`,\n\t\t};\n\n\t\treturn popoverStyles;\n\t}\n\n\tget _dialog() {\n\t\treturn this.shadowRoot.querySelector(\"[ui5-dialog]\");\n\t}\n\n\tget _isPhone() {\n\t\treturn isPhone();\n\t}\n\n\tget _displayHeader() {\n\t\treturn (this._isPhone || !this.contentOnlyOnDesktop) && super._displayHeader;\n\t}\n\n\tget _displayFooter() {\n\t\treturn this._isPhone || !this.contentOnlyOnDesktop;\n\t}\n\n\tget _closeDialogAriaLabel() {\n\t\treturn this.i18nBundle.getText(RESPONSIVE_POPOVER_CLOSE_DIALOG_BUTTON);\n\t}\n\n\t_afterDialogOpen(event) {\n\t\tthis.opened = true;\n\t\tthis._propagateDialogEvent(event);\n\t}\n\n\t_afterDialogClose(event) {\n\t\tthis.opened = false;\n\t\tthis._propagateDialogEvent(event);\n\t}\n\n\t_propagateDialogEvent(event) {\n\t\tconst type = event.type.replace(\"ui5-\", \"\");\n\n\t\tthis.fireEvent(type, event.detail);\n\t}\n\n\tstatic async onDefine() {\n\t\tawait fetchI18nBundle(\"@ui5/webcomponents\");\n\t}\n}\n\nResponsivePopover.define();\n\nexport default ResponsivePopover;\n"]},"metadata":{},"sourceType":"module"}