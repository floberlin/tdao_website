{"ast":null,"code":"import _regeneratorRuntime from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport { isShow, isDown, isUp, isBackSpace, isSpace, isLeft, isRight, isEscape, isEnter } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport \"@ui5/webcomponents-icons/dist/slim-arrow-down.js\";\nimport { isIE, isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\nimport \"@ui5/webcomponents-icons/dist/multiselect-all.js\";\nimport \"@ui5/webcomponents-icons/dist/not-editable.js\";\nimport MultiComboBoxItem from \"./MultiComboBoxItem.js\";\nimport Tokenizer from \"./Tokenizer.js\";\nimport Token from \"./Token.js\";\nimport Icon from \"./Icon.js\";\nimport Popover from \"./Popover.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport ToggleButton from \"./ToggleButton.js\";\nimport * as Filters from \"./ComboBoxFilters.js\";\nimport Button from \"./Button.js\";\nimport { VALUE_STATE_SUCCESS, VALUE_STATE_ERROR, VALUE_STATE_WARNING, VALUE_STATE_INFORMATION, INPUT_SUGGESTIONS_TITLE, SELECT_OPTIONS, MULTICOMBOBOX_DIALOG_OK_BUTTON, VALUE_STATE_ERROR_ALREADY_SELECTED } from \"./generated/i18n/i18n-defaults.js\"; // Templates\n\nimport MultiComboBoxTemplate from \"./generated/templates/MultiComboBoxTemplate.lit.js\";\nimport MultiComboBoxPopoverTemplate from \"./generated/templates/MultiComboBoxPopoverTemplate.lit.js\"; // Styles\n\nimport styles from \"./generated/themes/MultiComboBox.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ValueStateMessageCss from \"./generated/themes/ValueStateMessage.css.js\";\nimport SuggestionsCss from \"./generated/themes/Suggestions.css.js\";\n/**\n * @public\n */\n\nvar metadata = {\n  tag: \"ui5-multi-combobox\",\n  languageAware: true,\n  managedSlots: true,\n  slots:\n  /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */\n  {\n    /**\n     * Defines the component items.\n     *\n     * @type {sap.ui.webcomponents.main.IMultiComboBoxItem[]}\n     * @slot items\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement,\n      invalidateOnChildChange: true\n    },\n\n    /**\n    * Defines the icon to be displayed in the component.\n    *\n    * @type {sap.ui.webcomponents.main.IIcon}\n    * @slot\n    * @public\n    * @since 1.0.0-rc.9\n    */\n    icon: {\n      type: HTMLElement\n    },\n\n    /**\n     * Defines the value state message that will be displayed as pop up under the component.\n     * <br><br>\n     *\n     * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n     * <br>\n     * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n     * when the component is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n     * @type {HTMLElement[]}\n     * @since 1.0.0-rc.9\n     * @slot\n     * @public\n     */\n    valueStateMessage: {\n      type: HTMLElement\n    }\n  },\n  properties:\n  /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */\n  {\n    /**\n     * Defines the value of the component.\n     * <br><br>\n     * <b>Note:</b> The property is updated upon typing.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    value: {\n      type: String,\n      defaultValue: \"\"\n    },\n\n    /**\n     * Defines a short hint intended to aid the user with data entry when the\n     * component has no value.\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    placeholder: {\n      type: String,\n      defaultValue: \"\"\n    },\n\n    /**\n     * Defines if the user input will be prevented, if no matching item has been found\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    allowCustomValues: {\n      type: Boolean\n    },\n\n    /**\n     * Defines whether the component is in disabled state.\n     * <br><br>\n     * <b>Note:</b> A disabled component is completely noninteractive.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    disabled: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the value state of the component.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>None</code></li>\n     * <li><code>Error</code></li>\n     * <li><code>Warning</code></li>\n     * <li><code>Success</code></li>\n     * <li><code>Information</code></li>\n     * </ul>\n     *\n     * @type {ValueState}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    valueState: {\n      type: ValueState,\n      defaultValue: ValueState.None\n    },\n\n    /**\n     * Defines whether the component is read-only.\n     * <br><br>\n     * <b>Note:</b> A read-only component is not editable,\n     * but still provides visual feedback upon user interaction.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    readonly: {\n      type: Boolean\n    },\n\n    /**\n     * Defines whether the component is required.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.5\n     */\n    required: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the filter type of the component.\n     * Available options are: <code>StartsWithPerTerm</code>, <code>StartsWith</code>, <code>Contains</code> and <code>None</code>.\n     *\n     * @type {string}\n     * @defaultvalue \"StartsWithPerTerm\"\n     * @public\n     */\n    filter: {\n      type: String,\n      defaultValue: \"StartsWithPerTerm\"\n    },\n\n    /**\n     * Indicates whether the dropdown is open. True if the dropdown is open, false otherwise.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @readonly\n     * @since 1.0.0-rc.5\n     * @public\n     */\n    open: {\n      type: Boolean\n    },\n    _filteredItems: {\n      type: Object\n    },\n    filterSelected: {\n      type: Boolean\n    },\n    focused: {\n      type: Boolean\n    },\n    _tokenizerFocused: {\n      type: Boolean\n    },\n    _iconPressed: {\n      type: Boolean,\n      noAttribute: true\n    },\n    _inputWidth: {\n      type: Integer,\n      noAttribute: true\n    },\n    _listWidth: {\n      type: Integer,\n      defaultValue: 0,\n      noAttribute: true\n    },\n    _performingSelectionTwice: {\n      type: Boolean\n    }\n  },\n  events:\n  /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */\n  {\n    /**\n     * Fired when the input operation has finished by pressing Enter or on focusout.\n     *\n     * @event\n     * @public\n     */\n    change: {},\n\n    /**\n     * Fired when the value of the component changes at each keystroke.\n     *\n     * @event\n     * @public\n     */\n    input: {},\n\n    /**\n     * Fired when the dropdown is opened or closed.\n     *\n     * @event sap.ui.webcomponents.main.MultiComboBox#open-change\n     * @since 1.0.0-rc.5\n     * @public\n     */\n    \"open-change\": {},\n\n    /**\n     * Fired when selection is changed by user interaction\n     * in <code>SingleSelect</code> and <code>MultiSelect</code> modes.\n     *\n     * @event sap.ui.webcomponents.main.MultiComboBox#selection-change\n     * @param {Array} items an array of the selected items.\n     * @public\n     */\n    \"selection-change\": {\n      detail: {\n        items: {\n          type: Array\n        }\n      }\n    }\n  }\n};\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-multi-combobox</code> component consists of a list box with items and a text field allowing the user to either type a value directly into the text field, or choose from the list of existing items.\n *\n * The drop-down list is used for selecting and filtering values, it enables users to select one or more options from a predefined list. The control provides an editable input field to filter the list, and a dropdown arrow to expand/collapse the list of available options.\n * The options in the list have checkboxes that permit multi-selection. Entered values are displayed as tokens.\n * <h3>Structure</h3>\n * The <code>ui5-multi-combobox</code> consists of the following elements:\n * <ul>\n * <li> Tokenizer - a list of tokens with selected options.\n * <li> Input field - displays the selected option/s as token/s. Users can type to filter the list.\n * <li> Drop-down arrow - expands\\collapses the option list.</li>\n * <li> Option list - the list of available options.</li>\n * </ul>\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-multi-combobox</code> provides advanced keyboard handling.\n *\n * <h4>Picker</h4>\n * If the <code>ui5-multi-combobox</code> is focused,\n * you can open or close the drop-down by pressing <code>F4</code>, <code>ALT+UP</code> or <code>ALT+DOWN</code> keys.\n * Once the drop-down is opened, you can use the <code>UP</code> and <code>DOWN</code> arrow keys\n * to navigate through the available options and select one by pressing the <code>Space</code> or <code>Enter</code> keys.\n * <br>\n *\n * <h4>Tokens</h4>\n * <ul>\n * <li> Left/Right arrow keys - moves the focus selection form the currently focused token to the previous/next one (if available). </li>\n * <li> Delete -  deletes the token and focuses the previous token. </li>\n * <li> Backspace -  deletes the token and focus the next token. </li>\n * </ul>\n *\n * <h3>CSS Shadow Parts</h3>\n *\n * <ui5-link target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::part\">CSS Shadow Parts</ui5-link> allow developers to style elements inside the Shadow DOM.\n * <br>\n * The <code>ui5-multi-combobox</code> exposes the following CSS Shadow Parts:\n * <ul>\n * <li>token-{index} - Used to style each token(where <code>token-0</code> corresponds to the first item)</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/MultiComboBox\";</code>\n *\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MultiComboBox\n * @extends UI5Element\n * @tagname ui5-multi-combobox\n * @public\n * @appenddocs MultiComboBoxItem\n * @since 0.11.0\n */\n\nvar MultiComboBox = /*#__PURE__*/function (_UI5Element) {\n  _inherits(MultiComboBox, _UI5Element);\n\n  var _super = _createSuper(MultiComboBox);\n\n  function MultiComboBox() {\n    var _this;\n\n    _classCallCheck(this, MultiComboBox);\n\n    _this = _super.call(this);\n    _this._filteredItems = [];\n    _this.selectedValues = [];\n    _this._inputLastValue = \"\";\n    _this._valueBeforeOpen = \"\";\n    _this._deleting = false;\n    _this._validationTimeout = null;\n    _this._handleResizeBound = _this._handleResize.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(MultiComboBox, [{\n    key: \"onEnterDOM\",\n    value: function onEnterDOM() {\n      ResizeHandler.register(this, this._handleResizeBound);\n    }\n  }, {\n    key: \"onExitDOM\",\n    value: function onExitDOM() {\n      ResizeHandler.deregister(this, this._handleResizeBound);\n    }\n  }, {\n    key: \"_handleResize\",\n    value: function _handleResize() {\n      this._inputWidth = this.offsetWidth;\n    }\n  }, {\n    key: \"_inputChange\",\n    value: function _inputChange() {\n      this.fireEvent(\"change\");\n    }\n  }, {\n    key: \"togglePopover\",\n    value: function togglePopover() {\n      this.allItemsPopover.toggle(this);\n    }\n  }, {\n    key: \"_showFilteredItems\",\n    value: function _showFilteredItems() {\n      this.filterSelected = true;\n      this._showMorePressed = true;\n      this.togglePopover();\n    }\n  }, {\n    key: \"filterSelectedItems\",\n    value: function filterSelectedItems(event) {\n      this.filterSelected = event.target.pressed;\n      this.selectedItems = this._filteredItems.filter(function (item) {\n        return item.selected;\n      });\n    }\n  }, {\n    key: \"_showAllItemsButtonPressed\",\n    get: function get() {\n      return this.filterSelected;\n    }\n  }, {\n    key: \"_inputDom\",\n    get: function get() {\n      return this.shadowRoot.querySelector(\"#ui5-multi-combobox-input\");\n    }\n  }, {\n    key: \"_inputLiveChange\",\n    value: function _inputLiveChange(event) {\n      var input = event.target;\n      var value = input.value;\n\n      var filteredItems = this._filterItems(value);\n\n      var oldValueState = this.valueState;\n\n      if (this.filterSelected) {\n        this.filterSelected = false;\n      }\n      /* skip calling change event when an input with a placeholder is focused on IE\n      \t- value of the host and the internal input should be differnt in case of actual input\n      \t- input is called when a key is pressed => keyup should not be called yet\n      */\n\n\n      var skipFiring = this._inputDom.value === this.value && isIE() && !this._keyDown && !!this.placeholder;\n\n      if (skipFiring) {\n        event.preventDefault();\n        return;\n      }\n\n      if (this._validationTimeout) {\n        input.value = this._inputLastValue;\n        return;\n      }\n\n      if (!filteredItems.length && value && !this.allowCustomValues) {\n        input.value = this._inputLastValue;\n        this.valueState = \"Error\";\n\n        this._resetValueState(oldValueState);\n\n        return;\n      }\n\n      this._inputLastValue = input.value;\n      this.value = input.value;\n      this._filteredItems = filteredItems;\n\n      if (!isPhone()) {\n        if (filteredItems.length === 0) {\n          this.allItemsPopover.close();\n        } else {\n          this.allItemsPopover.showAt(this);\n        }\n      }\n\n      this.fireEvent(\"input\");\n    }\n  }, {\n    key: \"_tokenDelete\",\n    value: function _tokenDelete(event) {\n      var token = event.detail.ref;\n      var deletingItem = this.items.find(function (item) {\n        return item._id === token.getAttribute(\"data-ui5-id\");\n      });\n      deletingItem.selected = false;\n      this._deleting = true;\n      this.fireSelectionChange();\n    }\n  }, {\n    key: \"_getPlaceholder\",\n    get: function get() {\n      if (this._tokenizer && this._tokenizer.tokens.length) {\n        return \"\";\n      }\n\n      return this.placeholder;\n    }\n  }, {\n    key: \"_handleLeft\",\n    value: function _handleLeft() {\n      var cursorPosition = this.getDomRef().querySelector(\"input\").selectionStart;\n\n      if (cursorPosition === 0) {\n        this._tokenizer._focusLastToken();\n      }\n    }\n  }, {\n    key: \"_tokenizerFocusOut\",\n    value: function _tokenizerFocusOut(event) {\n      var _this2 = this;\n\n      this._tokenizerFocused = false;\n      var tokensCount = this._tokenizer.tokens.length - 1;\n\n      if (!event.relatedTarget || event.relatedTarget.localName !== \"ui5-token\") {\n        this._tokenizer.tokens.forEach(function (token) {\n          token.selected = false;\n        });\n\n        this._tokenizer.scrollToStart();\n      }\n\n      if (tokensCount === 0 && this._deleting) {\n        setTimeout(function () {\n          if (!isPhone()) {\n            _this2.shadowRoot.querySelector(\"input\").focus();\n          }\n\n          _this2._deleting = false;\n        }, 0);\n      }\n    }\n  }, {\n    key: \"_tokenizerFocusIn\",\n    value: function _tokenizerFocusIn() {\n      this._tokenizerFocused = true;\n      this.focused = false;\n    }\n  }, {\n    key: \"_onkeyup\",\n    value: function _onkeyup() {\n      this._keyDown = false;\n    }\n  }, {\n    key: \"_onkeydown\",\n    value: function () {\n      var _onkeydown2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (isLeft(event)) {\n                  this._handleLeft(event);\n                }\n\n                if (isShow(event) && !this.readonly && !this.disabled) {\n                  event.preventDefault();\n                  this.togglePopover();\n                }\n\n                if (this.open && (isUp(event) || isDown(event))) {\n                  this._handleArrowNavigation(event);\n                }\n\n                if (isBackSpace(event) && event.target.value === \"\") {\n                  event.preventDefault();\n\n                  this._tokenizer._focusLastToken();\n                } // Reset value on ESC\n\n\n                if (isEscape(event) && (!this.allowCustomValues || !this.open && this.allowCustomValues)) {\n                  this.value = this._lastValue;\n                }\n\n                if (isEnter(event)) {\n                  this.handleEnter();\n                }\n\n                this._keyDown = true;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _onkeydown(_x) {\n        return _onkeydown2.apply(this, arguments);\n      }\n\n      return _onkeydown;\n    }()\n  }, {\n    key: \"_onValueStateKeydown\",\n    value: function _onValueStateKeydown(event) {\n      var isArrowDown = isDown(event);\n      var isArrowUp = isUp(event);\n      event.preventDefault();\n\n      if (isArrowDown) {\n        this._handleArrowDown(event);\n      }\n\n      if (isArrowUp) {\n        this._inputDom.focus();\n      }\n    }\n  }, {\n    key: \"_onItemKeydown\",\n    value: function _onItemKeydown(event) {\n      var isFirstItem = this.list.items[0] === event.target;\n      event.preventDefault();\n\n      if (!isUp(event) || !isFirstItem) {\n        return;\n      }\n\n      if (this.valueStateHeader) {\n        this.valueStateHeader.focus();\n        return;\n      }\n\n      this._inputDom.focus();\n    }\n  }, {\n    key: \"_handleArrowNavigation\",\n    value: function () {\n      var _handleArrowNavigation2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n        var isArrowDown, hasSuggestions;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                isArrowDown = isDown(event);\n                hasSuggestions = this.allItemsPopover.opened && this.items.length;\n                event.preventDefault();\n\n                if (!(this.hasValueStateMessage && !this.valueStateHeader)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 6;\n                return this._setValueStateHeader();\n\n              case 6:\n                if (!(isArrowDown && this.focused && this.valueStateHeader)) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                this.valueStateHeader.focus();\n                return _context2.abrupt(\"return\");\n\n              case 9:\n                if (isArrowDown && this.focused && hasSuggestions) {\n                  this._handleArrowDown(event);\n                }\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _handleArrowNavigation(_x2) {\n        return _handleArrowNavigation2.apply(this, arguments);\n      }\n\n      return _handleArrowNavigation;\n    }()\n  }, {\n    key: \"_handleArrowDown\",\n    value: function _handleArrowDown(event) {\n      var firstListItem = this.list.items[0];\n\n      this.list._itemNavigation.setCurrentItem(firstListItem);\n\n      firstListItem.focus();\n    }\n  }, {\n    key: \"handleEnter\",\n    value: function handleEnter() {\n      var _this3 = this;\n\n      var lowerCaseValue = this.value.toLowerCase();\n      var matchingItem = this.items.find(function (item) {\n        return item.text.toLowerCase() === lowerCaseValue;\n      });\n      var oldValueState = this.valueState;\n\n      if (matchingItem) {\n        if (matchingItem.selected) {\n          if (this._validationTimeout) {\n            return;\n          }\n\n          this.valueState = \"Error\";\n          this._performingSelectionTwice = true;\n\n          this._resetValueState(oldValueState, function () {\n            _this3._performingSelectionTwice = false;\n          });\n        } else {\n          matchingItem.selected = true;\n          this.value = \"\";\n          this.fireSelectionChange();\n        }\n\n        this.allItemsPopover.close();\n      }\n    }\n  }, {\n    key: \"_resetValueState\",\n    value: function _resetValueState(valueState, callback) {\n      var _this4 = this;\n\n      this._validationTimeout = setTimeout(function () {\n        _this4.valueState = valueState;\n        _this4._validationTimeout = null;\n        callback && callback();\n      }, 2000);\n    }\n  }, {\n    key: \"_onTokenizerKeydown\",\n    value: function _onTokenizerKeydown(event) {\n      var _this5 = this;\n\n      if (isRight(event)) {\n        var lastTokenIndex = this._tokenizer.tokens.length - 1;\n\n        if (this._tokenizer.tokens[lastTokenIndex] === document.activeElement.shadowRoot.activeElement) {\n          setTimeout(function () {\n            _this5.shadowRoot.querySelector(\"input\").focus();\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"_filterItems\",\n    value: function _filterItems(str) {\n      return (Filters[this.filter] || Filters.StartsWithPerTerm)(str, this.items);\n    }\n  }, {\n    key: \"_afterOpenPicker\",\n    value: function _afterOpenPicker() {\n      this._toggle();\n\n      if (!isPhone()) {\n        this._innerInput.focus();\n      } else {\n        this.allItemsPopover.focus();\n      }\n    }\n  }, {\n    key: \"_toggle\",\n    value: function _toggle() {\n      this.open = !this.open;\n      this.fireEvent(\"open-change\");\n    }\n  }, {\n    key: \"_getSelectedItems\",\n    value: function _getSelectedItems() {\n      // Angular 2 way data binding\n      this.selectedValues = this.items.filter(function (item) {\n        return item.selected;\n      });\n      return this.selectedValues;\n    }\n  }, {\n    key: \"_listSelectionChange\",\n    value: function _listSelectionChange(event) {\n      // sync list items and cb items\n      this.syncItems(event.target.items); // don't call selection change right after selection as user can cancel it on phone\n\n      if (!isPhone()) {\n        this.fireSelectionChange();\n      }\n\n      if (!event.detail.selectionComponentPressed && !isSpace(event.detail)) {\n        this.allItemsPopover.close();\n        this.value = \"\"; // if the item (not checkbox) is clicked, call the selection change\n\n        if (isPhone()) {\n          this.fireSelectionChange();\n        }\n\n        this.fireEvent(\"input\");\n      }\n    }\n  }, {\n    key: \"syncItems\",\n    value: function syncItems(listItems) {\n      var _this6 = this;\n\n      listItems.forEach(function (item) {\n        _this6.items.forEach(function (mcbItem) {\n          if (mcbItem._id === item.getAttribute(\"data-ui5-token-id\")) {\n            mcbItem.selected = item.selected;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"fireSelectionChange\",\n    value: function fireSelectionChange() {\n      this.fireEvent(\"selection-change\", {\n        items: this._getSelectedItems()\n      }); // Angular 2 way data binding\n\n      this.fireEvent(\"value-changed\");\n    }\n  }, {\n    key: \"_getRespPopover\",\n    value: function () {\n      var _getRespPopover2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var staticAreaItem;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getStaticAreaItemDomRef();\n\n              case 2:\n                staticAreaItem = _context3.sent;\n                this.allItemsPopover = staticAreaItem.querySelector(\".ui5-multi-combobox-all-items-responsive-popover\");\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _getRespPopover() {\n        return _getRespPopover2.apply(this, arguments);\n      }\n\n      return _getRespPopover;\n    }()\n  }, {\n    key: \"_getList\",\n    value: function () {\n      var _getList2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var staticAreaItem;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.getStaticAreaItemDomRef();\n\n              case 2:\n                staticAreaItem = _context4.sent;\n                this.list = staticAreaItem.querySelector(\".ui5-multi-combobox-all-items-list\");\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function _getList() {\n        return _getList2.apply(this, arguments);\n      }\n\n      return _getList;\n    }()\n  }, {\n    key: \"_click\",\n    value: function _click(event) {\n      if (isPhone() && !this.readonly && !this._showMorePressed && !this._deleting) {\n        this.allItemsPopover.showAt(this);\n      }\n\n      this._showMorePressed = false;\n    }\n  }, {\n    key: \"_afterClosePicker\",\n    value: function _afterClosePicker() {\n      // close device's keyboard and prevent further typing\n      if (isPhone()) {\n        this.blur();\n      }\n\n      this._toggle();\n\n      this._iconPressed = false;\n      this.filterSelected = false;\n    }\n  }, {\n    key: \"_beforeOpen\",\n    value: function _beforeOpen() {\n      this._itemsBeforeOpen = this.items.map(function (item) {\n        return {\n          ref: item,\n          selected: item.selected\n        };\n      });\n      this._valueBeforeOpen = this.value;\n\n      if (this.filterSelected) {\n        this.selectedItems = this._filteredItems.filter(function (item) {\n          return item.selected;\n        });\n      }\n    }\n  }, {\n    key: \"onBeforeRendering\",\n    value: function onBeforeRendering() {\n      var _this7 = this;\n\n      var input = this.shadowRoot.querySelector(\"input\");\n      this._inputLastValue = this.value;\n\n      if (input && !input.value) {\n        this._filteredItems = this.items;\n      }\n\n      this.items.forEach(function (item) {\n        item._getRealDomRef = function () {\n          return _this7.allItemsPopover.querySelector(\"*[data-ui5-stable=\".concat(item.stableDomRef, \"]\"));\n        };\n      });\n\n      var filteredItems = this._filterItems(this.value);\n\n      this._filteredItems = filteredItems;\n    }\n  }, {\n    key: \"onAfterRendering\",\n    value: function () {\n      var _onAfterRendering = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._getRespPopover();\n\n              case 2:\n                _context5.next = 4;\n                return this._getList();\n\n              case 4:\n                this.toggle(this.shouldDisplayOnlyValueStateMessage);\n                this.storeResponsivePopoverWidth();\n                this._deleting = false;\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function onAfterRendering() {\n        return _onAfterRendering.apply(this, arguments);\n      }\n\n      return onAfterRendering;\n    }()\n  }, {\n    key: \"_isPhone\",\n    get: function get() {\n      return isPhone();\n    }\n  }, {\n    key: \"_onIconMousedown\",\n    value: function _onIconMousedown() {\n      this._iconPressed = true;\n    }\n  }, {\n    key: \"storeResponsivePopoverWidth\",\n    value: function storeResponsivePopoverWidth() {\n      if (this.open && !this._listWidth) {\n        this._listWidth = this.list.offsetWidth;\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(isToggled) {\n      if (isToggled && !this.open) {\n        this.openPopover();\n      } else {\n        this.closePopover();\n      }\n    }\n  }, {\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      this._itemsBeforeOpen.forEach(function (item) {\n        item.ref.selected = item.selected;\n      });\n\n      this.togglePopover();\n      this.value = this._valueBeforeOpen;\n    }\n  }, {\n    key: \"handleOK\",\n    value: function handleOK() {\n      if (isPhone()) {\n        this.fireSelectionChange();\n      }\n\n      this.togglePopover();\n    }\n  }, {\n    key: \"openPopover\",\n    value: function () {\n      var _openPopover = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var popover;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this._getPopover();\n\n              case 2:\n                popover = _context6.sent;\n\n                if (popover) {\n                  popover.showAt(this);\n                }\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function openPopover() {\n        return _openPopover.apply(this, arguments);\n      }\n\n      return openPopover;\n    }()\n  }, {\n    key: \"_forwardFocusToInner\",\n    value: function _forwardFocusToInner() {\n      this._innerInput.focus();\n    }\n  }, {\n    key: \"closePopover\",\n    value: function () {\n      var _closePopover = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var popover;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this._getPopover();\n\n              case 2:\n                popover = _context7.sent;\n                popover && popover.close();\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function closePopover() {\n        return _closePopover.apply(this, arguments);\n      }\n\n      return closePopover;\n    }()\n  }, {\n    key: \"_getPopover\",\n    value: function () {\n      var _getPopover2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n        var staticAreaItem;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this.getStaticAreaItemDomRef();\n\n              case 2:\n                staticAreaItem = _context8.sent;\n                return _context8.abrupt(\"return\", staticAreaItem.querySelector(\"[ui5-popover]\"));\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function _getPopover() {\n        return _getPopover2.apply(this, arguments);\n      }\n\n      return _getPopover;\n    }()\n  }, {\n    key: \"_getResponsivePopover\",\n    value: function () {\n      var _getResponsivePopover2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n        var staticAreaItem;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.getStaticAreaItemDomRef();\n\n              case 2:\n                staticAreaItem = _context9.sent;\n                return _context9.abrupt(\"return\", staticAreaItem.querySelector(\"[ui5-responsive-popover]\"));\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function _getResponsivePopover() {\n        return _getResponsivePopover2.apply(this, arguments);\n      }\n\n      return _getResponsivePopover;\n    }()\n  }, {\n    key: \"_setValueStateHeader\",\n    value: function () {\n      var _setValueStateHeader2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        var responsivePopover;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return this._getResponsivePopover();\n\n              case 2:\n                responsivePopover = _context10.sent;\n                this.valueStateHeader = responsivePopover.querySelector(\"div.ui5-responsive-popover-header.ui5-valuestatemessage-root\");\n\n              case 4:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function _setValueStateHeader() {\n        return _setValueStateHeader2.apply(this, arguments);\n      }\n\n      return _setValueStateHeader;\n    }()\n  }, {\n    key: \"_tokenizer\",\n    get: function get() {\n      return this.shadowRoot.querySelector(\"[ui5-tokenizer]\");\n    }\n  }, {\n    key: \"inputFocusIn\",\n    value: function inputFocusIn() {\n      if (!isPhone()) {\n        this.focused = true;\n      } else {\n        this._innerInput.blur();\n      }\n\n      this._lastValue = this.value;\n    }\n  }, {\n    key: \"inputFocusOut\",\n    value: function inputFocusOut(event) {\n      if (!this.shadowRoot.contains(event.relatedTarget) && !this._deleting) {\n        this.focused = false; // remove the value if user focus out the input and focus is not going in the popover\n\n        if (!isPhone() && !this.allowCustomValues && this.staticAreaItem !== event.relatedTarget) {\n          this.value = \"\";\n        }\n      }\n    }\n  }, {\n    key: \"_readonlyIconClick\",\n    value: function _readonlyIconClick() {\n      this._inputDom.focus();\n    }\n  }, {\n    key: \"editable\",\n    get: function get() {\n      return !this.readonly;\n    }\n  }, {\n    key: \"_isFocusInside\",\n    get: function get() {\n      return !isPhone() && (this.focused || this._tokenizerFocused);\n    }\n  }, {\n    key: \"selectedItemsListMode\",\n    get: function get() {\n      return this.readonly ? \"None\" : \"MultiSelect\";\n    }\n  }, {\n    key: \"_listItemsType\",\n    get: function get() {\n      return this.readonly ? \"Inactive\" : \"Active\";\n    }\n  }, {\n    key: \"hasValueState\",\n    get: function get() {\n      return this.valueState !== ValueState.None;\n    }\n  }, {\n    key: \"hasValueStateMessage\",\n    get: function get() {\n      return this.hasValueState && this.valueState !== ValueState.Success;\n    }\n  }, {\n    key: \"valueStateText\",\n    get: function get() {\n      var key = this.valueState;\n\n      if (this._performingSelectionTwice) {\n        key = \"Error_Selection\";\n      }\n\n      return this.valueStateTextMappings[key];\n    }\n  }, {\n    key: \"valueStateTextId\",\n    get: function get() {\n      return this.hasValueState ? \"\".concat(this._id, \"-valueStateDesc\") : undefined;\n    }\n  }, {\n    key: \"valueStateMessageText\",\n    get: function get() {\n      return this.getSlottedNodes(\"valueStateMessage\").map(function (el) {\n        return el.cloneNode(true);\n      });\n    }\n    /**\n     * This method is relevant for sap_horizon theme only\n     */\n\n  }, {\n    key: \"_valueStateMessageIcon\",\n    get: function get() {\n      var iconPerValueState = {\n        Error: \"error\",\n        Warning: \"alert\",\n        Success: \"sys-enter-2\",\n        Information: \"information\"\n      };\n      return this.valueState !== ValueState.None ? iconPerValueState[this.valueState] : \"\";\n    }\n  }, {\n    key: \"_tokensCountText\",\n    get: function get() {\n      if (!this._tokenizer) {\n        return;\n      }\n\n      return this._tokenizer._tokensCountText();\n    }\n  }, {\n    key: \"_tokensCountTextId\",\n    get: function get() {\n      return \"\".concat(this._id, \"-hiddenText-nMore\");\n    }\n  }, {\n    key: \"ariaDescribedByText\",\n    get: function get() {\n      return this.valueStateTextId ? \"\".concat(this._tokensCountTextId, \" \").concat(this.valueStateTextId) : \"\".concat(this._tokensCountTextId);\n    }\n  }, {\n    key: \"shouldDisplayDefaultValueStateMessage\",\n    get: function get() {\n      return !this.valueStateMessage.length && this.hasValueStateMessage;\n    }\n  }, {\n    key: \"shouldDisplayOnlyValueStateMessage\",\n    get: function get() {\n      return this.focused && this.hasValueStateMessage && !this._iconPressed;\n    }\n  }, {\n    key: \"valueStateTextMappings\",\n    get: function get() {\n      return {\n        \"Success\": MultiComboBox.i18nBundle.getText(VALUE_STATE_SUCCESS),\n        \"Error\": MultiComboBox.i18nBundle.getText(VALUE_STATE_ERROR),\n        \"Error_Selection\": MultiComboBox.i18nBundle.getText(VALUE_STATE_ERROR_ALREADY_SELECTED),\n        \"Warning\": MultiComboBox.i18nBundle.getText(VALUE_STATE_WARNING),\n        \"Information\": MultiComboBox.i18nBundle.getText(VALUE_STATE_INFORMATION)\n      };\n    }\n  }, {\n    key: \"_innerInput\",\n    get: function get() {\n      if (isPhone()) {\n        if (this.allItemsPopover.opened) {\n          return this.allItemsPopover.querySelector(\"input\");\n        }\n      }\n\n      return this.getDomRef().querySelector(\"#ui5-multi-combobox-input\");\n    }\n  }, {\n    key: \"_headerTitleText\",\n    get: function get() {\n      return MultiComboBox.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n    }\n  }, {\n    key: \"_iconAccessibleNameText\",\n    get: function get() {\n      return MultiComboBox.i18nBundle.getText(SELECT_OPTIONS);\n    }\n  }, {\n    key: \"_dialogOkButton\",\n    get: function get() {\n      return MultiComboBox.i18nBundle.getText(MULTICOMBOBOX_DIALOG_OK_BUTTON);\n    }\n  }, {\n    key: \"_tokenizerExpanded\",\n    get: function get() {\n      return (this._isFocusInside || this.open) && !this.readonly;\n    }\n  }, {\n    key: \"classes\",\n    get: function get() {\n      return {\n        popover: {\n          \"ui5-multi-combobox-all-items-responsive-popover\": true,\n          \"ui5-suggestions-popover\": !this.isPhone,\n          \"ui5-suggestions-popover-with-value-state-header\": !this.isPhone && this.hasValueStateMessage\n        },\n        popoverValueState: {\n          \"ui5-valuestatemessage-root\": true,\n          \"ui5-valuestatemessage-header\": true,\n          \"ui5-valuestatemessage--success\": this.valueState === ValueState.Success,\n          \"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n          \"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning,\n          \"ui5-valuestatemessage--information\": this.valueState === ValueState.Information\n        }\n      };\n    }\n  }, {\n    key: \"styles\",\n    get: function get() {\n      return {\n        popoverValueStateMessage: {\n          \"width\": \"\".concat(this._listWidth, \"px\"),\n          \"display\": this._listWidth === 0 ? \"none\" : \"inline-block\"\n        },\n        popoverHeader: {\n          \"max-width\": isPhone() ? \"100%\" : \"\".concat(this._inputWidth, \"px\")\n        }\n      };\n    }\n  }], [{\n    key: \"metadata\",\n    get: function get() {\n      return metadata;\n    }\n  }, {\n    key: \"render\",\n    get: function get() {\n      return litRender;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return MultiComboBoxTemplate;\n    }\n  }, {\n    key: \"staticAreaTemplate\",\n    get: function get() {\n      return MultiComboBoxPopoverTemplate;\n    }\n  }, {\n    key: \"styles\",\n    get: function get() {\n      return styles;\n    }\n  }, {\n    key: \"staticAreaStyles\",\n    get: function get() {\n      return [ResponsivePopoverCommonCss, ValueStateMessageCss, SuggestionsCss];\n    }\n  }, {\n    key: \"dependencies\",\n    get: function get() {\n      return [MultiComboBoxItem, Tokenizer, Token, Icon, ResponsivePopover, Popover, List, StandardListItem, ToggleButton, Button];\n    }\n  }, {\n    key: \"onDefine\",\n    value: function () {\n      var _onDefine = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return getI18nBundle(\"@ui5/webcomponents\");\n\n              case 2:\n                MultiComboBox.i18nBundle = _context11.sent;\n\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      function onDefine() {\n        return _onDefine.apply(this, arguments);\n      }\n\n      return onDefine;\n    }()\n  }]);\n\n  return MultiComboBox;\n}(UI5Element);\n\nMultiComboBox.define();\nexport default MultiComboBox;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/MultiComboBox.js"],"names":["UI5Element","litRender","ResizeHandler","ValueState","isShow","isDown","isUp","isBackSpace","isSpace","isLeft","isRight","isEscape","isEnter","Integer","isIE","isPhone","getI18nBundle","MultiComboBoxItem","Tokenizer","Token","Icon","Popover","ResponsivePopover","List","StandardListItem","ToggleButton","Filters","Button","VALUE_STATE_SUCCESS","VALUE_STATE_ERROR","VALUE_STATE_WARNING","VALUE_STATE_INFORMATION","INPUT_SUGGESTIONS_TITLE","SELECT_OPTIONS","MULTICOMBOBOX_DIALOG_OK_BUTTON","VALUE_STATE_ERROR_ALREADY_SELECTED","MultiComboBoxTemplate","MultiComboBoxPopoverTemplate","styles","ResponsivePopoverCommonCss","ValueStateMessageCss","SuggestionsCss","metadata","tag","languageAware","managedSlots","slots","propertyName","type","HTMLElement","invalidateOnChildChange","icon","valueStateMessage","properties","value","String","defaultValue","placeholder","allowCustomValues","Boolean","disabled","valueState","None","readonly","required","filter","open","_filteredItems","Object","filterSelected","focused","_tokenizerFocused","_iconPressed","noAttribute","_inputWidth","_listWidth","_performingSelectionTwice","events","change","input","detail","items","Array","MultiComboBox","selectedValues","_inputLastValue","_valueBeforeOpen","_deleting","_validationTimeout","_handleResizeBound","_handleResize","bind","register","deregister","offsetWidth","fireEvent","allItemsPopover","toggle","_showMorePressed","togglePopover","event","target","pressed","selectedItems","item","selected","shadowRoot","querySelector","filteredItems","_filterItems","oldValueState","skipFiring","_inputDom","_keyDown","preventDefault","length","_resetValueState","close","showAt","token","ref","deletingItem","find","_id","getAttribute","fireSelectionChange","_tokenizer","tokens","cursorPosition","getDomRef","selectionStart","_focusLastToken","tokensCount","relatedTarget","localName","forEach","scrollToStart","setTimeout","focus","_handleLeft","_handleArrowNavigation","_lastValue","handleEnter","isArrowDown","isArrowUp","_handleArrowDown","isFirstItem","list","valueStateHeader","hasSuggestions","opened","hasValueStateMessage","_setValueStateHeader","firstListItem","_itemNavigation","setCurrentItem","lowerCaseValue","toLowerCase","matchingItem","text","callback","lastTokenIndex","document","activeElement","str","StartsWithPerTerm","_toggle","_innerInput","syncItems","selectionComponentPressed","listItems","mcbItem","_getSelectedItems","getStaticAreaItemDomRef","staticAreaItem","blur","_itemsBeforeOpen","map","_getRealDomRef","stableDomRef","_getRespPopover","_getList","shouldDisplayOnlyValueStateMessage","storeResponsivePopoverWidth","isToggled","openPopover","closePopover","_getPopover","popover","_getResponsivePopover","responsivePopover","contains","hasValueState","Success","key","valueStateTextMappings","undefined","getSlottedNodes","el","cloneNode","iconPerValueState","Error","Warning","Information","_tokensCountText","valueStateTextId","_tokensCountTextId","i18nBundle","getText","_isFocusInside","popoverValueState","popoverValueStateMessage","popoverHeader","define"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport {\n\tisShow,\n\tisDown,\n\tisUp,\n\tisBackSpace,\n\tisSpace,\n\tisLeft,\n\tisRight,\n\tisEscape,\n\tisEnter,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport \"@ui5/webcomponents-icons/dist/slim-arrow-down.js\";\nimport { isIE, isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\nimport \"@ui5/webcomponents-icons/dist/multiselect-all.js\";\nimport \"@ui5/webcomponents-icons/dist/not-editable.js\";\nimport MultiComboBoxItem from \"./MultiComboBoxItem.js\";\nimport Tokenizer from \"./Tokenizer.js\";\nimport Token from \"./Token.js\";\nimport Icon from \"./Icon.js\";\nimport Popover from \"./Popover.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport ToggleButton from \"./ToggleButton.js\";\nimport * as Filters from \"./ComboBoxFilters.js\";\nimport Button from \"./Button.js\";\n\nimport {\n\tVALUE_STATE_SUCCESS,\n\tVALUE_STATE_ERROR,\n\tVALUE_STATE_WARNING,\n\tVALUE_STATE_INFORMATION,\n\tINPUT_SUGGESTIONS_TITLE,\n\tSELECT_OPTIONS,\n\tMULTICOMBOBOX_DIALOG_OK_BUTTON,\n\tVALUE_STATE_ERROR_ALREADY_SELECTED,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Templates\nimport MultiComboBoxTemplate from \"./generated/templates/MultiComboBoxTemplate.lit.js\";\nimport MultiComboBoxPopoverTemplate from \"./generated/templates/MultiComboBoxPopoverTemplate.lit.js\";\n\n// Styles\nimport styles from \"./generated/themes/MultiComboBox.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ValueStateMessageCss from \"./generated/themes/ValueStateMessage.css.js\";\nimport SuggestionsCss from \"./generated/themes/Suggestions.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-multi-combobox\",\n\tlanguageAware: true,\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */ {\n\t\t/**\n\t\t * Defines the component items.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.IMultiComboBoxItem[]}\n\t\t * @slot items\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t\tinvalidateOnChildChange: true,\n\t\t},\n\n\t\t/**\n\t\t* Defines the icon to be displayed in the component.\n\t\t*\n\t\t* @type {sap.ui.webcomponents.main.IIcon}\n\t\t* @slot\n\t\t* @public\n\t\t* @since 1.0.0-rc.9\n\t\t*/\n\t\ticon: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state message that will be displayed as pop up under the component.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n\t\t * <br>\n\t\t * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n\t\t * when the component is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n\t\t * @type {HTMLElement[]}\n\t\t * @since 1.0.0-rc.9\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tvalueStateMessage: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tproperties: /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */ {\n\t\t/**\n\t\t * Defines the value of the component.\n\t\t * <br><br>\n\t\t * <b>Note:</b> The property is updated upon typing.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines a short hint intended to aid the user with data entry when the\n\t\t * component has no value.\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines if the user input will be prevented, if no matching item has been found\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tallowCustomValues: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is in disabled state.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A disabled component is completely noninteractive.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state of the component.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>None</code></li>\n\t\t * <li><code>Error</code></li>\n\t\t * <li><code>Warning</code></li>\n\t\t * <li><code>Success</code></li>\n\t\t * <li><code>Information</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {ValueState}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tvalueState: {\n\t\t\ttype: ValueState,\n\t\t\tdefaultValue: ValueState.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is read-only.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A read-only component is not editable,\n\t\t * but still provides visual feedback upon user interaction.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is required.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.5\n\t\t */\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the filter type of the component.\n\t\t * Available options are: <code>StartsWithPerTerm</code>, <code>StartsWith</code>, <code>Contains</code> and <code>None</code>.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"StartsWithPerTerm\"\n\t\t * @public\n\t\t */\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"StartsWithPerTerm\",\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether the dropdown is open. True if the dropdown is open, false otherwise.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @readonly\n\t\t * @since 1.0.0-rc.5\n\t\t * @public\n\t\t */\n\t\topen: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_filteredItems: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\tfilterSelected: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\tfocused: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_tokenizerFocused: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_iconPressed: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_inputWidth: {\n\t\t\ttype: Integer,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_listWidth: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_performingSelectionTwice: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */ {\n\t\t/**\n\t\t * Fired when the input operation has finished by pressing Enter or on focusout.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tchange: {},\n\n\t\t/**\n\t\t * Fired when the value of the component changes at each keystroke.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tinput: {},\n\n\t\t/**\n\t\t * Fired when the dropdown is opened or closed.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.MultiComboBox#open-change\n\t\t * @since 1.0.0-rc.5\n\t\t * @public\n\t\t */\n\t\t\"open-change\": {},\n\n\t\t/**\n\t\t * Fired when selection is changed by user interaction\n\t\t * in <code>SingleSelect</code> and <code>MultiSelect</code> modes.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.MultiComboBox#selection-change\n\t\t * @param {Array} items an array of the selected items.\n\t\t * @public\n\t\t */\n\t\t\"selection-change\": {\n\t\t\tdetail: {\n\t\t\t\titems: { type: Array },\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-multi-combobox</code> component consists of a list box with items and a text field allowing the user to either type a value directly into the text field, or choose from the list of existing items.\n *\n * The drop-down list is used for selecting and filtering values, it enables users to select one or more options from a predefined list. The control provides an editable input field to filter the list, and a dropdown arrow to expand/collapse the list of available options.\n * The options in the list have checkboxes that permit multi-selection. Entered values are displayed as tokens.\n * <h3>Structure</h3>\n * The <code>ui5-multi-combobox</code> consists of the following elements:\n * <ul>\n * <li> Tokenizer - a list of tokens with selected options.\n * <li> Input field - displays the selected option/s as token/s. Users can type to filter the list.\n * <li> Drop-down arrow - expands\\collapses the option list.</li>\n * <li> Option list - the list of available options.</li>\n * </ul>\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-multi-combobox</code> provides advanced keyboard handling.\n *\n * <h4>Picker</h4>\n * If the <code>ui5-multi-combobox</code> is focused,\n * you can open or close the drop-down by pressing <code>F4</code>, <code>ALT+UP</code> or <code>ALT+DOWN</code> keys.\n * Once the drop-down is opened, you can use the <code>UP</code> and <code>DOWN</code> arrow keys\n * to navigate through the available options and select one by pressing the <code>Space</code> or <code>Enter</code> keys.\n * <br>\n *\n * <h4>Tokens</h4>\n * <ul>\n * <li> Left/Right arrow keys - moves the focus selection form the currently focused token to the previous/next one (if available). </li>\n * <li> Delete -  deletes the token and focuses the previous token. </li>\n * <li> Backspace -  deletes the token and focus the next token. </li>\n * </ul>\n *\n * <h3>CSS Shadow Parts</h3>\n *\n * <ui5-link target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::part\">CSS Shadow Parts</ui5-link> allow developers to style elements inside the Shadow DOM.\n * <br>\n * The <code>ui5-multi-combobox</code> exposes the following CSS Shadow Parts:\n * <ul>\n * <li>token-{index} - Used to style each token(where <code>token-0</code> corresponds to the first item)</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/MultiComboBox\";</code>\n *\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MultiComboBox\n * @extends UI5Element\n * @tagname ui5-multi-combobox\n * @public\n * @appenddocs MultiComboBoxItem\n * @since 0.11.0\n */\nclass MultiComboBox extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn MultiComboBoxTemplate;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn MultiComboBoxPopoverTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn [ResponsivePopoverCommonCss, ValueStateMessageCss, SuggestionsCss];\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tMultiComboBoxItem,\n\t\t\tTokenizer,\n\t\t\tToken,\n\t\t\tIcon,\n\t\t\tResponsivePopover,\n\t\t\tPopover,\n\t\t\tList,\n\t\t\tStandardListItem,\n\t\t\tToggleButton,\n\t\t\tButton,\n\t\t];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._filteredItems = [];\n\t\tthis.selectedValues = [];\n\t\tthis._inputLastValue = \"\";\n\t\tthis._valueBeforeOpen = \"\";\n\t\tthis._deleting = false;\n\t\tthis._validationTimeout = null;\n\t\tthis._handleResizeBound = this._handleResize.bind(this);\n\t}\n\n\tonEnterDOM() {\n\t\tResizeHandler.register(this, this._handleResizeBound);\n\t}\n\n\tonExitDOM() {\n\t\tResizeHandler.deregister(this, this._handleResizeBound);\n\t}\n\n\t_handleResize() {\n\t\tthis._inputWidth = this.offsetWidth;\n\t}\n\n\t_inputChange() {\n\t\tthis.fireEvent(\"change\");\n\t}\n\n\ttogglePopover() {\n\t\tthis.allItemsPopover.toggle(this);\n\t}\n\n\t_showFilteredItems() {\n\t\tthis.filterSelected = true;\n\t\tthis._showMorePressed = true;\n\n\t\tthis.togglePopover();\n\t}\n\n\tfilterSelectedItems(event) {\n\t\tthis.filterSelected = event.target.pressed;\n\t\tthis.selectedItems = this._filteredItems.filter(item => item.selected);\n\t}\n\n\tget _showAllItemsButtonPressed() {\n\t\treturn this.filterSelected;\n\t}\n\n\tget _inputDom() {\n\t\treturn this.shadowRoot.querySelector(\"#ui5-multi-combobox-input\");\n\t}\n\n\t_inputLiveChange(event) {\n\t\tconst input = event.target;\n\t\tconst value = input.value;\n\t\tconst filteredItems = this._filterItems(value);\n\t\tconst oldValueState = this.valueState;\n\n\t\tif (this.filterSelected) {\n\t\t\tthis.filterSelected = false;\n\t\t}\n\n\t\t/* skip calling change event when an input with a placeholder is focused on IE\n\t\t\t- value of the host and the internal input should be differnt in case of actual input\n\t\t\t- input is called when a key is pressed => keyup should not be called yet\n\t\t*/\n\t\tconst skipFiring = (this._inputDom.value === this.value) && isIE() && !this._keyDown && !!this.placeholder;\n\n\t\tif (skipFiring) {\n\t\t\tevent.preventDefault();\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._validationTimeout) {\n\t\t\tinput.value = this._inputLastValue;\n\t\t\treturn;\n\t\t}\n\n\t\tif (!filteredItems.length && value && !this.allowCustomValues) {\n\t\t\tinput.value = this._inputLastValue;\n\t\t\tthis.valueState = \"Error\";\n\n\t\t\tthis._resetValueState(oldValueState);\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis._inputLastValue = input.value;\n\t\tthis.value = input.value;\n\t\tthis._filteredItems = filteredItems;\n\n\t\tif (!isPhone()) {\n\t\t\tif (filteredItems.length === 0) {\n\t\t\t\tthis.allItemsPopover.close();\n\t\t\t} else {\n\t\t\t\tthis.allItemsPopover.showAt(this);\n\t\t\t}\n\t\t}\n\n\t\tthis.fireEvent(\"input\");\n\t}\n\n\t_tokenDelete(event) {\n\t\tconst token = event.detail.ref;\n\t\tconst deletingItem = this.items.find(item => item._id === token.getAttribute(\"data-ui5-id\"));\n\n\t\tdeletingItem.selected = false;\n\t\tthis._deleting = true;\n\n\t\tthis.fireSelectionChange();\n\t}\n\n\tget _getPlaceholder() {\n\t\tif (this._tokenizer && this._tokenizer.tokens.length) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\treturn this.placeholder;\n\t}\n\n\t_handleLeft() {\n\t\tconst cursorPosition = this.getDomRef().querySelector(`input`).selectionStart;\n\n\t\tif (cursorPosition === 0) {\n\t\t\tthis._tokenizer._focusLastToken();\n\t\t}\n\t}\n\n\t_tokenizerFocusOut(event) {\n\t\tthis._tokenizerFocused = false;\n\n\t\tconst tokensCount = this._tokenizer.tokens.length - 1;\n\n\t\tif (!event.relatedTarget || event.relatedTarget.localName !== \"ui5-token\") {\n\t\t\tthis._tokenizer.tokens.forEach(token => { token.selected = false; });\n\t\t\tthis._tokenizer.scrollToStart();\n\t\t}\n\n\t\tif (tokensCount === 0 && this._deleting) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!isPhone()) {\n\t\t\t\t\tthis.shadowRoot.querySelector(\"input\").focus();\n\t\t\t\t}\n\n\t\t\t\tthis._deleting = false;\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\t_tokenizerFocusIn() {\n\t\tthis._tokenizerFocused = true;\n\t\tthis.focused = false;\n\t}\n\n\t_onkeyup() {\n\t\tthis._keyDown = false;\n\t}\n\n\tasync _onkeydown(event) {\n\t\tif (isLeft(event)) {\n\t\t\tthis._handleLeft(event);\n\t\t}\n\n\t\tif (isShow(event) && !this.readonly && !this.disabled) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.togglePopover();\n\t\t}\n\n\t\tif (this.open && (isUp(event) || isDown(event))) {\n\t\t\tthis._handleArrowNavigation(event);\n\t\t}\n\n\t\tif (isBackSpace(event) && event.target.value === \"\") {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._tokenizer._focusLastToken();\n\t\t}\n\n\t\t// Reset value on ESC\n\t\tif (isEscape(event) && (!this.allowCustomValues || (!this.open && this.allowCustomValues))) {\n\t\t\tthis.value = this._lastValue;\n\t\t}\n\n\t\tif (isEnter(event)) {\n\t\t\tthis.handleEnter();\n\t\t}\n\n\t\tthis._keyDown = true;\n\t}\n\n\t_onValueStateKeydown(event) {\n\t\tconst isArrowDown = isDown(event);\n\t\tconst isArrowUp = isUp(event);\n\n\t\tevent.preventDefault();\n\n\t\tif (isArrowDown) {\n\t\t\tthis._handleArrowDown(event);\n\t\t}\n\n\t\tif (isArrowUp) {\n\t\t\tthis._inputDom.focus();\n\t\t}\n\t}\n\n\t_onItemKeydown(event) {\n\t\tconst isFirstItem = this.list.items[0] === event.target;\n\n\t\tevent.preventDefault();\n\n\t\tif (!isUp(event) || !isFirstItem) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.valueStateHeader) {\n\t\t\tthis.valueStateHeader.focus();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._inputDom.focus();\n\t}\n\n\tasync _handleArrowNavigation(event) {\n\t\tconst isArrowDown = isDown(event);\n\t\tconst hasSuggestions = this.allItemsPopover.opened && this.items.length;\n\n\t\tevent.preventDefault();\n\n\t\tif (this.hasValueStateMessage && !this.valueStateHeader) {\n\t\t\tawait this._setValueStateHeader();\n\t\t}\n\n\t\tif (isArrowDown && this.focused && this.valueStateHeader) {\n\t\t\tthis.valueStateHeader.focus();\n\t\t\treturn;\n\t\t}\n\n\t\tif (isArrowDown && this.focused && hasSuggestions) {\n\t\t\tthis._handleArrowDown(event);\n\t\t}\n\t}\n\n\t_handleArrowDown(event) {\n\t\tconst firstListItem = this.list.items[0];\n\n\t\tthis.list._itemNavigation.setCurrentItem(firstListItem);\n\t\tfirstListItem.focus();\n\t}\n\n\thandleEnter() {\n\t\tconst lowerCaseValue = this.value.toLowerCase();\n\t\tconst matchingItem = this.items.find(item => item.text.toLowerCase() === lowerCaseValue);\n\t\tconst oldValueState = this.valueState;\n\n\t\tif (matchingItem) {\n\t\t\tif (matchingItem.selected) {\n\t\t\t\tif (this._validationTimeout) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.valueState = \"Error\";\n\t\t\t\tthis._performingSelectionTwice = true;\n\t\t\t\tthis._resetValueState(oldValueState, () => {\n\t\t\t\t\tthis._performingSelectionTwice = false;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmatchingItem.selected = true;\n\t\t\t\tthis.value = \"\";\n\t\t\t\tthis.fireSelectionChange();\n\t\t\t}\n\n\t\t\tthis.allItemsPopover.close();\n\t\t}\n\t}\n\n\t_resetValueState(valueState, callback) {\n\t\tthis._validationTimeout = setTimeout(() => {\n\t\t\tthis.valueState = valueState;\n\t\t\tthis._validationTimeout = null;\n\n\t\t\tcallback && callback();\n\t\t}, 2000);\n\t}\n\n\t_onTokenizerKeydown(event) {\n\t\tif (isRight(event)) {\n\t\t\tconst lastTokenIndex = this._tokenizer.tokens.length - 1;\n\n\t\t\tif (this._tokenizer.tokens[lastTokenIndex] === document.activeElement.shadowRoot.activeElement) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.shadowRoot.querySelector(\"input\").focus();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t_filterItems(str) {\n\t\treturn (Filters[this.filter] || Filters.StartsWithPerTerm)(str, this.items);\n\t}\n\n\t_afterOpenPicker() {\n\t\tthis._toggle();\n\n\t\tif (!isPhone()) {\n\t\t\tthis._innerInput.focus();\n\t\t} else {\n\t\t\tthis.allItemsPopover.focus();\n\t\t}\n\t}\n\n\t_toggle() {\n\t\tthis.open = !this.open;\n\t\tthis.fireEvent(\"open-change\");\n\t}\n\n\t_getSelectedItems() {\n\t\t// Angular 2 way data binding\n\t\tthis.selectedValues = this.items.filter(item => item.selected);\n\t\treturn this.selectedValues;\n\t}\n\n\t_listSelectionChange(event) {\n\t\t// sync list items and cb items\n\t\tthis.syncItems(event.target.items);\n\n\t\t// don't call selection change right after selection as user can cancel it on phone\n\t\tif (!isPhone()) {\n\t\t\tthis.fireSelectionChange();\n\t\t}\n\n\t\tif (!event.detail.selectionComponentPressed && !isSpace(event.detail)) {\n\t\t\tthis.allItemsPopover.close();\n\t\t\tthis.value = \"\";\n\n\t\t\t// if the item (not checkbox) is clicked, call the selection change\n\t\t\tif (isPhone()) {\n\t\t\t\tthis.fireSelectionChange();\n\t\t\t}\n\n\t\t\tthis.fireEvent(\"input\");\n\t\t}\n\t}\n\n\tsyncItems(listItems) {\n\t\tlistItems.forEach(item => {\n\t\t\tthis.items.forEach(mcbItem => {\n\t\t\t\tif (mcbItem._id === item.getAttribute(\"data-ui5-token-id\")) {\n\t\t\t\t\tmcbItem.selected = item.selected;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tfireSelectionChange() {\n\t\tthis.fireEvent(\"selection-change\", { items: this._getSelectedItems() });\n\t\t// Angular 2 way data binding\n\t\tthis.fireEvent(\"value-changed\");\n\t}\n\n\tasync _getRespPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\tthis.allItemsPopover = staticAreaItem.querySelector(`.ui5-multi-combobox-all-items-responsive-popover`);\n\t}\n\n\tasync _getList() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\tthis.list = staticAreaItem.querySelector(\".ui5-multi-combobox-all-items-list\");\n\t}\n\n\t_click(event) {\n\t\tif (isPhone() && !this.readonly && !this._showMorePressed && !this._deleting) {\n\t\t\tthis.allItemsPopover.showAt(this);\n\t\t}\n\n\t\tthis._showMorePressed = false;\n\t}\n\n\t_afterClosePicker() {\n\t\t// close device's keyboard and prevent further typing\n\t\tif (isPhone()) {\n\t\t\tthis.blur();\n\t\t}\n\n\t\tthis._toggle();\n\n\t\tthis._iconPressed = false;\n\t\tthis.filterSelected = false;\n\t}\n\n\t_beforeOpen() {\n\t\tthis._itemsBeforeOpen = this.items.map(item => {\n\t\t\treturn {\n\t\t\t\tref: item,\n\t\t\t\tselected: item.selected,\n\t\t\t};\n\t\t});\n\n\t\tthis._valueBeforeOpen = this.value;\n\n\t\tif (this.filterSelected) {\n\t\t\tthis.selectedItems = this._filteredItems.filter(item => item.selected);\n\t\t}\n\t}\n\n\tonBeforeRendering() {\n\t\tconst input = this.shadowRoot.querySelector(\"input\");\n\t\tthis._inputLastValue = this.value;\n\n\t\tif (input && !input.value) {\n\t\t\tthis._filteredItems = this.items;\n\t\t}\n\n\t\tthis.items.forEach(item => {\n\t\t\titem._getRealDomRef = () => this.allItemsPopover.querySelector(`*[data-ui5-stable=${item.stableDomRef}]`);\n\t\t});\n\n\t\tconst filteredItems = this._filterItems(this.value);\n\t\tthis._filteredItems = filteredItems;\n\t}\n\n\tasync onAfterRendering() {\n\t\tawait this._getRespPopover();\n\t\tawait this._getList();\n\n\t\tthis.toggle(this.shouldDisplayOnlyValueStateMessage);\n\t\tthis.storeResponsivePopoverWidth();\n\n\t\tthis._deleting = false;\n\t}\n\n\tget _isPhone() {\n\t\treturn isPhone();\n\t}\n\n\t_onIconMousedown() {\n\t\tthis._iconPressed = true;\n\t}\n\n\tstoreResponsivePopoverWidth() {\n\t\tif (this.open && !this._listWidth) {\n\t\t\tthis._listWidth = this.list.offsetWidth;\n\t\t}\n\t}\n\n\ttoggle(isToggled) {\n\t\tif (isToggled && !this.open) {\n\t\t\tthis.openPopover();\n\t\t} else {\n\t\t\tthis.closePopover();\n\t\t}\n\t}\n\n\thandleCancel() {\n\t\tthis._itemsBeforeOpen.forEach(item => {\n\t\t\titem.ref.selected = item.selected;\n\t\t});\n\n\t\tthis.togglePopover();\n\n\t\tthis.value = this._valueBeforeOpen;\n\t}\n\n\thandleOK() {\n\t\tif (isPhone()) {\n\t\t\tthis.fireSelectionChange();\n\t\t}\n\n\t\tthis.togglePopover();\n\t}\n\n\tasync openPopover() {\n\t\tconst popover = await this._getPopover();\n\n\t\tif (popover) {\n\t\t\tpopover.showAt(this);\n\t\t}\n\t}\n\n\t_forwardFocusToInner() {\n\t\tthis._innerInput.focus();\n\t}\n\n\tasync closePopover() {\n\t\tconst popover = await this._getPopover();\n\n\t\tpopover && popover.close();\n\t}\n\n\tasync _getPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\treturn staticAreaItem.querySelector(\"[ui5-popover]\");\n\t}\n\n\tasync _getResponsivePopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\treturn staticAreaItem.querySelector(\"[ui5-responsive-popover]\");\n\t}\n\n\tasync _setValueStateHeader() {\n\t\tconst responsivePopover = await this._getResponsivePopover();\n\t\tthis.valueStateHeader = responsivePopover.querySelector(\"div.ui5-responsive-popover-header.ui5-valuestatemessage-root\");\n\t}\n\n\tget _tokenizer() {\n\t\treturn this.shadowRoot.querySelector(\"[ui5-tokenizer]\");\n\t}\n\n\tinputFocusIn() {\n\t\tif (!isPhone()) {\n\t\t\tthis.focused = true;\n\t\t} else {\n\t\t\tthis._innerInput.blur();\n\t\t}\n\n\t\tthis._lastValue = this.value;\n\t}\n\n\tinputFocusOut(event) {\n\t\tif (!this.shadowRoot.contains(event.relatedTarget) && !this._deleting) {\n\t\t\tthis.focused = false;\n\n\t\t\t// remove the value if user focus out the input and focus is not going in the popover\n\t\t\tif (!isPhone() && !this.allowCustomValues && (this.staticAreaItem !== event.relatedTarget)) {\n\t\t\t\tthis.value = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t_readonlyIconClick() {\n\t\tthis._inputDom.focus();\n\t}\n\n\tget editable() {\n\t\treturn !this.readonly;\n\t}\n\n\tget _isFocusInside() {\n\t\treturn !isPhone() && (this.focused || this._tokenizerFocused);\n\t}\n\n\tget selectedItemsListMode() {\n\t\treturn this.readonly ? \"None\" : \"MultiSelect\";\n\t}\n\n\tget _listItemsType() {\n\t\treturn this.readonly ? \"Inactive\" : \"Active\";\n\t}\n\n\tget hasValueState() {\n\t\treturn this.valueState !== ValueState.None;\n\t}\n\n\tget hasValueStateMessage() {\n\t\treturn this.hasValueState && this.valueState !== ValueState.Success;\n\t}\n\n\tget valueStateText() {\n\t\tlet key = this.valueState;\n\n\t\tif (this._performingSelectionTwice) {\n\t\t\tkey = \"Error_Selection\";\n\t\t}\n\n\t\treturn this.valueStateTextMappings[key];\n\t}\n\n\tget valueStateTextId() {\n\t\treturn this.hasValueState ? `${this._id}-valueStateDesc` : undefined;\n\t}\n\n\tget valueStateMessageText() {\n\t\treturn this.getSlottedNodes(\"valueStateMessage\").map(el => el.cloneNode(true));\n\t}\n\n\t/**\n\t * This method is relevant for sap_horizon theme only\n\t */\n\t get _valueStateMessageIcon() {\n\t\tconst iconPerValueState = {\n\t\t\tError: \"error\",\n\t\t\tWarning: \"alert\",\n\t\t\tSuccess: \"sys-enter-2\",\n\t\t\tInformation: \"information\",\n\t\t};\n\n\t\treturn this.valueState !== ValueState.None ? iconPerValueState[this.valueState] : \"\";\n\t}\n\n\tget _tokensCountText() {\n\t\tif (!this._tokenizer) {\n\t\t\treturn;\n\t\t}\n\t\treturn this._tokenizer._tokensCountText();\n\t}\n\n\tget _tokensCountTextId() {\n\t\treturn `${this._id}-hiddenText-nMore`;\n\t}\n\n\tget ariaDescribedByText() {\n\t\treturn this.valueStateTextId ? `${this._tokensCountTextId} ${this.valueStateTextId}` : `${this._tokensCountTextId}`;\n\t}\n\n\tget shouldDisplayDefaultValueStateMessage() {\n\t\treturn !this.valueStateMessage.length && this.hasValueStateMessage;\n\t}\n\n\tget shouldDisplayOnlyValueStateMessage() {\n\t\treturn this.focused && this.hasValueStateMessage && !this._iconPressed;\n\t}\n\n\tget valueStateTextMappings() {\n\t\treturn {\n\t\t\t\"Success\": MultiComboBox.i18nBundle.getText(VALUE_STATE_SUCCESS),\n\t\t\t\"Error\": MultiComboBox.i18nBundle.getText(VALUE_STATE_ERROR),\n\t\t\t\"Error_Selection\": MultiComboBox.i18nBundle.getText(VALUE_STATE_ERROR_ALREADY_SELECTED),\n\t\t\t\"Warning\": MultiComboBox.i18nBundle.getText(VALUE_STATE_WARNING),\n\t\t\t\"Information\": MultiComboBox.i18nBundle.getText(VALUE_STATE_INFORMATION),\n\t\t};\n\t}\n\n\tget _innerInput() {\n\t\tif (isPhone()) {\n\t\t\tif (this.allItemsPopover.opened) {\n\t\t\t\treturn this.allItemsPopover.querySelector(\"input\");\n\t\t\t}\n\t\t}\n\n\t\treturn this.getDomRef().querySelector(\"#ui5-multi-combobox-input\");\n\t}\n\n\tget _headerTitleText() {\n\t\treturn MultiComboBox.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n\t}\n\n\tget _iconAccessibleNameText() {\n\t\treturn MultiComboBox.i18nBundle.getText(SELECT_OPTIONS);\n\t}\n\n\tget _dialogOkButton() {\n\t\treturn MultiComboBox.i18nBundle.getText(MULTICOMBOBOX_DIALOG_OK_BUTTON);\n\t}\n\n\tget _tokenizerExpanded() {\n\t\treturn (this._isFocusInside || this.open) && !this.readonly;\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\tpopover: {\n\t\t\t\t\"ui5-multi-combobox-all-items-responsive-popover\": true,\n\t\t\t\t\"ui5-suggestions-popover\": !this.isPhone,\n\t\t\t\t\"ui5-suggestions-popover-with-value-state-header\": !this.isPhone && this.hasValueStateMessage,\n\t\t\t},\n\t\t\tpopoverValueState: {\n\t\t\t\t\"ui5-valuestatemessage-root\": true,\n\t\t\t\t\"ui5-valuestatemessage-header\": true,\n\t\t\t\t\"ui5-valuestatemessage--success\": this.valueState === ValueState.Success,\n\t\t\t\t\"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n\t\t\t\t\"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning,\n\t\t\t\t\"ui5-valuestatemessage--information\": this.valueState === ValueState.Information,\n\t\t\t},\n\t\t};\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tpopoverValueStateMessage: {\n\t\t\t\t\"width\": `${this._listWidth}px`,\n\t\t\t\t\"display\": this._listWidth === 0 ? \"none\" : \"inline-block\",\n\t\t\t},\n\t\t\tpopoverHeader: {\n\t\t\t\t\"max-width\": isPhone() ? \"100%\" : `${this._inputWidth}px`,\n\t\t\t},\n\t\t};\n\t}\n\n\tstatic async onDefine() {\n\t\tMultiComboBox.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n\t}\n}\n\nMultiComboBox.define();\n\nexport default MultiComboBox;\n"]},"metadata":{},"sourceType":"module"}