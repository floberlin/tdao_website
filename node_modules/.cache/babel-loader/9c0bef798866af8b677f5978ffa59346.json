{"ast":null,"code":"import _regeneratorRuntime from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport isNodeHidden from \"./isNodeHidden.js\";\nimport isNodeClickable from \"./isNodeClickable.js\";\n\nvar isFocusTrap = function isFocusTrap(el) {\n  return el.hasAttribute(\"data-ui5-focus-trap\");\n};\n\nvar getFirstFocusableElement = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(container) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(!container || isNodeHidden(container))) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", null);\n\n          case 2:\n            return _context.abrupt(\"return\", findFocusableElement(container, true));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getFirstFocusableElement(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getLastFocusableElement = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(container) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(!container || isNodeHidden(container))) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", null);\n\n          case 2:\n            return _context2.abrupt(\"return\", findFocusableElement(container, false));\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getLastFocusableElement(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar isElemFocusable = function isElemFocusable(el) {\n  return el.hasAttribute(\"data-ui5-focus-redirect\") || !isNodeHidden(el);\n};\n\nvar findFocusableElement = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(container, forward) {\n    var child, assignedElements, focusableDescendant, originalChild;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (container.shadowRoot) {\n              child = forward ? container.shadowRoot.firstChild : container.shadowRoot.lastChild;\n            } else if (container.assignedNodes && container.assignedNodes()) {\n              assignedElements = container.assignedNodes();\n              child = forward ? assignedElements[0] : assignedElements[assignedElements.length - 1];\n            } else {\n              child = forward ? container.firstChild : container.lastChild;\n            }\n\n          case 1:\n            if (!child) {\n              _context3.next = 20;\n              break;\n            }\n\n            originalChild = child;\n\n            if (!child.isUI5Element) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return child.getFocusDomRefAsync();\n\n          case 6:\n            child = _context3.sent;\n\n          case 7:\n            if (child) {\n              _context3.next = 9;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", null);\n\n          case 9:\n            if (!(child.nodeType === 1 && isElemFocusable(child) && !isFocusTrap(child))) {\n              _context3.next = 17;\n              break;\n            }\n\n            if (!isNodeClickable(child)) {\n              _context3.next = 12;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", child && typeof child.focus === \"function\" ? child : null);\n\n          case 12:\n            _context3.next = 14;\n            return findFocusableElement(child, forward);\n\n          case 14:\n            focusableDescendant = _context3.sent;\n\n            if (!focusableDescendant) {\n              _context3.next = 17;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", focusableDescendant && typeof focusableDescendant.focus === \"function\" ? focusableDescendant : null);\n\n          case 17:\n            child = forward ? originalChild.nextSibling : originalChild.previousSibling;\n            _context3.next = 1;\n            break;\n\n          case 20:\n            return _context3.abrupt(\"return\", null);\n\n          case 21:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function findFocusableElement(_x3, _x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport { getFirstFocusableElement, getLastFocusableElement };","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-base/dist/util/FocusableElements.js"],"names":["isNodeHidden","isNodeClickable","isFocusTrap","el","hasAttribute","getFirstFocusableElement","container","findFocusableElement","getLastFocusableElement","isElemFocusable","forward","shadowRoot","child","firstChild","lastChild","assignedNodes","assignedElements","length","originalChild","isUI5Element","getFocusDomRefAsync","nodeType","focus","focusableDescendant","nextSibling","previousSibling"],"mappings":"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","sourcesContent":["import isNodeHidden from \"./isNodeHidden.js\";\nimport isNodeClickable from \"./isNodeClickable.js\";\n\nconst isFocusTrap = el => {\n\treturn el.hasAttribute(\"data-ui5-focus-trap\");\n};\n\nconst getFirstFocusableElement = async container => {\n\tif (!container || isNodeHidden(container)) {\n\t\treturn null;\n\t}\n\n\treturn findFocusableElement(container, true);\n};\n\nconst getLastFocusableElement = async container => {\n\tif (!container || isNodeHidden(container)) {\n\t\treturn null;\n\t}\n\n\treturn findFocusableElement(container, false);\n};\n\nconst isElemFocusable = el => {\n\treturn el.hasAttribute(\"data-ui5-focus-redirect\") || !isNodeHidden(el);\n};\n\nconst findFocusableElement = async (container, forward) => {\n\tlet child;\n\n\tif (container.shadowRoot) {\n\t\tchild = forward ? container.shadowRoot.firstChild : container.shadowRoot.lastChild;\n\t} else if (container.assignedNodes && container.assignedNodes()) {\n\t\tconst assignedElements = container.assignedNodes();\n\t\tchild = forward ? assignedElements[0] : assignedElements[assignedElements.length - 1];\n\t} else {\n\t\tchild = forward ? container.firstChild : container.lastChild;\n\t}\n\n\tlet focusableDescendant;\n\n\t/* eslint-disable no-await-in-loop */\n\n\twhile (child) {\n\t\tconst originalChild = child;\n\n\t\tif (child.isUI5Element) {\n\t\t\tchild = await child.getFocusDomRefAsync();\n\t\t}\n\n\t\tif (!child) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (child.nodeType === 1 && isElemFocusable(child) && !isFocusTrap(child)) {\n\t\t\tif (isNodeClickable(child)) {\n\t\t\t\treturn (child && typeof child.focus === \"function\") ? child : null;\n\t\t\t}\n\n\t\t\tfocusableDescendant = await findFocusableElement(child, forward);\n\t\t\tif (focusableDescendant) {\n\t\t\t\treturn (focusableDescendant && typeof focusableDescendant.focus === \"function\") ? focusableDescendant : null;\n\t\t\t}\n\t\t}\n\n\t\tchild = forward ? originalChild.nextSibling : originalChild.previousSibling;\n\t}\n\n\t/* eslint-enable no-await-in-loop */\n\n\treturn null;\n};\n\nexport {\n\tgetFirstFocusableElement,\n\tgetLastFocusableElement,\n};\n"]},"metadata":{},"sourceType":"module"}