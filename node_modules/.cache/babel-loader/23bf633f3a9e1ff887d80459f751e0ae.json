{"ast":null,"code":"const tasks = new WeakMap();\n\nclass AnimationQueue {\n  static get tasks() {\n    return tasks;\n  }\n\n  static enqueue(element, task) {\n    if (!tasks.has(element)) {\n      tasks.set(element, []);\n    }\n\n    tasks.get(element).push(task);\n  }\n\n  static run(element, task) {\n    if (!tasks.has(element)) {\n      tasks.set(element, []);\n    }\n\n    return task().then(() => {\n      const elementTasks = tasks.get(element);\n\n      if (elementTasks.length > 0) {\n        return AnimationQueue.run(element, elementTasks.shift());\n      }\n\n      tasks.delete(element);\n    });\n  }\n\n  static push(element, task) {\n    const elementTasks = tasks.get(element);\n\n    if (elementTasks) {\n      AnimationQueue.enqueue(element, task);\n    } else {\n      AnimationQueue.run(element, task);\n    }\n  }\n\n}\n\nexport default AnimationQueue;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-base/dist/animations/AnimationQueue.js"],"names":["tasks","WeakMap","AnimationQueue","enqueue","element","task","has","set","get","push","run","then","elementTasks","length","shift","delete"],"mappings":"AAAA,MAAMA,KAAK,GAAG,IAAIC,OAAJ,EAAd;;AAEA,MAAMC,cAAN,CAAqB;AACJ,aAALF,KAAK,GAAG;AAClB,WAAOA,KAAP;AACA;;AAEa,SAAPG,OAAO,CAACC,OAAD,EAAUC,IAAV,EAAgB;AAC7B,QAAI,CAACL,KAAK,CAACM,GAAN,CAAUF,OAAV,CAAL,EAAyB;AACxBJ,MAAAA,KAAK,CAACO,GAAN,CAAUH,OAAV,EAAmB,EAAnB;AACA;;AAEDJ,IAAAA,KAAK,CAACQ,GAAN,CAAUJ,OAAV,EAAmBK,IAAnB,CAAwBJ,IAAxB;AACA;;AAES,SAAHK,GAAG,CAACN,OAAD,EAAUC,IAAV,EAAgB;AACzB,QAAI,CAACL,KAAK,CAACM,GAAN,CAAUF,OAAV,CAAL,EAAyB;AACxBJ,MAAAA,KAAK,CAACO,GAAN,CAAUH,OAAV,EAAmB,EAAnB;AACA;;AAED,WAAOC,IAAI,GAAGM,IAAP,CAAY,MAAM;AACxB,YAAMC,YAAY,GAAGZ,KAAK,CAACQ,GAAN,CAAUJ,OAAV,CAArB;;AAEA,UAAIQ,YAAY,CAACC,MAAb,GAAsB,CAA1B,EAA6B;AAC5B,eAAOX,cAAc,CAACQ,GAAf,CAAmBN,OAAnB,EAA4BQ,YAAY,CAACE,KAAb,EAA5B,CAAP;AACA;;AACDd,MAAAA,KAAK,CAACe,MAAN,CAAaX,OAAb;AACA,KAPM,CAAP;AAQA;;AAEU,SAAJK,IAAI,CAACL,OAAD,EAAUC,IAAV,EAAgB;AAC1B,UAAMO,YAAY,GAAGZ,KAAK,CAACQ,GAAN,CAAUJ,OAAV,CAArB;;AAEA,QAAIQ,YAAJ,EAAkB;AACjBV,MAAAA,cAAc,CAACC,OAAf,CAAuBC,OAAvB,EAAgCC,IAAhC;AACA,KAFD,MAEO;AACNH,MAAAA,cAAc,CAACQ,GAAf,CAAmBN,OAAnB,EAA4BC,IAA5B;AACA;AACD;;AApCmB;;AAuCrB,eAAeH,cAAf","sourcesContent":["const tasks = new WeakMap();\n\nclass AnimationQueue {\n\tstatic get tasks() {\n\t\treturn tasks;\n\t}\n\n\tstatic enqueue(element, task) {\n\t\tif (!tasks.has(element)) {\n\t\t\ttasks.set(element, []);\n\t\t}\n\n\t\ttasks.get(element).push(task);\n\t}\n\n\tstatic run(element, task) {\n\t\tif (!tasks.has(element)) {\n\t\t\ttasks.set(element, []);\n\t\t}\n\n\t\treturn task().then(() => {\n\t\t\tconst elementTasks = tasks.get(element);\n\n\t\t\tif (elementTasks.length > 0) {\n\t\t\t\treturn AnimationQueue.run(element, elementTasks.shift());\n\t\t\t}\n\t\t\ttasks.delete(element);\n\t\t});\n\t}\n\n\tstatic push(element, task) {\n\t\tconst elementTasks = tasks.get(element);\n\n\t\tif (elementTasks) {\n\t\t\tAnimationQueue.enqueue(element, task);\n\t\t} else {\n\t\t\tAnimationQueue.run(element, task);\n\t\t}\n\t}\n}\n\nexport default AnimationQueue;\n"]},"metadata":{},"sourceType":"module"}