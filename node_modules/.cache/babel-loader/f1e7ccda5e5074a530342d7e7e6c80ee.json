{"ast":null,"code":"import _regeneratorRuntime from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { supportsTouch } from \"../Device.js\";\nimport EventProvider from \"../EventProvider.js\";\nimport scroll from \"../animations/scroll.js\";\nvar scrollEventName = \"scroll\";\nvar touchEndEventName = supportsTouch() ? \"touchend\" : \"mouseup\";\n\nvar ScrollEnablement = /*#__PURE__*/function (_EventProvider) {\n  _inherits(ScrollEnablement, _EventProvider);\n\n  var _super = _createSuper(ScrollEnablement);\n\n  function ScrollEnablement(containerComponent) {\n    var _this;\n\n    _classCallCheck(this, ScrollEnablement);\n\n    _this = _super.call(this);\n    _this.containerComponent = containerComponent;\n    _this.mouseMove = _this.ontouchmove.bind(_assertThisInitialized(_this));\n    _this.mouseUp = _this.ontouchend.bind(_assertThisInitialized(_this));\n    _this.touchStart = _this.ontouchstart.bind(_assertThisInitialized(_this));\n    _this.supportsTouch = supportsTouch(); // On Android devices touchmove is thrown one more time than neccessary (together with touchend)\n    // so we have to cache the previus coordinates in order to provide correct parameters in the\n    // event for Android\n\n    _this.cachedValue = {}; // In components like Carousel you need to know if the user has clicked on something or swiped\n    // in order to throw the needed event or not\n\n    _this.startX = 0;\n    _this.startY = 0;\n\n    if (_this.supportsTouch) {\n      containerComponent.addEventListener(\"touchstart\", _this.touchStart, {\n        passive: true\n      });\n      containerComponent.addEventListener(\"touchmove\", _this.mouseMove, {\n        passive: true\n      });\n      containerComponent.addEventListener(\"touchend\", _this.mouseUp, {\n        passive: true\n      });\n    } else {\n      containerComponent.addEventListener(\"mousedown\", _this.touchStart, {\n        passive: true\n      });\n    }\n\n    return _this;\n  }\n\n  _createClass(ScrollEnablement, [{\n    key: \"scrollContainer\",\n    get: function get() {\n      return this._container;\n    }\n    /**\n     * Scrolls the container to the left/top position, retrying retryCount times, if the container is not yet painted\n     *\n     * @param left\n     * @param top\n     * @param retryCount\n     * @param retryInterval\n     * @returns {Promise<void>} resolved when scrolled successfully\n     */\n    ,\n    set: function set(container) {\n      this._container = container;\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function () {\n      var _scrollTo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(left, top) {\n        var _this2 = this;\n\n        var retryCount,\n            retryInterval,\n            containerPainted,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                retryCount = _args.length > 2 && _args[2] !== undefined ? _args[2] : 0;\n                retryInterval = _args.length > 3 && _args[3] !== undefined ? _args[3] : 0;\n                containerPainted = this.scrollContainer.clientHeight > 0 && this.scrollContainer.clientWidth > 0;\n                /* eslint-disable no-loop-func, no-await-in-loop */\n\n              case 3:\n                if (!(!containerPainted && retryCount > 0)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 6;\n                return new Promise(function (resolve) {\n                  setTimeout(function () {\n                    containerPainted = _this2.scrollContainer.clientHeight > 0 && _this2.scrollContainer.clientWidth > 0;\n                    retryCount--;\n                    resolve();\n                  }, retryInterval);\n                });\n\n              case 6:\n                _context.next = 3;\n                break;\n\n              case 8:\n                /* eslint-disable no-loop-func, no-await-in-loop */\n                this._container.scrollLeft = left;\n                this._container.scrollTop = top;\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function scrollTo(_x, _x2) {\n        return _scrollTo.apply(this, arguments);\n      }\n\n      return scrollTo;\n    }()\n  }, {\n    key: \"move\",\n    value: function move(dx, dy, disableAnimation) {\n      if (disableAnimation) {\n        this._container.scrollLeft += dx;\n        this._container.scrollTop += dy;\n        return;\n      }\n\n      return scroll({\n        element: this._container,\n        dx: dx,\n        dy: dy\n      });\n    }\n  }, {\n    key: \"getScrollLeft\",\n    value: function getScrollLeft() {\n      return this._container.scrollLeft;\n    }\n  }, {\n    key: \"getScrollTop\",\n    value: function getScrollTop() {\n      return this._container.scrollTop;\n    }\n  }, {\n    key: \"_isTouchInside\",\n    value: function _isTouchInside(touch) {\n      var rect = this._container.getBoundingClientRect();\n\n      var x = this.supportsTouch ? touch.clientX : touch.x;\n      var y = this.supportsTouch ? touch.clientY : touch.y;\n      return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n    }\n  }, {\n    key: \"ontouchstart\",\n    value: function ontouchstart(event) {\n      var touch = this.supportsTouch ? event.touches[0] : null;\n\n      if (!this.supportsTouch) {\n        document.addEventListener(\"mouseup\", this.mouseUp, {\n          passive: true\n        });\n        document.addEventListener(\"mousemove\", this.mouseMove, {\n          passive: true\n        });\n      } else {\n        // Needed only on mobile\n        this.startX = touch.pageX;\n        this.startY = touch.pageY;\n      }\n\n      this._prevDragX = this.supportsTouch ? touch.pageX : event.x;\n      this._prevDragY = this.supportsTouch ? touch.pageY : event.y;\n      this._canScroll = this._isTouchInside(this.supportsTouch ? touch : event);\n    }\n  }, {\n    key: \"ontouchmove\",\n    value: function ontouchmove(event) {\n      if (!this._canScroll) {\n        return;\n      }\n\n      var container = this._container;\n      var touch = this.supportsTouch ? event.touches[0] : null;\n      var dragX = this.supportsTouch ? touch.pageX : event.x;\n      var dragY = this.supportsTouch ? touch.pageY : event.y;\n      container.scrollLeft += this._prevDragX - dragX;\n      container.scrollTop += this._prevDragY - dragY;\n      this.fireEvent(scrollEventName, {\n        isLeft: dragX > this._prevDragX,\n        isRight: dragX < this._prevDragX\n      });\n      this.cachedValue.dragX = this._prevDragX;\n      this.cachedValue.dragY = this._prevDragY;\n      this._prevDragX = dragX;\n      this._prevDragY = dragY;\n    }\n  }, {\n    key: \"ontouchend\",\n    value: function ontouchend(event) {\n      if (this.supportsTouch) {\n        var deltaX = Math.abs(event.changedTouches[0].pageX - this.startX);\n        var deltaY = Math.abs(event.changedTouches[0].pageY - this.startY);\n\n        if (deltaX < 10 && deltaY < 10) {\n          return;\n        }\n      }\n\n      if (!this._canScroll) {\n        return;\n      }\n\n      var container = this._container;\n      var dragX = this.supportsTouch ? event.changedTouches[0].pageX : event.x;\n      var dragY = this.supportsTouch ? event.changedTouches[0].pageY : event.y;\n      container.scrollLeft += this._prevDragX - dragX;\n      container.scrollTop += this._prevDragY - dragY;\n      var useCachedValues = dragX === this._prevDragX;\n\n      var _dragX = useCachedValues ? this.cachedValue.dragX : dragX; // const _dragY = useCachedValues ? this.cachedValue.dragY : dragY; add if needed\n\n\n      this.fireEvent(touchEndEventName, {\n        isLeft: _dragX < this._prevDragX,\n        isRight: _dragX > this._prevDragX\n      });\n      this._prevDragX = dragX;\n      this._prevDragY = dragY;\n\n      if (!this.supportsTouch) {\n        document.removeEventListener(\"mousemove\", this.mouseMove, {\n          passive: true\n        });\n        document.removeEventListener(\"mouseup\", this.mouseUp);\n      }\n    }\n  }]);\n\n  return ScrollEnablement;\n}(EventProvider);\n\nexport default ScrollEnablement;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-base/dist/delegate/ScrollEnablement.js"],"names":["supportsTouch","EventProvider","scroll","scrollEventName","touchEndEventName","ScrollEnablement","containerComponent","mouseMove","ontouchmove","bind","mouseUp","ontouchend","touchStart","ontouchstart","cachedValue","startX","startY","addEventListener","passive","_container","container","left","top","retryCount","retryInterval","containerPainted","scrollContainer","clientHeight","clientWidth","Promise","resolve","setTimeout","scrollLeft","scrollTop","dx","dy","disableAnimation","element","touch","rect","getBoundingClientRect","x","clientX","y","clientY","right","bottom","event","touches","document","pageX","pageY","_prevDragX","_prevDragY","_canScroll","_isTouchInside","dragX","dragY","fireEvent","isLeft","isRight","deltaX","Math","abs","changedTouches","deltaY","useCachedValues","_dragX","removeEventListener"],"mappings":"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","sourcesContent":["import { supportsTouch } from \"../Device.js\";\nimport EventProvider from \"../EventProvider.js\";\nimport scroll from \"../animations/scroll.js\";\n\nconst scrollEventName = \"scroll\";\nconst touchEndEventName = supportsTouch() ? \"touchend\" : \"mouseup\";\n\nclass ScrollEnablement extends EventProvider {\n\tconstructor(containerComponent) {\n\t\tsuper();\n\t\tthis.containerComponent = containerComponent;\n\t\tthis.mouseMove = this.ontouchmove.bind(this);\n\t\tthis.mouseUp = this.ontouchend.bind(this);\n\t\tthis.touchStart = this.ontouchstart.bind(this);\n\n\t\tthis.supportsTouch = supportsTouch();\n\n\t\t// On Android devices touchmove is thrown one more time than neccessary (together with touchend)\n\t\t// so we have to cache the previus coordinates in order to provide correct parameters in the\n\t\t// event for Android\n\t\tthis.cachedValue = {};\n\n\t\t// In components like Carousel you need to know if the user has clicked on something or swiped\n\t\t// in order to throw the needed event or not\n\t\tthis.startX = 0;\n\t\tthis.startY = 0;\n\n\t\tif (this.supportsTouch) {\n\t\t\tcontainerComponent.addEventListener(\"touchstart\", this.touchStart, { passive: true });\n\t\t\tcontainerComponent.addEventListener(\"touchmove\", this.mouseMove, { passive: true });\n\t\t\tcontainerComponent.addEventListener(\"touchend\", this.mouseUp, { passive: true });\n\t\t} else {\n\t\t\tcontainerComponent.addEventListener(\"mousedown\", this.touchStart, { passive: true });\n\t\t}\n\t}\n\n\tset scrollContainer(container) {\n\t\tthis._container = container;\n\t}\n\n\tget scrollContainer() {\n\t\treturn this._container;\n\t}\n\n\t/**\n\t * Scrolls the container to the left/top position, retrying retryCount times, if the container is not yet painted\n\t *\n\t * @param left\n\t * @param top\n\t * @param retryCount\n\t * @param retryInterval\n\t * @returns {Promise<void>} resolved when scrolled successfully\n\t */\n\tasync scrollTo(left, top, retryCount = 0, retryInterval = 0) {\n\t\tlet containerPainted = this.scrollContainer.clientHeight > 0 && this.scrollContainer.clientWidth > 0;\n\n\t\t/* eslint-disable no-loop-func, no-await-in-loop */\n\t\twhile (!containerPainted && retryCount > 0) {\n\t\t\tawait new Promise(resolve => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tcontainerPainted = this.scrollContainer.clientHeight > 0 && this.scrollContainer.clientWidth > 0;\n\t\t\t\t\tretryCount--;\n\t\t\t\t\tresolve();\n\t\t\t\t}, retryInterval);\n\t\t\t});\n\t\t}\n\t\t/* eslint-disable no-loop-func, no-await-in-loop */\n\n\t\tthis._container.scrollLeft = left;\n\t\tthis._container.scrollTop = top;\n\t}\n\n\tmove(dx, dy, disableAnimation) {\n\t\tif (disableAnimation) {\n\t\t\tthis._container.scrollLeft += dx;\n\t\t\tthis._container.scrollTop += dy;\n\t\t\treturn;\n\t\t}\n\n\t\treturn scroll({\n\t\t\telement: this._container,\n\t\t\tdx,\n\t\t\tdy,\n\t\t});\n\t}\n\n\tgetScrollLeft() {\n\t\treturn this._container.scrollLeft;\n\t}\n\n\tgetScrollTop() {\n\t\treturn this._container.scrollTop;\n\t}\n\n\t_isTouchInside(touch) {\n\t\tconst rect = this._container.getBoundingClientRect();\n\t\tconst x = this.supportsTouch ? touch.clientX : touch.x;\n\t\tconst y = this.supportsTouch ? touch.clientY : touch.y;\n\n\t\treturn x >= rect.left && x <= rect.right\n\t\t\t&& y >= rect.top && y <= rect.bottom;\n\t}\n\n\tontouchstart(event) {\n\t\tconst touch = this.supportsTouch ? event.touches[0] : null;\n\n\t\tif (!this.supportsTouch) {\n\t\t\tdocument.addEventListener(\"mouseup\", this.mouseUp, { passive: true });\n\t\t\tdocument.addEventListener(\"mousemove\", this.mouseMove, { passive: true });\n\t\t} else {\n\t\t\t// Needed only on mobile\n\t\t\tthis.startX = touch.pageX;\n\t\t\tthis.startY = touch.pageY;\n\t\t}\n\n\t\tthis._prevDragX = this.supportsTouch ? touch.pageX : event.x;\n\t\tthis._prevDragY = this.supportsTouch ? touch.pageY : event.y;\n\n\t\tthis._canScroll = this._isTouchInside(this.supportsTouch ? touch : event);\n\t}\n\n\tontouchmove(event) {\n\t\tif (!this._canScroll) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst container = this._container;\n\t\tconst touch = this.supportsTouch ? event.touches[0] : null;\n\n\t\tconst dragX = this.supportsTouch ? touch.pageX : event.x;\n\t\tconst dragY = this.supportsTouch ? touch.pageY : event.y;\n\n\t\tcontainer.scrollLeft += this._prevDragX - dragX;\n\t\tcontainer.scrollTop += this._prevDragY - dragY;\n\n\t\tthis.fireEvent(scrollEventName, {\n\t\t\tisLeft: dragX > this._prevDragX,\n\t\t\tisRight: dragX < this._prevDragX,\n\t\t});\n\n\t\tthis.cachedValue.dragX = this._prevDragX;\n\t\tthis.cachedValue.dragY = this._prevDragY;\n\n\t\tthis._prevDragX = dragX;\n\t\tthis._prevDragY = dragY;\n\t}\n\n\tontouchend(event) {\n\t\tif (this.supportsTouch) {\n\t\t\tconst deltaX = Math.abs(event.changedTouches[0].pageX - this.startX);\n\t\t\tconst deltaY = Math.abs(event.changedTouches[0].pageY - this.startY);\n\n\t\t\tif (deltaX < 10 && deltaY < 10) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (!this._canScroll) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst container = this._container;\n\t\tconst dragX = this.supportsTouch ? event.changedTouches[0].pageX : event.x;\n\t\tconst dragY = this.supportsTouch ? event.changedTouches[0].pageY : event.y;\n\n\t\tcontainer.scrollLeft += this._prevDragX - dragX;\n\t\tcontainer.scrollTop += this._prevDragY - dragY;\n\n\t\tconst useCachedValues = dragX === this._prevDragX;\n\t\tconst _dragX = useCachedValues ? this.cachedValue.dragX : dragX;\n\t\t// const _dragY = useCachedValues ? this.cachedValue.dragY : dragY; add if needed\n\n\t\tthis.fireEvent(touchEndEventName, {\n\t\t\tisLeft: _dragX < this._prevDragX,\n\t\t\tisRight: _dragX > this._prevDragX,\n\t\t});\n\n\t\tthis._prevDragX = dragX;\n\t\tthis._prevDragY = dragY;\n\n\t\tif (!this.supportsTouch) {\n\t\t\tdocument.removeEventListener(\"mousemove\", this.mouseMove, { passive: true });\n\t\t\tdocument.removeEventListener(\"mouseup\", this.mouseUp);\n\t\t}\n\t}\n}\n\nexport default ScrollEnablement;\n"]},"metadata":{},"sourceType":"module"}