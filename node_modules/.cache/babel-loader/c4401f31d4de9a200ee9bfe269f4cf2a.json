{"ast":null,"code":"/*\n * Copyright 2008 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/*namespace com.google.zxing.oned {*/\n\n\nimport BarcodeFormat from '../BarcodeFormat';\nimport DecodeHintType from '../DecodeHintType';\nimport NotFoundException from '../NotFoundException';\nimport Code128Reader from './Code128Reader';\nimport Code39Reader from './Code39Reader';\nimport ITFReader from './ITFReader';\nimport MultiFormatUPCEANReader from './MultiFormatUPCEANReader';\nimport OneDReader from './OneDReader';\nimport RSSExpandedReader from './rss/expanded/RSSExpandedReader';\nimport RSS14Reader from './rss/RSS14Reader';\n/**\n * @author Daniel Switkin <dswitkin@google.com>\n * @author Sean Owen\n */\n\nvar MultiFormatOneDReader = function (_super) {\n  __extends(MultiFormatOneDReader, _super);\n\n  function MultiFormatOneDReader(hints) {\n    var _this = _super.call(this) || this;\n\n    _this.readers = [];\n    var possibleFormats = !hints ? null : hints.get(DecodeHintType.POSSIBLE_FORMATS);\n    var useCode39CheckDigit = hints && hints.get(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT) !== undefined;\n\n    if (possibleFormats) {\n      if (possibleFormats.includes(BarcodeFormat.EAN_13) || possibleFormats.includes(BarcodeFormat.UPC_A) || possibleFormats.includes(BarcodeFormat.EAN_8) || possibleFormats.includes(BarcodeFormat.UPC_E)) {\n        _this.readers.push(new MultiFormatUPCEANReader(hints));\n      }\n\n      if (possibleFormats.includes(BarcodeFormat.CODE_39)) {\n        _this.readers.push(new Code39Reader(useCode39CheckDigit));\n      } // if (possibleFormats.includes(BarcodeFormat.CODE_93)) {\n      //    this.readers.push(new Code93Reader());\n      // }\n\n\n      if (possibleFormats.includes(BarcodeFormat.CODE_128)) {\n        _this.readers.push(new Code128Reader());\n      }\n\n      if (possibleFormats.includes(BarcodeFormat.ITF)) {\n        _this.readers.push(new ITFReader());\n      } // if (possibleFormats.includes(BarcodeFormat.CODABAR)) {\n      //    this.readers.push(new CodaBarReader());\n      // }\n\n\n      if (possibleFormats.includes(BarcodeFormat.RSS_14)) {\n        _this.readers.push(new RSS14Reader());\n      }\n\n      if (possibleFormats.includes(BarcodeFormat.RSS_EXPANDED)) {\n        console.warn('RSS Expanded reader IS NOT ready for production yet! use at your own risk.');\n\n        _this.readers.push(new RSSExpandedReader());\n      }\n    }\n\n    if (_this.readers.length === 0) {\n      _this.readers.push(new MultiFormatUPCEANReader(hints));\n\n      _this.readers.push(new Code39Reader()); // this.readers.push(new CodaBarReader());\n      // this.readers.push(new Code93Reader());\n\n\n      _this.readers.push(new MultiFormatUPCEANReader(hints));\n\n      _this.readers.push(new Code128Reader());\n\n      _this.readers.push(new ITFReader());\n\n      _this.readers.push(new RSS14Reader()); // this.readers.push(new RSSExpandedReader());\n\n    }\n\n    return _this;\n  } // @Override\n\n\n  MultiFormatOneDReader.prototype.decodeRow = function (rowNumber, row, hints) {\n    for (var i = 0; i < this.readers.length; i++) {\n      try {\n        return this.readers[i].decodeRow(rowNumber, row, hints);\n      } catch (re) {// continue\n      }\n    }\n\n    throw new NotFoundException();\n  }; // @Override\n\n\n  MultiFormatOneDReader.prototype.reset = function () {\n    this.readers.forEach(function (reader) {\n      return reader.reset();\n    });\n  };\n\n  return MultiFormatOneDReader;\n}(OneDReader);\n\nexport default MultiFormatOneDReader;","map":{"version":3,"sources":["../../../../src/core/oned/MultiFormatOneDReader.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2008 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/*namespace com.google.zxing.oned {*/\nimport BarcodeFormat from '../BarcodeFormat';\nimport DecodeHintType from '../DecodeHintType';\nimport NotFoundException from '../NotFoundException';\nimport Code128Reader from './Code128Reader';\nimport Code39Reader from './Code39Reader';\nimport ITFReader from './ITFReader';\nimport MultiFormatUPCEANReader from './MultiFormatUPCEANReader';\nimport OneDReader from './OneDReader';\nimport RSSExpandedReader from './rss/expanded/RSSExpandedReader';\nimport RSS14Reader from './rss/RSS14Reader';\n/**\n * @author Daniel Switkin <dswitkin@google.com>\n * @author Sean Owen\n */\nvar MultiFormatOneDReader = /** @class */ (function (_super) {\n    __extends(MultiFormatOneDReader, _super);\n    function MultiFormatOneDReader(hints) {\n        var _this = _super.call(this) || this;\n        _this.readers = [];\n        var possibleFormats = !hints ? null : hints.get(DecodeHintType.POSSIBLE_FORMATS);\n        var useCode39CheckDigit = hints && hints.get(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT) !== undefined;\n        if (possibleFormats) {\n            if (possibleFormats.includes(BarcodeFormat.EAN_13) ||\n                possibleFormats.includes(BarcodeFormat.UPC_A) ||\n                possibleFormats.includes(BarcodeFormat.EAN_8) ||\n                possibleFormats.includes(BarcodeFormat.UPC_E)) {\n                _this.readers.push(new MultiFormatUPCEANReader(hints));\n            }\n            if (possibleFormats.includes(BarcodeFormat.CODE_39)) {\n                _this.readers.push(new Code39Reader(useCode39CheckDigit));\n            }\n            // if (possibleFormats.includes(BarcodeFormat.CODE_93)) {\n            //    this.readers.push(new Code93Reader());\n            // }\n            if (possibleFormats.includes(BarcodeFormat.CODE_128)) {\n                _this.readers.push(new Code128Reader());\n            }\n            if (possibleFormats.includes(BarcodeFormat.ITF)) {\n                _this.readers.push(new ITFReader());\n            }\n            // if (possibleFormats.includes(BarcodeFormat.CODABAR)) {\n            //    this.readers.push(new CodaBarReader());\n            // }\n            if (possibleFormats.includes(BarcodeFormat.RSS_14)) {\n                _this.readers.push(new RSS14Reader());\n            }\n            if (possibleFormats.includes(BarcodeFormat.RSS_EXPANDED)) {\n                console.warn('RSS Expanded reader IS NOT ready for production yet! use at your own risk.');\n                _this.readers.push(new RSSExpandedReader());\n            }\n        }\n        if (_this.readers.length === 0) {\n            _this.readers.push(new MultiFormatUPCEANReader(hints));\n            _this.readers.push(new Code39Reader());\n            // this.readers.push(new CodaBarReader());\n            // this.readers.push(new Code93Reader());\n            _this.readers.push(new MultiFormatUPCEANReader(hints));\n            _this.readers.push(new Code128Reader());\n            _this.readers.push(new ITFReader());\n            _this.readers.push(new RSS14Reader());\n            // this.readers.push(new RSSExpandedReader());\n        }\n        return _this;\n    }\n    // @Override\n    MultiFormatOneDReader.prototype.decodeRow = function (rowNumber, row, hints) {\n        for (var i = 0; i < this.readers.length; i++) {\n            try {\n                return this.readers[i].decodeRow(rowNumber, row, hints);\n            }\n            catch (re) {\n                // continue\n            }\n        }\n        throw new NotFoundException();\n    };\n    // @Override\n    MultiFormatOneDReader.prototype.reset = function () {\n        this.readers.forEach(function (reader) { return reader.reset(); });\n    };\n    return MultiFormatOneDReader;\n}(OneDReader));\nexport default MultiFormatOneDReader;\n//# sourceMappingURL=MultiFormatOneDReader.js.map"]},"metadata":{},"sourceType":"module"}