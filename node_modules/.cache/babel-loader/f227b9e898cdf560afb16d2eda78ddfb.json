{"ast":null,"code":"var _jsxFileName = \"/Users/flo/Desktop/mdao.fioriapp/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { ShellBar, ThemeProvider, Input, Avatar, SideNavigation, SideNavigationItem, SideNavigationSubItem, Icon } from \"@ui5/webcomponents-react\"; // eslint-disable-next-line no-unused-vars\n\nimport \"@ui5/webcomponents-icons/dist/AllIcons.js\";\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport \"./App.css\";\nimport { Route, HashRouter } from \"react-router-dom\";\nimport Asset from \"./pages/Asset\";\nimport QR from \"./pages/QR\";\nimport Error from \"./pages/Error\";\nimport Account from \"./pages/Account\";\nimport abi from \"./abi.json\";\nimport { isMobile } from \"react-device-detect\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { setTheme } from \"@ui5/webcomponents-base/dist/config/Theme\";\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet provider = null;\nlet signer = null;\nlet address = null;\nlet roProvidernoUser = new ethers.providers.JsonRpcProvider(\"https://polygon-mainnet.infura.io/v3/d8e7160dc78d48dba6ca40b11fdf1cd5\" || \"https://rpc-mainnet.matic.network\");\nlet tdao = new ethers.Contract(\"0xe939789E151608D7442E2e6Ff4ea4E2eaf314cF3\", abi, roProvidernoUser);\nconst roProvider = new WalletConnectProvider({\n  rpc: {\n    137: \"https://polygon-mainnet.infura.io/v3/d8e7160dc78d48dba6ca40b11fdf1cd5\"\n  }\n});\nexport async function ethersConnect() {\n  try {\n    if (isMobile) {\n      await roProvider.enable();\n      provider = new ethers.providers.Web3Provider(roProvider);\n    } else {\n      provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n      await provider.send(\"eth_requestAccounts\", []);\n    } //[provider.getBlockNumber().then((b) => b - 10000),provider.getBlockNumber().then((b) => b )]\n\n\n    signer = provider.getSigner();\n    address = await signer.getAddress();\n    tdao = new ethers.Contract(\"0xe939789E151608D7442E2e6Ff4ea4E2eaf314cF3\", abi, signer); //  let filter = tdao.filters.TransferSingle();\n    // console.log(filter)\n    // console.log(await tdao.filter.TransferSingle());\n    // console.log(await tdao.queryFilter(filter, 17862525 , 17862925));\n\n    return await signer.getAddress();\n  } catch (error) {\n    //alert(\"Please install Metamask!\")\n    console.log(\"e :\" + error);\n    return \"Read only\";\n  }\n}\nexport async function getTokenId(ipfsId) {\n  try {\n    ipfsId = ipfsId.split(\"/\")[0];\n    const rslt = tdao.getTokenId(ipfsId).then(result => {\n      return result.toNumber();\n    });\n    return rslt;\n  } catch {\n    return \"\";\n  }\n}\n\nfunction handleSearch(value) {\n  window.location.assign(\"/#/asset/\" + value);\n}\n\nfunction handleAccount(value) {\n  window.location.assign(\"/#/account/\" + address);\n}\n\nfunction handleQR() {\n  window.location.assign(\"/#/qr\");\n}\n\nfunction handleHome() {\n  window.location.assign(\"/#/\");\n}\n\nsetTheme(\"sap_horizon\");\n\nfunction App() {\n  _s();\n\n  const [value, setValue] = useState(\"\");\n  const [userAddress, setuserAddress] = useState(\"Connect Wallet\");\n  const [menu, setMenu] = useState(\"none\");\n  const [profile, setProfile] = useState(false);\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    children: /*#__PURE__*/_jsxDEV(HashRouter, {\n      children: [/*#__PURE__*/_jsxDEV(ShellBar // primary-title=\"Home\"\n      , {\n        logo: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"tdao\",\n          mdxtype: \"img\",\n          originaltype: \"img\",\n          src: \"../tdao_cropped.svg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this),\n        onLogoClick: () => handleHome(),\n        onMenuItemClick: function noRefCheck() {},\n        style: {\n          overflow: \"auto\"\n        },\n        className: \"Shell\",\n        onProfileClick: () => setMenu(\"block\"),\n        profile: /*#__PURE__*/_jsxDEV(Avatar, {\n          icon: \"menu2\",\n          colorScheme: \"Accent10\",\n          size: \"XS\",\n          shape: \"Square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Menu\",\n        style: {\n          display: menu\n        },\n        children: /*#__PURE__*/_jsxDEV(SideNavigation, {\n          className: \"Menu\",\n          fixedItems: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(SideNavigationItem, {\n              icon: \"information\",\n              text: \"Impressum\",\n              onClick: () => window.location.replace(\"https://www.t-systems.com/de/en/imprint\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this)\n          }, void 0, false),\n          onSelectionChange: function noRefCheck() {},\n          slot: \"\",\n          style: {},\n          tooltip: \"\",\n          children: [/*#__PURE__*/_jsxDEV(SideNavigationItem, {\n            icon: \"nav-back\",\n            text: \"Back\",\n            onClick: () => setMenu(\"none\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SideNavigationItem, {\n            className: \"\",\n            icon: \"group\",\n            onSelectionChange: function noRefCheck() {},\n            onClick: () => ethersConnect().then(a => {\n              setuserAddress(a.substring(0, 6) + \"...\" + a.slice(-4));\n              setProfile(!profile);\n            }),\n            onChange: e => setuserAddress(e.target.userAddress),\n            text: userAddress,\n            tooltip: userAddress,\n            children: /*#__PURE__*/_jsxDEV(SideNavigationSubItem, {\n              text: \"Account\",\n              icon: \"customer\",\n              onClick: () => {\n                handleAccount();\n                setMenu(\"none\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        strict: true,\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Scan\",\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              colorScheme: \"Accent6\",\n              size: \"XL\",\n              icon: \"bar-code\",\n              onClick: () => handleQR(),\n              tooltip: \"Click to Scan QR-Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Search\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => setValue(e.target.value),\n              style: {},\n              type: \"Text\",\n              placeholder: \"Enter your IPFS Address\",\n              icon: /*#__PURE__*/_jsxDEV(Icon, {\n                name: \"search\",\n                onClick: () => handleSearch(value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/asset\",\n        children: /*#__PURE__*/_jsxDEV(Asset, {}, \"test\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/qr\",\n        children: /*#__PURE__*/_jsxDEV(QR, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/error\",\n        children: /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/account\",\n        children: /*#__PURE__*/_jsxDEV(Account, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"xqSak3fTuxGUE38y9y1T3ZbBvIc=\", false, function () {\n  return [useTranslation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/src/App.js"],"names":["ShellBar","ThemeProvider","Input","Avatar","SideNavigation","SideNavigationItem","SideNavigationSubItem","Icon","React","useState","ethers","Route","HashRouter","Asset","QR","Error","Account","abi","isMobile","WalletConnectProvider","setTheme","useTranslation","provider","signer","address","roProvidernoUser","providers","JsonRpcProvider","tdao","Contract","roProvider","rpc","ethersConnect","enable","Web3Provider","window","ethereum","send","getSigner","getAddress","error","console","log","getTokenId","ipfsId","split","rslt","then","result","toNumber","handleSearch","value","location","assign","handleAccount","handleQR","handleHome","App","setValue","userAddress","setuserAddress","menu","setMenu","profile","setProfile","t","i18n","noRefCheck","overflow","display","replace","a","substring","slice","e","target"],"mappings":"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","sourcesContent":["import {\n  ShellBar,\n  ThemeProvider,\n  Input,\n  Avatar,\n  SideNavigation,\n  SideNavigationItem,\n  SideNavigationSubItem,\n  Icon,\n} from \"@ui5/webcomponents-react\";\n// eslint-disable-next-line no-unused-vars\nimport \"@ui5/webcomponents-icons/dist/AllIcons.js\";\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport \"./App.css\";\nimport { Route, HashRouter } from \"react-router-dom\";\nimport Asset from \"./pages/Asset\";\nimport QR from \"./pages/QR\";\nimport Error from \"./pages/Error\";\nimport Account from \"./pages/Account\";\nimport abi from \"./abi.json\";\nimport { isMobile } from \"react-device-detect\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { setTheme } from \"@ui5/webcomponents-base/dist/config/Theme\";\nimport { useTranslation } from 'react-i18next';\n\n\nlet provider = null;\nlet signer = null;\nlet address = null;\nlet roProvidernoUser = new ethers.providers.JsonRpcProvider(\n  \"https://polygon-mainnet.infura.io/v3/d8e7160dc78d48dba6ca40b11fdf1cd5\" ||\n    \"https://rpc-mainnet.matic.network\"\n);\nlet tdao = new ethers.Contract(\n  \"0xe939789E151608D7442E2e6Ff4ea4E2eaf314cF3\",\n  abi,\n  roProvidernoUser\n);\nconst roProvider = new WalletConnectProvider({\n  rpc: {\n    137: \"https://polygon-mainnet.infura.io/v3/d8e7160dc78d48dba6ca40b11fdf1cd5\",\n  },\n});\n\nexport async function ethersConnect() {\n  try {\n    if (isMobile) {\n      await roProvider.enable();\n      provider = new ethers.providers.Web3Provider(roProvider);\n    } else {\n      provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n      await provider.send(\"eth_requestAccounts\", []);\n    }\n\n    //[provider.getBlockNumber().then((b) => b - 10000),provider.getBlockNumber().then((b) => b )]\n\n    signer = provider.getSigner();\n    address = await signer.getAddress();\n    tdao = new ethers.Contract(\n      \"0xe939789E151608D7442E2e6Ff4ea4E2eaf314cF3\",\n      abi,\n      signer\n    );\n\n    //  let filter = tdao.filters.TransferSingle();\n    // console.log(filter)\n    // console.log(await tdao.filter.TransferSingle());\n    // console.log(await tdao.queryFilter(filter, 17862525 , 17862925));\n\n    return await signer.getAddress();\n  } catch (error) {\n    //alert(\"Please install Metamask!\")\n    console.log(\"e :\" + error);\n\n    return \"Read only\";\n  }\n}\n\nexport async function getTokenId(ipfsId) {\n  try {\n    ipfsId = ipfsId.split(\"/\")[0];\n    const rslt = tdao.getTokenId(ipfsId).then((result) => {\n      return result.toNumber();\n    });\n    return rslt;\n  } catch {\n    return \"\";\n  }\n}\n\nfunction handleSearch(value) {\n  window.location.assign(\"/#/asset/\" + value);\n}\n\nfunction handleAccount(value) {\n  window.location.assign(\"/#/account/\" + address);\n}\n\nfunction handleQR() {\n  window.location.assign(\"/#/qr\");\n}\n\nfunction handleHome() {\n  window.location.assign(\"/#/\");\n}\n\nsetTheme(\"sap_horizon\");\n\nfunction App() {\n  const [value, setValue] = useState(\"\");\n  const [userAddress, setuserAddress] = useState(\"Connect Wallet\");\n  const [menu, setMenu] = useState(\"none\");\n  const [profile, setProfile] = useState(false);\n  const { t, i18n } = useTranslation();\n  return (\n    <ThemeProvider>\n      <HashRouter>\n        <ShellBar\n          // primary-title=\"Home\"\n          logo={\n            <img\n              alt=\"tdao\"\n              mdxtype=\"img\"\n              originaltype=\"img\"\n              src=\"../tdao_cropped.svg\"\n            />\n          }\n          onLogoClick={() => handleHome()}\n          onMenuItemClick={function noRefCheck() {}}\n          style={{ overflow: \"auto\" }}\n          className=\"Shell\"\n          onProfileClick={() => setMenu(\"block\")}\n          profile={\n            <Avatar\n              icon=\"menu2\"\n              colorScheme=\"Accent10\"\n              size=\"XS\"\n              shape=\"Square\"\n            ></Avatar>\n          }\n        ></ShellBar>\n        <div className=\"Menu\" style={{ display: menu }}>\n          <SideNavigation\n            className=\"Menu\"\n            fixedItems={\n              <>\n                <SideNavigationItem\n                  icon=\"information\"\n                  text=\"Impressum\"\n                  onClick={() =>\n                    window.location.replace(\n                      \"https://www.t-systems.com/de/en/imprint\"\n                    )\n                  }\n                />\n              </>\n            }\n            onSelectionChange={function noRefCheck() {}}\n            slot=\"\"\n            style={{}}\n            tooltip=\"\"\n          >\n            <SideNavigationItem\n              icon=\"nav-back\"\n              text=\"Back\"\n              onClick={() => setMenu(\"none\")}\n            />\n            <SideNavigationItem\n              className=\"\"\n              icon=\"group\"\n              onSelectionChange={function noRefCheck() {}}\n              onClick={() =>\n                ethersConnect().then((a) => {\n                  setuserAddress(a.substring(0, 6) + \"...\" + a.slice(-4));\n                  setProfile(!profile);\n                })\n              }\n              onChange={(e) => setuserAddress(e.target.userAddress)}\n              text={userAddress}\n              tooltip={userAddress}\n            >\n              <SideNavigationSubItem\n                text=\"Account\"\n                icon=\"customer\"\n                onClick={() => {\n                  handleAccount();\n                  setMenu(\"none\");\n                }}\n              />\n            </SideNavigationItem>\n          </SideNavigation>\n        </div>\n        <Route exact strict path=\"/\">\n          <div className=\"App\">\n            <div className=\"Scan\">\n              <Avatar\n                colorScheme=\"Accent6\"\n                size=\"XL\"\n                icon=\"bar-code\"\n                onClick={() => handleQR()}\n                tooltip=\"Click to Scan QR-Code\"\n              />\n            </div>\n            <div className=\"Search\">\n              <Input\n                onChange={(e) => setValue(e.target.value)}\n                style={{}}\n                type=\"Text\"\n                placeholder=\"Enter your IPFS Address\"\n                icon={\n                  <Icon name=\"search\" onClick={() => handleSearch(value)} />\n                }\n              />\n            </div>\n          </div>\n        </Route>\n\n        <Route path=\"/asset\">\n          <Asset key={\"test\"} />\n        </Route>\n        <Route path=\"/qr\">\n          <QR />\n        </Route>\n        <Route path=\"/error\">\n          <Error />\n        </Route>\n        <Route path=\"/account\">\n          <Account />\n        </Route>\n      </HashRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}