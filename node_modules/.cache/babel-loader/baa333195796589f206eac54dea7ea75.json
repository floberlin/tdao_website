{"ast":null,"code":"import now from './util/now.js';\nvar Log = {};\nLog.Level = {\n  NONE: -1,\n  FATAL: 0,\n  ERROR: 1,\n  WARNING: 2,\n  INFO: 3,\n  DEBUG: 4,\n  TRACE: 5,\n  ALL: 5 + 1\n};\nvar sDefaultComponent,\n    aLog = [],\n    mMaxLevel = {\n  '': Log.Level.ERROR\n},\n    iLogEntriesLimit = 3000,\n    oListener = null,\n    bLogSupportInfo = false;\n\nfunction pad0(i, w) {\n  return ('000' + String(i)).slice(-w);\n}\n\nfunction level(sComponent) {\n  return !sComponent || isNaN(mMaxLevel[sComponent]) ? mMaxLevel[''] : mMaxLevel[sComponent];\n}\n\nfunction discardLogEntries() {\n  var iLogLength = aLog.length;\n\n  if (iLogLength) {\n    var iEntriesToKeep = Math.min(iLogLength, Math.floor(iLogEntriesLimit * 0.7));\n\n    if (oListener) {\n      oListener.onDiscardLogEntries(aLog.slice(0, iLogLength - iEntriesToKeep));\n    }\n\n    if (iEntriesToKeep) {\n      aLog = aLog.slice(-iEntriesToKeep, iLogLength);\n    } else {\n      aLog = [];\n    }\n  }\n}\n\nfunction getLogEntryListenerInstance() {\n  if (!oListener) {\n    oListener = {\n      listeners: [],\n      onLogEntry: function onLogEntry(oLogEntry) {\n        for (var i = 0; i < oListener.listeners.length; i++) {\n          if (oListener.listeners[i].onLogEntry) {\n            oListener.listeners[i].onLogEntry(oLogEntry);\n          }\n        }\n      },\n      onDiscardLogEntries: function onDiscardLogEntries(aDiscardedLogEntries) {\n        for (var i = 0; i < oListener.listeners.length; i++) {\n          if (oListener.listeners[i].onDiscardLogEntries) {\n            oListener.listeners[i].onDiscardLogEntries(aDiscardedLogEntries);\n          }\n        }\n      },\n      attach: function attach(oLog, oLstnr) {\n        if (oLstnr) {\n          oListener.listeners.push(oLstnr);\n\n          if (oLstnr.onAttachToLog) {\n            oLstnr.onAttachToLog(oLog);\n          }\n        }\n      },\n      detach: function detach(oLog, oLstnr) {\n        for (var i = 0; i < oListener.listeners.length; i++) {\n          if (oListener.listeners[i] === oLstnr) {\n            if (oLstnr.onDetachFromLog) {\n              oLstnr.onDetachFromLog(oLog);\n            }\n\n            oListener.listeners.splice(i, 1);\n            return;\n          }\n        }\n      }\n    };\n  }\n\n  return oListener;\n}\n\nLog.fatal = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n  log(Log.Level.FATAL, sMessage, sDetails, sComponent, fnSupportInfo);\n};\n\nLog.error = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n  log(Log.Level.ERROR, sMessage, sDetails, sComponent, fnSupportInfo);\n};\n\nLog.warning = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n  log(Log.Level.WARNING, sMessage, sDetails, sComponent, fnSupportInfo);\n};\n\nLog.info = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n  log(Log.Level.INFO, sMessage, sDetails, sComponent, fnSupportInfo);\n};\n\nLog.debug = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n  log(Log.Level.DEBUG, sMessage, sDetails, sComponent, fnSupportInfo);\n};\n\nLog.trace = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n  log(Log.Level.TRACE, sMessage, sDetails, sComponent, fnSupportInfo);\n};\n\nLog.setLevel = function (iLogLevel, sComponent, _bDefault) {\n  sComponent = sComponent || sDefaultComponent || '';\n\n  if (!_bDefault || mMaxLevel[sComponent] == null) {\n    mMaxLevel[sComponent] = iLogLevel;\n    var sLogLevel;\n    Object.keys(Log.Level).forEach(function (sLevel) {\n      if (Log.Level[sLevel] === iLogLevel) {\n        sLogLevel = sLevel;\n      }\n    });\n    log(Log.Level.INFO, 'Changing log level ' + (sComponent ? 'for \\'' + sComponent + '\\' ' : '') + 'to ' + sLogLevel, '', 'sap.base.log');\n  }\n};\n\nLog.getLevel = function (sComponent) {\n  return level(sComponent || sDefaultComponent);\n};\n\nLog.isLoggable = function (iLevel, sComponent) {\n  return (iLevel == null ? Log.Level.DEBUG : iLevel) <= level(sComponent || sDefaultComponent);\n};\n\nLog.logSupportInfo = function (bEnabled) {\n  bLogSupportInfo = bEnabled;\n};\n\nfunction log(iLevel, sMessage, sDetails, sComponent, fnSupportInfo) {\n  if (!fnSupportInfo && !sComponent && typeof sDetails === 'function') {\n    fnSupportInfo = sDetails;\n    sDetails = '';\n  }\n\n  if (!fnSupportInfo && typeof sComponent === 'function') {\n    fnSupportInfo = sComponent;\n    sComponent = '';\n  }\n\n  sComponent = sComponent || sDefaultComponent;\n\n  if (iLevel <= level(sComponent)) {\n    var fNow = now(),\n        oNow = new Date(fNow),\n        iMicroSeconds = Math.floor((fNow - Math.floor(fNow)) * 1000),\n        oLogEntry = {\n      time: pad0(oNow.getHours(), 2) + ':' + pad0(oNow.getMinutes(), 2) + ':' + pad0(oNow.getSeconds(), 2) + '.' + pad0(oNow.getMilliseconds(), 3) + pad0(iMicroSeconds, 3),\n      date: pad0(oNow.getFullYear(), 4) + '-' + pad0(oNow.getMonth() + 1, 2) + '-' + pad0(oNow.getDate(), 2),\n      timestamp: fNow,\n      level: iLevel,\n      message: String(sMessage || ''),\n      details: String(sDetails || ''),\n      component: String(sComponent || '')\n    };\n\n    if (bLogSupportInfo && typeof fnSupportInfo === 'function') {\n      oLogEntry.supportInfo = fnSupportInfo();\n    }\n\n    if (iLogEntriesLimit) {\n      if (aLog.length >= iLogEntriesLimit) {\n        discardLogEntries();\n      }\n\n      aLog.push(oLogEntry);\n    }\n\n    if (oListener) {\n      oListener.onLogEntry(oLogEntry);\n    }\n\n    if (console) {\n      var isDetailsError = sDetails instanceof Error,\n          logText = oLogEntry.date + ' ' + oLogEntry.time + ' ' + oLogEntry.message + ' - ' + oLogEntry.details + ' ' + oLogEntry.component;\n\n      switch (iLevel) {\n        case Log.Level.FATAL:\n        case Log.Level.ERROR:\n          isDetailsError ? console.error(logText, '\\n', sDetails) : console.error(logText);\n          break;\n\n        case Log.Level.WARNING:\n          isDetailsError ? console.warn(logText, '\\n', sDetails) : console.warn(logText);\n          break;\n\n        case Log.Level.INFO:\n          if (console.info) {\n            isDetailsError ? console.info(logText, '\\n', sDetails) : console.info(logText);\n          } else {\n            isDetailsError ? console.log(logText, '\\n', sDetails) : console.log(logText);\n          }\n\n          break;\n\n        case Log.Level.DEBUG:\n          isDetailsError ? console.debug(logText, '\\n', sDetails) : console.debug(logText);\n          break;\n\n        case Log.Level.TRACE:\n          isDetailsError ? console.trace(logText, '\\n', sDetails) : console.trace(logText);\n          break;\n      }\n\n      if (console.info && oLogEntry.supportInfo) {\n        console.info(oLogEntry.supportInfo);\n      }\n    }\n\n    return oLogEntry;\n  }\n}\n\nLog.getLogEntries = function () {\n  return aLog.slice();\n};\n\nLog.getLogEntriesLimit = function () {\n  return iLogEntriesLimit;\n};\n\nLog.setLogEntriesLimit = function (iLimit) {\n  if (iLimit < 0) {\n    throw new Error('The log entries limit needs to be greater than or equal to 0!');\n  }\n\n  iLogEntriesLimit = iLimit;\n\n  if (aLog.length >= iLogEntriesLimit) {\n    discardLogEntries();\n  }\n};\n\nLog.addLogListener = function (oListener) {\n  getLogEntryListenerInstance().attach(this, oListener);\n};\n\nLog.removeLogListener = function (oListener) {\n  getLogEntryListenerInstance().detach(this, oListener);\n};\n\nfunction Logger(sComponent) {\n  this.fatal = function (msg, detail, comp, support) {\n    Log.fatal(msg, detail, comp || sComponent, support);\n    return this;\n  };\n\n  this.error = function (msg, detail, comp, support) {\n    Log.error(msg, detail, comp || sComponent, support);\n    return this;\n  };\n\n  this.warning = function (msg, detail, comp, support) {\n    Log.warning(msg, detail, comp || sComponent, support);\n    return this;\n  };\n\n  this.info = function (msg, detail, comp, support) {\n    Log.info(msg, detail, comp || sComponent, support);\n    return this;\n  };\n\n  this.debug = function (msg, detail, comp, support) {\n    Log.debug(msg, detail, comp || sComponent, support);\n    return this;\n  };\n\n  this.trace = function (msg, detail, comp, support) {\n    Log.trace(msg, detail, comp || sComponent, support);\n    return this;\n  };\n\n  this.setLevel = function (level, comp) {\n    Log.setLevel(level, comp || sComponent);\n    return this;\n  };\n\n  this.getLevel = function (comp) {\n    return Log.getLevel(comp || sComponent);\n  };\n\n  this.isLoggable = function (level, comp) {\n    return Log.isLoggable(level, comp || sComponent);\n  };\n}\n\nLog.getLogger = function (sComponent, iDefaultLogLevel) {\n  if (!isNaN(iDefaultLogLevel) && mMaxLevel[sComponent] == null) {\n    mMaxLevel[sComponent] = iDefaultLogLevel;\n  }\n\n  return new Logger(sComponent);\n};\n\nexport default Log;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-localization/dist/sap/base/Log.js"],"names":["now","Log","Level","NONE","FATAL","ERROR","WARNING","INFO","DEBUG","TRACE","ALL","sDefaultComponent","aLog","mMaxLevel","iLogEntriesLimit","oListener","bLogSupportInfo","pad0","i","w","String","slice","level","sComponent","isNaN","discardLogEntries","iLogLength","length","iEntriesToKeep","Math","min","floor","onDiscardLogEntries","getLogEntryListenerInstance","listeners","onLogEntry","oLogEntry","aDiscardedLogEntries","attach","oLog","oLstnr","push","onAttachToLog","detach","onDetachFromLog","splice","fatal","sMessage","sDetails","fnSupportInfo","log","error","warning","info","debug","trace","setLevel","iLogLevel","_bDefault","sLogLevel","Object","keys","forEach","sLevel","getLevel","isLoggable","iLevel","logSupportInfo","bEnabled","fNow","oNow","Date","iMicroSeconds","time","getHours","getMinutes","getSeconds","getMilliseconds","date","getFullYear","getMonth","getDate","timestamp","message","details","component","supportInfo","console","isDetailsError","Error","logText","warn","getLogEntries","getLogEntriesLimit","setLogEntriesLimit","iLimit","addLogListener","removeLogListener","Logger","msg","detail","comp","support","getLogger","iDefaultLogLevel"],"mappings":"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","sourcesContent":["import now from './util/now.js';\nvar Log = {};\nLog.Level = {\n    NONE: -1,\n    FATAL: 0,\n    ERROR: 1,\n    WARNING: 2,\n    INFO: 3,\n    DEBUG: 4,\n    TRACE: 5,\n    ALL: 5 + 1\n};\nvar sDefaultComponent, aLog = [], mMaxLevel = { '': Log.Level.ERROR }, iLogEntriesLimit = 3000, oListener = null, bLogSupportInfo = false;\nfunction pad0(i, w) {\n    return ('000' + String(i)).slice(-w);\n}\nfunction level(sComponent) {\n    return !sComponent || isNaN(mMaxLevel[sComponent]) ? mMaxLevel[''] : mMaxLevel[sComponent];\n}\nfunction discardLogEntries() {\n    var iLogLength = aLog.length;\n    if (iLogLength) {\n        var iEntriesToKeep = Math.min(iLogLength, Math.floor(iLogEntriesLimit * 0.7));\n        if (oListener) {\n            oListener.onDiscardLogEntries(aLog.slice(0, iLogLength - iEntriesToKeep));\n        }\n        if (iEntriesToKeep) {\n            aLog = aLog.slice(-iEntriesToKeep, iLogLength);\n        } else {\n            aLog = [];\n        }\n    }\n}\nfunction getLogEntryListenerInstance() {\n    if (!oListener) {\n        oListener = {\n            listeners: [],\n            onLogEntry: function (oLogEntry) {\n                for (var i = 0; i < oListener.listeners.length; i++) {\n                    if (oListener.listeners[i].onLogEntry) {\n                        oListener.listeners[i].onLogEntry(oLogEntry);\n                    }\n                }\n            },\n            onDiscardLogEntries: function (aDiscardedLogEntries) {\n                for (var i = 0; i < oListener.listeners.length; i++) {\n                    if (oListener.listeners[i].onDiscardLogEntries) {\n                        oListener.listeners[i].onDiscardLogEntries(aDiscardedLogEntries);\n                    }\n                }\n            },\n            attach: function (oLog, oLstnr) {\n                if (oLstnr) {\n                    oListener.listeners.push(oLstnr);\n                    if (oLstnr.onAttachToLog) {\n                        oLstnr.onAttachToLog(oLog);\n                    }\n                }\n            },\n            detach: function (oLog, oLstnr) {\n                for (var i = 0; i < oListener.listeners.length; i++) {\n                    if (oListener.listeners[i] === oLstnr) {\n                        if (oLstnr.onDetachFromLog) {\n                            oLstnr.onDetachFromLog(oLog);\n                        }\n                        oListener.listeners.splice(i, 1);\n                        return;\n                    }\n                }\n            }\n        };\n    }\n    return oListener;\n}\nLog.fatal = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n    log(Log.Level.FATAL, sMessage, sDetails, sComponent, fnSupportInfo);\n};\nLog.error = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n    log(Log.Level.ERROR, sMessage, sDetails, sComponent, fnSupportInfo);\n};\nLog.warning = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n    log(Log.Level.WARNING, sMessage, sDetails, sComponent, fnSupportInfo);\n};\nLog.info = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n    log(Log.Level.INFO, sMessage, sDetails, sComponent, fnSupportInfo);\n};\nLog.debug = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n    log(Log.Level.DEBUG, sMessage, sDetails, sComponent, fnSupportInfo);\n};\nLog.trace = function (sMessage, sDetails, sComponent, fnSupportInfo) {\n    log(Log.Level.TRACE, sMessage, sDetails, sComponent, fnSupportInfo);\n};\nLog.setLevel = function (iLogLevel, sComponent, _bDefault) {\n    sComponent = sComponent || sDefaultComponent || '';\n    if (!_bDefault || mMaxLevel[sComponent] == null) {\n        mMaxLevel[sComponent] = iLogLevel;\n        var sLogLevel;\n        Object.keys(Log.Level).forEach(function (sLevel) {\n            if (Log.Level[sLevel] === iLogLevel) {\n                sLogLevel = sLevel;\n            }\n        });\n        log(Log.Level.INFO, 'Changing log level ' + (sComponent ? 'for \\'' + sComponent + '\\' ' : '') + 'to ' + sLogLevel, '', 'sap.base.log');\n    }\n};\nLog.getLevel = function (sComponent) {\n    return level(sComponent || sDefaultComponent);\n};\nLog.isLoggable = function (iLevel, sComponent) {\n    return (iLevel == null ? Log.Level.DEBUG : iLevel) <= level(sComponent || sDefaultComponent);\n};\nLog.logSupportInfo = function (bEnabled) {\n    bLogSupportInfo = bEnabled;\n};\nfunction log(iLevel, sMessage, sDetails, sComponent, fnSupportInfo) {\n    if (!fnSupportInfo && !sComponent && typeof sDetails === 'function') {\n        fnSupportInfo = sDetails;\n        sDetails = '';\n    }\n    if (!fnSupportInfo && typeof sComponent === 'function') {\n        fnSupportInfo = sComponent;\n        sComponent = '';\n    }\n    sComponent = sComponent || sDefaultComponent;\n    if (iLevel <= level(sComponent)) {\n        var fNow = now(), oNow = new Date(fNow), iMicroSeconds = Math.floor((fNow - Math.floor(fNow)) * 1000), oLogEntry = {\n                time: pad0(oNow.getHours(), 2) + ':' + pad0(oNow.getMinutes(), 2) + ':' + pad0(oNow.getSeconds(), 2) + '.' + pad0(oNow.getMilliseconds(), 3) + pad0(iMicroSeconds, 3),\n                date: pad0(oNow.getFullYear(), 4) + '-' + pad0(oNow.getMonth() + 1, 2) + '-' + pad0(oNow.getDate(), 2),\n                timestamp: fNow,\n                level: iLevel,\n                message: String(sMessage || ''),\n                details: String(sDetails || ''),\n                component: String(sComponent || '')\n            };\n        if (bLogSupportInfo && typeof fnSupportInfo === 'function') {\n            oLogEntry.supportInfo = fnSupportInfo();\n        }\n        if (iLogEntriesLimit) {\n            if (aLog.length >= iLogEntriesLimit) {\n                discardLogEntries();\n            }\n            aLog.push(oLogEntry);\n        }\n        if (oListener) {\n            oListener.onLogEntry(oLogEntry);\n        }\n        if (console) {\n            var isDetailsError = sDetails instanceof Error, logText = oLogEntry.date + ' ' + oLogEntry.time + ' ' + oLogEntry.message + ' - ' + oLogEntry.details + ' ' + oLogEntry.component;\n            switch (iLevel) {\n            case Log.Level.FATAL:\n            case Log.Level.ERROR:\n                isDetailsError ? console.error(logText, '\\n', sDetails) : console.error(logText);\n                break;\n            case Log.Level.WARNING:\n                isDetailsError ? console.warn(logText, '\\n', sDetails) : console.warn(logText);\n                break;\n            case Log.Level.INFO:\n                if (console.info) {\n                    isDetailsError ? console.info(logText, '\\n', sDetails) : console.info(logText);\n                } else {\n                    isDetailsError ? console.log(logText, '\\n', sDetails) : console.log(logText);\n                }\n                break;\n            case Log.Level.DEBUG:\n                isDetailsError ? console.debug(logText, '\\n', sDetails) : console.debug(logText);\n                break;\n            case Log.Level.TRACE:\n                isDetailsError ? console.trace(logText, '\\n', sDetails) : console.trace(logText);\n                break;\n            }\n            if (console.info && oLogEntry.supportInfo) {\n                console.info(oLogEntry.supportInfo);\n            }\n        }\n        return oLogEntry;\n    }\n}\nLog.getLogEntries = function () {\n    return aLog.slice();\n};\nLog.getLogEntriesLimit = function () {\n    return iLogEntriesLimit;\n};\nLog.setLogEntriesLimit = function (iLimit) {\n    if (iLimit < 0) {\n        throw new Error('The log entries limit needs to be greater than or equal to 0!');\n    }\n    iLogEntriesLimit = iLimit;\n    if (aLog.length >= iLogEntriesLimit) {\n        discardLogEntries();\n    }\n};\nLog.addLogListener = function (oListener) {\n    getLogEntryListenerInstance().attach(this, oListener);\n};\nLog.removeLogListener = function (oListener) {\n    getLogEntryListenerInstance().detach(this, oListener);\n};\nfunction Logger(sComponent) {\n    this.fatal = function (msg, detail, comp, support) {\n        Log.fatal(msg, detail, comp || sComponent, support);\n        return this;\n    };\n    this.error = function (msg, detail, comp, support) {\n        Log.error(msg, detail, comp || sComponent, support);\n        return this;\n    };\n    this.warning = function (msg, detail, comp, support) {\n        Log.warning(msg, detail, comp || sComponent, support);\n        return this;\n    };\n    this.info = function (msg, detail, comp, support) {\n        Log.info(msg, detail, comp || sComponent, support);\n        return this;\n    };\n    this.debug = function (msg, detail, comp, support) {\n        Log.debug(msg, detail, comp || sComponent, support);\n        return this;\n    };\n    this.trace = function (msg, detail, comp, support) {\n        Log.trace(msg, detail, comp || sComponent, support);\n        return this;\n    };\n    this.setLevel = function (level, comp) {\n        Log.setLevel(level, comp || sComponent);\n        return this;\n    };\n    this.getLevel = function (comp) {\n        return Log.getLevel(comp || sComponent);\n    };\n    this.isLoggable = function (level, comp) {\n        return Log.isLoggable(level, comp || sComponent);\n    };\n}\nLog.getLogger = function (sComponent, iDefaultLogLevel) {\n    if (!isNaN(iDefaultLogLevel) && mMaxLevel[sComponent] == null) {\n        mMaxLevel[sComponent] = iDefaultLogLevel;\n    }\n    return new Logger(sComponent);\n};\nexport default Log;"]},"metadata":{},"sourceType":"module"}