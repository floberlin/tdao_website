{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { isPhone, isIE } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport \"@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js\"; // default calendar for bundling\n\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { isLeft, isRight } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport \"@ui5/webcomponents-icons/dist/time-entry-request.js\";\nimport timeSelectionTemplate from \"./generated/templates/TimeSelectionTemplate.lit.js\";\nimport WheelSlider from \"./WheelSlider.js\";\nimport { getHours, getMinutes, getSeconds, getHoursConfigByFormat, getTimeControlsByFormat } from \"./timepicker-utils/TimeSlider.js\";\nimport { TIMEPICKER_HOURS_LABEL, TIMEPICKER_MINUTES_LABEL, TIMEPICKER_SECONDS_LABEL, TIMEPICKER_PERIODS_LABEL } from \"./generated/i18n/i18n-defaults.js\"; // Styles\n\nimport timeSelectionCss from \"./generated/themes/TimeSelection.css.js\";\n\nconst capitalizeFirst = str => str.substr(0, 1).toUpperCase() + str.substr(1);\n/**\n * @public\n */\n\n\nconst metadata = {\n  tag: \"ui5-time-selection\",\n  languageAware: true,\n  managedSlots: true,\n  properties:\n  /** @lends sap.ui.webcomponents.main.TimeSelection.prototype */\n  {\n    /**\n     * Defines a formatted time value.\n     *\n     * @type {string}\n     * @defaultvalue undefined\n     * @public\n     */\n    value: {\n      type: String,\n      defaultValue: undefined\n    },\n\n    /**\n     * Determines the format, displayed in the input field.\n     *\n     * Example:\n     * HH:mm:ss -> 11:42:35\n     * hh:mm:ss a -> 2:23:15 PM\n     * mm:ss -> 12:04 (only minutes and seconds)\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    formatPattern: {\n      type: String\n    },\n\n    /**\n     * Hides the hours slider regardless of formatPattern\n     * This property is only needed for the duration picker use case which requires non-standard slider combinations\n     * @public\n     */\n    hideHours: {\n      type: Boolean\n    },\n\n    /**\n     * Hides the minutes slider regardless of formatPattern\n     * This property is only needed for the duration picker use case which requires non-standard slider combinations\n     * @public\n     */\n    hideMinutes: {\n      type: Boolean\n    },\n\n    /**\n     * Hides the seconds slider regardless of formatPattern\n     * This property is only needed for the duration picker use case which requires non-standard slider combinations\n     * @public\n     */\n    hideSeconds: {\n      type: Boolean\n    },\n\n    /**\n     * The maximum number of hours to be displayed for the hours slider (only needed for the duration picker use case)\n     * @public\n     */\n    maxHours: {\n      type: Integer\n    },\n\n    /**\n     * The maximum number of minutes to be displayed for the minutes slider (only needed for the duration picker use case)\n     * @public\n     */\n    maxMinutes: {\n      type: Integer\n    },\n\n    /**\n     * The maximum number of seconds to be displayed for the seconds slider (only needed for the duration picker use case)\n     * @public\n     */\n    maxSeconds: {\n      type: Integer\n    },\n    secondsStep: {\n      type: Integer,\n      defaultValue: 1\n    },\n    minutesStep: {\n      type: Integer,\n      defaultValue: 1\n    },\n    _currentSlider: {\n      type: String,\n      defaultValue: \"hours\"\n    }\n  },\n  events:\n  /** @lends sap.ui.webcomponents.main.TimeSelection.prototype */\n  {\n    /**\n     * Fired when the value changes due to user interaction with the sliders\n     */\n    change: {},\n\n    /**\n     * Fired when the expanded/collapsed slider changes (a new slider is expanded or the expanded slider is collapsed)\n     */\n    sliderChange: {}\n  }\n};\n/**\n * @class\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.TimeSelection\n * @extends UI5Element\n * @tagname ui5-time-selection\n * @private\n * @since 1.0.0-rc.12\n */\n\nclass TimeSelection extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get styles() {\n    return timeSelectionCss;\n  }\n\n  static get template() {\n    return timeSelectionTemplate;\n  }\n\n  static get dependencies() {\n    return [WheelSlider];\n  }\n\n  static async onDefine() {\n    await Promise.all([fetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()), fetchI18nBundle(\"@ui5/webcomponents\")]);\n  }\n\n  constructor() {\n    super();\n    this.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n  }\n\n  get _hoursConfiguration() {\n    const hourFormat = this.getFormat().aFormatArray.find(item => item.type.startsWith(\"hour\")); // try to find an entry for the hours\n\n    return getHoursConfigByFormat(hourFormat ? hourFormat.type : \"hour0_23\");\n  }\n\n  get _neededSliders() {\n    const formatArray = this.getFormat().aFormatArray;\n    return getTimeControlsByFormat(formatArray, this._hoursConfiguration);\n  }\n\n  get _hasHoursSlider() {\n    return this._neededSliders[0] && !this.hideHours;\n  }\n\n  get _hasMinutesSlider() {\n    return this._neededSliders[1] && !this.hideMinutes;\n  }\n\n  get _hasSecondsSlider() {\n    return this._neededSliders[2] && !this.hideSeconds;\n  }\n\n  get _hasPeriodsSlider() {\n    return this._neededSliders[3];\n  }\n\n  get secondsArray() {\n    return getSeconds(this.maxSeconds ? this.maxSeconds + 1 : undefined, this.secondsStep);\n  }\n\n  get minutesArray() {\n    return getMinutes(this.maxMinutes ? this.maxMinutes + 1 : undefined, this.minutesStep);\n  }\n\n  get hoursArray() {\n    return getHours(this._hoursConfiguration, this.maxHours ? this.maxHours + 1 : undefined);\n  }\n\n  get periodsArray() {\n    return this.getFormat().aDayPeriods.map(x => x.toUpperCase());\n  }\n\n  get _hoursSliderFocused() {\n    return this._currentSlider === \"hours\";\n  }\n\n  get _minutesSliderFocused() {\n    return this._currentSlider === \"minutes\";\n  }\n\n  get _secondsSliderFocused() {\n    return this._currentSlider === \"seconds\";\n  }\n\n  get _periodSliderFocused() {\n    return this._currentSlider === \"period\";\n  }\n\n  get _hours() {\n    let hours;\n    const dateValue = this.validDateValue;\n\n    if (this._hoursConfiguration.isTwelveHoursFormat && dateValue.getHours() > this._hoursConfiguration.maxHour) {\n      hours = dateValue.getHours() - 12;\n    } else if (this._hoursConfiguration.isTwelveHoursFormat && dateValue.getHours() < this._hoursConfiguration.minHour) {\n      hours = dateValue.getHours() + 12;\n    } else {\n      hours = dateValue.getHours();\n    }\n\n    if (hours.toString().length === 1) {\n      hours = `0${hours}`;\n    }\n\n    return hours.toString();\n  }\n\n  get _minutes() {\n    const minutes = this.validDateValue.getMinutes().toString();\n    return minutes.length === 1 ? `0${minutes}` : minutes;\n  }\n\n  get _seconds() {\n    const seconds = this.validDateValue.getSeconds().toString();\n    return seconds.length === 1 ? `0${seconds}` : seconds;\n  }\n\n  get _period() {\n    if (!this._hoursConfiguration.isTwelveHoursFormat) {\n      return undefined;\n    }\n\n    let period;\n    const dateValue = this.validDateValue;\n\n    if (this._hoursConfiguration.minHour === 1) {\n      period = dateValue.getHours() >= this._hoursConfiguration.maxHour ? this.periodsArray[1] : this.periodsArray[0];\n    } else {\n      period = dateValue.getHours() > this._hoursConfiguration.maxHour || dateValue.getHours() === this._hoursConfiguration.minHour ? this.periodsArray[1] : this.periodsArray[0];\n    }\n\n    return period;\n  }\n\n  setValue(date) {\n    const value = this.formatValue(date);\n\n    if (this.isValid(value)) {\n      this.value = this.normalizeValue(value);\n      this.fireEvent(\"change\", {\n        value: this.value,\n        valid: true\n      });\n    }\n  }\n\n  onHoursChange(event) {\n    let hours = event.detail.value;\n    const isTwelveHoursFormat = this._hoursConfiguration.isTwelveHoursFormat;\n\n    if (isTwelveHoursFormat) {\n      if (this._period === this.periodsArray[0]) {\n        // AM\n        hours = hours === \"12\" ? 0 : hours;\n      }\n\n      if (this._period === this.periodsArray[1]) {\n        // PM\n        hours = hours === \"12\" ? hours : hours * 1 + 12;\n      }\n    }\n\n    const date = this.validDateValue;\n    date.setHours(hours);\n    this.setValue(date);\n  }\n\n  onMinutesChange(event) {\n    const minutes = event.detail.value;\n    const date = this.validDateValue;\n    date.setMinutes(minutes);\n    this.setValue(date);\n  }\n\n  onSecondsChange(event) {\n    const seconds = event.detail.value;\n    const date = this.validDateValue;\n    date.setSeconds(seconds);\n    this.setValue(date);\n  }\n\n  onPeriodChange(event) {\n    const period = event.detail.value;\n    const date = this.validDateValue;\n\n    if (period === this.periodsArray[0] && date.getHours() >= 12) {\n      date.setHours(date.getHours() - 12);\n    }\n\n    if (period === this.periodsArray[1] && date.getHours() < 12) {\n      date.setHours(date.getHours() + 12);\n    }\n\n    this.setValue(date);\n  }\n\n  isValid(value) {\n    return value === \"\" || this.getFormat().parse(value);\n  }\n\n  normalizeValue(value) {\n    if (value === \"\") {\n      return value;\n    }\n\n    return this.getFormat().format(this.getFormat().parse(value));\n  }\n\n  get _formatPattern() {\n    const pattern = this.formatPattern;\n    const hasHours = !!pattern.match(/H/i);\n    const fallback = !pattern || !hasHours;\n    const localeData = getCachedLocaleDataInstance(getLocale());\n    return fallback ? localeData.getCombinedDateTimePattern(\"medium\", \"medium\", this._primaryCalendarType) : pattern;\n  }\n\n  get _isPattern() {\n    return this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n  }\n  /**\n   * Event handler for the \"click\" and \"focusin\" events of the sliders\n   * @param event\n   */\n\n\n  selectSlider(event) {\n    this._setCurrentSlider(event.target.closest(\"[ui5-wheelslider]\").getAttribute(\"data-sap-slider\"));\n  }\n\n  _setCurrentSlider(slider) {\n    if (this._currentSlider === slider) {\n      return;\n    }\n\n    this._currentSlider = slider;\n    this.fireEvent(\"slider-change\", {\n      slider\n    });\n  }\n\n  get _currentSliderDOM() {\n    return this.shadowRoot.querySelector(`[data-sap-slider=\"${this._currentSlider}\"]`);\n  }\n\n  get _activeSliders() {\n    return [\"hours\", \"minutes\", \"seconds\", \"period\"].filter(slider => this[`_has${capitalizeFirst(slider)}Slider`]);\n  }\n\n  _onfocusin(event) {\n    if (!this._currentSlider) {\n      this._setCurrentSlider(this._activeSliders[0]);\n    }\n\n    if (event.target === event.currentTarget) {\n      this._currentSliderDOM.focus();\n    }\n  }\n\n  _onfocusout(event) {\n    if (!this.shadowRoot.contains(event.relatedTarget)) {\n      this._setCurrentSlider(\"\");\n    }\n  }\n\n  async _onkeydown(event) {\n    if (!(isLeft(event) || isRight(event))) {\n      return;\n    }\n\n    event.preventDefault();\n    const activeSliders = this._activeSliders;\n    const activeSlider = event.target.closest(\"[ui5-wheelslider]\").getAttribute(\"data-sap-slider\");\n    let index = activeSliders.indexOf(activeSlider);\n\n    if (isLeft(event)) {\n      index = index === 0 ? activeSliders.length - 1 : index - 1;\n    } else if (isRight(event)) {\n      index = index === activeSliders.length - 1 ? 0 : index + 1;\n    }\n\n    this._setCurrentSlider(activeSliders[index]);\n\n    this._currentSliderDOM.focus();\n  }\n\n  _handleWheel(e) {\n    e.preventDefault();\n  }\n\n  getFormat() {\n    let dateFormat;\n\n    if (this._isPattern) {\n      dateFormat = DateFormat.getInstance({\n        pattern: this._formatPattern\n      });\n    } else {\n      dateFormat = DateFormat.getInstance({\n        style: this._formatPattern\n      });\n    }\n\n    return dateFormat;\n  }\n\n  formatValue(date) {\n    return this.getFormat().format(date);\n  }\n\n  get dateValue() {\n    return this.value ? this.getFormat().parse(this.value) : new Date();\n  }\n\n  get validDateValue() {\n    return this.isValid(this.value) ? this.dateValue : new Date();\n  }\n\n  get hoursSliderTitle() {\n    return this.i18nBundle.getText(TIMEPICKER_HOURS_LABEL);\n  }\n\n  get minutesSliderTitle() {\n    return this.i18nBundle.getText(TIMEPICKER_MINUTES_LABEL);\n  }\n\n  get secondsSliderTitle() {\n    return this.i18nBundle.getText(TIMEPICKER_SECONDS_LABEL);\n  }\n\n  get periodSliderTitle() {\n    return this.i18nBundle.getText(TIMEPICKER_PERIODS_LABEL);\n  }\n\n  get _isCyclic() {\n    return !isIE();\n  }\n\n  get classes() {\n    return {\n      root: {\n        \"ui5-time-selection-root\": true,\n        \"ui5-phone\": isPhone()\n      }\n    };\n  }\n\n}\n\nTimeSelection.define();\nexport default TimeSelection;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/TimeSelection.js"],"names":["UI5Element","Integer","litRender","isPhone","isIE","fetchI18nBundle","getI18nBundle","getLocale","DateFormat","getCachedLocaleDataInstance","fetchCldr","isLeft","isRight","timeSelectionTemplate","WheelSlider","getHours","getMinutes","getSeconds","getHoursConfigByFormat","getTimeControlsByFormat","TIMEPICKER_HOURS_LABEL","TIMEPICKER_MINUTES_LABEL","TIMEPICKER_SECONDS_LABEL","TIMEPICKER_PERIODS_LABEL","timeSelectionCss","capitalizeFirst","str","substr","toUpperCase","metadata","tag","languageAware","managedSlots","properties","value","type","String","defaultValue","undefined","formatPattern","hideHours","Boolean","hideMinutes","hideSeconds","maxHours","maxMinutes","maxSeconds","secondsStep","minutesStep","_currentSlider","events","change","sliderChange","TimeSelection","render","styles","template","dependencies","onDefine","Promise","all","getLanguage","getRegion","getScript","constructor","i18nBundle","_hoursConfiguration","hourFormat","getFormat","aFormatArray","find","item","startsWith","_neededSliders","formatArray","_hasHoursSlider","_hasMinutesSlider","_hasSecondsSlider","_hasPeriodsSlider","secondsArray","minutesArray","hoursArray","periodsArray","aDayPeriods","map","x","_hoursSliderFocused","_minutesSliderFocused","_secondsSliderFocused","_periodSliderFocused","_hours","hours","dateValue","validDateValue","isTwelveHoursFormat","maxHour","minHour","toString","length","_minutes","minutes","_seconds","seconds","_period","period","setValue","date","formatValue","isValid","normalizeValue","fireEvent","valid","onHoursChange","event","detail","setHours","onMinutesChange","setMinutes","onSecondsChange","setSeconds","onPeriodChange","parse","format","_formatPattern","pattern","hasHours","match","fallback","localeData","getCombinedDateTimePattern","_primaryCalendarType","_isPattern","selectSlider","_setCurrentSlider","target","closest","getAttribute","slider","_currentSliderDOM","shadowRoot","querySelector","_activeSliders","filter","_onfocusin","currentTarget","focus","_onfocusout","contains","relatedTarget","_onkeydown","preventDefault","activeSliders","activeSlider","index","indexOf","_handleWheel","e","dateFormat","getInstance","style","Date","hoursSliderTitle","getText","minutesSliderTitle","secondsSliderTitle","periodSliderTitle","_isCyclic","classes","root","define"],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { isPhone, isIE } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport \"@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js\"; // default calendar for bundling\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport {\n\tisLeft,\n\tisRight,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport \"@ui5/webcomponents-icons/dist/time-entry-request.js\";\nimport timeSelectionTemplate from \"./generated/templates/TimeSelectionTemplate.lit.js\";\nimport WheelSlider from \"./WheelSlider.js\";\nimport {\n\tgetHours,\n\tgetMinutes,\n\tgetSeconds,\n\tgetHoursConfigByFormat,\n\tgetTimeControlsByFormat,\n} from \"./timepicker-utils/TimeSlider.js\";\n\nimport {\n\tTIMEPICKER_HOURS_LABEL,\n\tTIMEPICKER_MINUTES_LABEL,\n\tTIMEPICKER_SECONDS_LABEL,\n\tTIMEPICKER_PERIODS_LABEL,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Styles\nimport timeSelectionCss from \"./generated/themes/TimeSelection.css.js\";\n\nconst capitalizeFirst = str => str.substr(0, 1).toUpperCase() + str.substr(1);\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-time-selection\",\n\tlanguageAware: true,\n\tmanagedSlots: true,\n\tproperties: /** @lends sap.ui.webcomponents.main.TimeSelection.prototype */ {\n\t\t/**\n\t\t * Defines a formatted time value.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue undefined\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: undefined,\n\t\t},\n\n\t\t/**\n\t\t * Determines the format, displayed in the input field.\n\t\t *\n\t\t * Example:\n\t\t * HH:mm:ss -> 11:42:35\n\t\t * hh:mm:ss a -> 2:23:15 PM\n\t\t * mm:ss -> 12:04 (only minutes and seconds)\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tformatPattern: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Hides the hours slider regardless of formatPattern\n\t\t * This property is only needed for the duration picker use case which requires non-standard slider combinations\n\t\t * @public\n\t\t */\n\t\thideHours: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Hides the minutes slider regardless of formatPattern\n\t\t * This property is only needed for the duration picker use case which requires non-standard slider combinations\n\t\t * @public\n\t\t */\n\t\thideMinutes: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Hides the seconds slider regardless of formatPattern\n\t\t * This property is only needed for the duration picker use case which requires non-standard slider combinations\n\t\t * @public\n\t\t */\n\t\thideSeconds: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * The maximum number of hours to be displayed for the hours slider (only needed for the duration picker use case)\n\t\t * @public\n\t\t */\n\t\tmaxHours: {\n\t\t\ttype: Integer,\n\t\t},\n\n\t\t/**\n\t\t * The maximum number of minutes to be displayed for the minutes slider (only needed for the duration picker use case)\n\t\t * @public\n\t\t */\n\t\tmaxMinutes: {\n\t\t\ttype: Integer,\n\t\t},\n\n\t\t/**\n\t\t * The maximum number of seconds to be displayed for the seconds slider (only needed for the duration picker use case)\n\t\t * @public\n\t\t */\n\t\tmaxSeconds: {\n\t\t\ttype: Integer,\n\t\t},\n\n\t\tsecondsStep: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 1,\n\t\t},\n\n\t\tminutesStep: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 1,\n\t\t},\n\n\t\t_currentSlider: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"hours\",\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.TimeSelection.prototype */ {\n\t\t/**\n\t\t * Fired when the value changes due to user interaction with the sliders\n\t\t */\n\t\tchange: {},\n\n\t\t/**\n\t\t * Fired when the expanded/collapsed slider changes (a new slider is expanded or the expanded slider is collapsed)\n\t\t */\n\t\tsliderChange: {},\n\t},\n};\n\n/**\n * @class\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.TimeSelection\n * @extends UI5Element\n * @tagname ui5-time-selection\n * @private\n * @since 1.0.0-rc.12\n */\nclass TimeSelection extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get styles() {\n\t\treturn timeSelectionCss;\n\t}\n\n\tstatic get template() {\n\t\treturn timeSelectionTemplate;\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [WheelSlider];\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Promise.all([\n\t\t\tfetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()),\n\t\t\tfetchI18nBundle(\"@ui5/webcomponents\"),\n\t\t]);\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tget _hoursConfiguration() {\n\t\tconst hourFormat = this.getFormat().aFormatArray.find(item => item.type.startsWith(\"hour\")); // try to find an entry for the hours\n\t\treturn getHoursConfigByFormat(hourFormat ? hourFormat.type : \"hour0_23\");\n\t}\n\n\tget _neededSliders() {\n\t\tconst formatArray = this.getFormat().aFormatArray;\n\t\treturn getTimeControlsByFormat(formatArray, this._hoursConfiguration);\n\t}\n\n\tget _hasHoursSlider() {\n\t\treturn this._neededSliders[0] && !this.hideHours;\n\t}\n\n\tget _hasMinutesSlider() {\n\t\treturn this._neededSliders[1] && !this.hideMinutes;\n\t}\n\n\tget _hasSecondsSlider() {\n\t\treturn this._neededSliders[2] && !this.hideSeconds;\n\t}\n\n\tget _hasPeriodsSlider() {\n\t\treturn this._neededSliders[3];\n\t}\n\n\tget secondsArray() {\n\t\treturn getSeconds(this.maxSeconds ? this.maxSeconds + 1 : undefined, this.secondsStep);\n\t}\n\n\tget minutesArray() {\n\t\treturn getMinutes(this.maxMinutes ? this.maxMinutes + 1 : undefined, this.minutesStep);\n\t}\n\n\tget hoursArray() {\n\t\treturn getHours(this._hoursConfiguration, this.maxHours ? this.maxHours + 1 : undefined);\n\t}\n\n\tget periodsArray() {\n\t\treturn this.getFormat().aDayPeriods.map(x => x.toUpperCase());\n\t}\n\n\tget _hoursSliderFocused() {\n\t\treturn this._currentSlider === \"hours\";\n\t}\n\n\tget _minutesSliderFocused() {\n\t\treturn this._currentSlider === \"minutes\";\n\t}\n\n\tget _secondsSliderFocused() {\n\t\treturn this._currentSlider === \"seconds\";\n\t}\n\n\tget _periodSliderFocused() {\n\t\treturn this._currentSlider === \"period\";\n\t}\n\n\tget _hours() {\n\t\tlet hours;\n\t\tconst dateValue = this.validDateValue;\n\t\tif (this._hoursConfiguration.isTwelveHoursFormat && dateValue.getHours() > this._hoursConfiguration.maxHour) {\n\t\t\thours = dateValue.getHours() - 12;\n\t\t} else if (this._hoursConfiguration.isTwelveHoursFormat && dateValue.getHours() < this._hoursConfiguration.minHour) {\n\t\t\thours = dateValue.getHours() + 12;\n\t\t} else {\n\t\t\thours = dateValue.getHours();\n\t\t}\n\t\tif (hours.toString().length === 1) {\n\t\t\thours = `0${hours}`;\n\t\t}\n\t\treturn hours.toString();\n\t}\n\n\tget _minutes() {\n\t\tconst minutes = this.validDateValue.getMinutes().toString();\n\t\treturn minutes.length === 1 ? `0${minutes}` : minutes;\n\t}\n\n\tget _seconds() {\n\t\tconst seconds = this.validDateValue.getSeconds().toString();\n\t\treturn seconds.length === 1 ? `0${seconds}` : seconds;\n\t}\n\n\tget _period() {\n\t\tif (!this._hoursConfiguration.isTwelveHoursFormat) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet period;\n\t\tconst dateValue = this.validDateValue;\n\t\tif (this._hoursConfiguration.minHour === 1) {\n\t\t\tperiod = dateValue.getHours() >= this._hoursConfiguration.maxHour ? this.periodsArray[1] : this.periodsArray[0];\n\t\t} else {\n\t\t\tperiod = (dateValue.getHours() > this._hoursConfiguration.maxHour || dateValue.getHours() === this._hoursConfiguration.minHour) ? this.periodsArray[1] : this.periodsArray[0];\n\t\t}\n\t\treturn period;\n\t}\n\n\tsetValue(date) {\n\t\tconst value = this.formatValue(date);\n\t\tif (this.isValid(value)) {\n\t\t\tthis.value = this.normalizeValue(value);\n\t\t\tthis.fireEvent(\"change\", { value: this.value, valid: true });\n\t\t}\n\t}\n\n\tonHoursChange(event) {\n\t\tlet hours = event.detail.value;\n\t\tconst isTwelveHoursFormat = this._hoursConfiguration.isTwelveHoursFormat;\n\n\t\tif (isTwelveHoursFormat) {\n\t\t\tif (this._period === this.periodsArray[0]) { // AM\n\t\t\t\thours = hours === \"12\" ? 0 : hours;\n\t\t\t}\n\n\t\t\tif (this._period === this.periodsArray[1]) { // PM\n\t\t\t\thours = hours === \"12\" ? hours : hours * 1 + 12;\n\t\t\t}\n\t\t}\n\n\t\tconst date = this.validDateValue;\n\t\tdate.setHours(hours);\n\t\tthis.setValue(date);\n\t}\n\n\tonMinutesChange(event) {\n\t\tconst minutes = event.detail.value;\n\t\tconst date = this.validDateValue;\n\t\tdate.setMinutes(minutes);\n\t\tthis.setValue(date);\n\t}\n\n\tonSecondsChange(event) {\n\t\tconst seconds = event.detail.value;\n\t\tconst date = this.validDateValue;\n\t\tdate.setSeconds(seconds);\n\t\tthis.setValue(date);\n\t}\n\n\tonPeriodChange(event) {\n\t\tconst period = event.detail.value;\n\t\tconst date = this.validDateValue;\n\t\tif (period === this.periodsArray[0] && date.getHours() >= 12) {\n\t\t\tdate.setHours(date.getHours() - 12);\n\t\t} if (period === this.periodsArray[1] && date.getHours() < 12) {\n\t\t\tdate.setHours(date.getHours() + 12);\n\t\t}\n\t\tthis.setValue(date);\n\t}\n\n\tisValid(value) {\n\t\treturn value === \"\" || this.getFormat().parse(value);\n\t}\n\n\tnormalizeValue(value) {\n\t\tif (value === \"\") {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn this.getFormat().format(this.getFormat().parse(value));\n\t}\n\n\tget _formatPattern() {\n\t\tconst pattern = this.formatPattern;\n\t\tconst hasHours = !!pattern.match(/H/i);\n\t\tconst fallback = !pattern || !hasHours;\n\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\treturn fallback ? localeData.getCombinedDateTimePattern(\"medium\", \"medium\", this._primaryCalendarType) : pattern;\n\t}\n\n\tget _isPattern() {\n\t\treturn this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n\t}\n\n\t/**\n\t * Event handler for the \"click\" and \"focusin\" events of the sliders\n\t * @param event\n\t */\n\tselectSlider(event) {\n\t\tthis._setCurrentSlider(event.target.closest(\"[ui5-wheelslider]\").getAttribute(\"data-sap-slider\"));\n\t}\n\n\t_setCurrentSlider(slider) {\n\t\tif (this._currentSlider === slider) {\n\t\t\treturn;\n\t\t}\n\t\tthis._currentSlider = slider;\n\t\tthis.fireEvent(\"slider-change\", { slider });\n\t}\n\n\tget _currentSliderDOM() {\n\t\treturn this.shadowRoot.querySelector(`[data-sap-slider=\"${this._currentSlider}\"]`);\n\t}\n\n\tget _activeSliders() {\n\t\treturn [\"hours\", \"minutes\", \"seconds\", \"period\"].filter(slider => this[`_has${capitalizeFirst(slider)}Slider`]);\n\t}\n\n\t_onfocusin(event) {\n\t\tif (!this._currentSlider) {\n\t\t\tthis._setCurrentSlider(this._activeSliders[0]);\n\t\t}\n\n\t\tif (event.target === event.currentTarget) {\n\t\t\tthis._currentSliderDOM.focus();\n\t\t}\n\t}\n\n\t_onfocusout(event) {\n\t\tif (!this.shadowRoot.contains(event.relatedTarget)) {\n\t\t\tthis._setCurrentSlider(\"\");\n\t\t}\n\t}\n\n\tasync _onkeydown(event) {\n\t\tif (!(isLeft(event) || isRight(event))) {\n\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\n\t\tconst activeSliders = this._activeSliders;\n\t\tconst activeSlider = event.target.closest(\"[ui5-wheelslider]\").getAttribute(\"data-sap-slider\");\n\t\tlet index = activeSliders.indexOf(activeSlider);\n\t\tif (isLeft(event)) {\n\t\t\tindex = index === 0 ? activeSliders.length - 1 : index - 1;\n\t\t} else if (isRight(event)) {\n\t\t\tindex = index === activeSliders.length - 1 ? 0 : index + 1;\n\t\t}\n\t\tthis._setCurrentSlider(activeSliders[index]);\n\t\tthis._currentSliderDOM.focus();\n\t}\n\n\t_handleWheel(e) {\n\t\te.preventDefault();\n\t}\n\n\tgetFormat() {\n\t\tlet dateFormat;\n\t\tif (this._isPattern) {\n\t\t\tdateFormat = DateFormat.getInstance({\n\t\t\t\tpattern: this._formatPattern,\n\t\t\t});\n\t\t} else {\n\t\t\tdateFormat = DateFormat.getInstance({\n\t\t\t\tstyle: this._formatPattern,\n\t\t\t});\n\t\t}\n\n\t\treturn dateFormat;\n\t}\n\n\tformatValue(date) {\n\t\treturn this.getFormat().format(date);\n\t}\n\n\tget dateValue() {\n\t\treturn this.value ? this.getFormat().parse(this.value) : new Date();\n\t}\n\n\tget validDateValue() {\n\t\treturn this.isValid(this.value) ? this.dateValue : new Date();\n\t}\n\n\tget hoursSliderTitle() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_HOURS_LABEL);\n\t}\n\n\tget minutesSliderTitle() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_MINUTES_LABEL);\n\t}\n\n\tget secondsSliderTitle() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_SECONDS_LABEL);\n\t}\n\n\tget periodSliderTitle() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_PERIODS_LABEL);\n\t}\n\n\tget _isCyclic() {\n\t\treturn !isIE();\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\troot: {\n\t\t\t\t\"ui5-time-selection-root\": true,\n\t\t\t\t\"ui5-phone\": isPhone(),\n\t\t\t},\n\t\t};\n\t}\n}\n\nTimeSelection.define();\n\nexport default TimeSelection;\n"]},"metadata":{},"sourceType":"module"}