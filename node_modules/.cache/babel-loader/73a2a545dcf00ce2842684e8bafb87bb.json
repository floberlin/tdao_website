{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport { isShow, isDown, isBackSpace, isSpace, isLeft, isRight } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport \"@ui5/webcomponents-icons/dist/slim-arrow-down.js\";\nimport { isIE, isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\nimport \"@ui5/webcomponents-icons/dist/multiselect-all.js\";\nimport MultiComboBoxItem from \"./MultiComboBoxItem.js\";\nimport Tokenizer from \"./Tokenizer.js\";\nimport Token from \"./Token.js\";\nimport Icon from \"./Icon.js\";\nimport Popover from \"./Popover.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport ToggleButton from \"./ToggleButton.js\";\nimport * as Filters from \"./ComboBoxFilters.js\";\nimport Button from \"./Button.js\";\nimport { VALUE_STATE_SUCCESS, VALUE_STATE_ERROR, VALUE_STATE_WARNING, INPUT_SUGGESTIONS_TITLE, SELECT_OPTIONS, MULTICOMBOBOX_DIALOG_OK_BUTTON } from \"./generated/i18n/i18n-defaults.js\"; // Templates\n\nimport MultiComboBoxTemplate from \"./generated/templates/MultiComboBoxTemplate.lit.js\";\nimport MultiComboBoxPopoverTemplate from \"./generated/templates/MultiComboBoxPopoverTemplate.lit.js\"; // Styles\n\nimport styles from \"./generated/themes/MultiComboBox.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ValueStateMessageCss from \"./generated/themes/ValueStateMessage.css.js\";\n/**\n * @public\n */\n\nconst metadata = {\n  tag: \"ui5-multi-combobox\",\n  languageAware: true,\n  managedSlots: true,\n  slots:\n  /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */\n  {\n    /**\n     * Defines the component items.\n     *\n     * @type {sap.ui.webcomponents.main.IMultiComboBoxItem[]}\n     * @slot items\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement,\n      invalidateOnChildChange: true\n    },\n\n    /**\n    * Defines the icon to be displayed in the component.\n    *\n    * @type {sap.ui.webcomponents.main.IIcon}\n    * @slot\n    * @public\n    * @since 1.0.0-rc.9\n    */\n    icon: {\n      type: HTMLElement\n    },\n\n    /**\n     * Defines the value state message that will be displayed as pop up under the component.\n     * <br><br>\n     *\n     * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n     * <br>\n     * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n     * when the component is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n     * @type {HTMLElement[]}\n     * @since 1.0.0-rc.9\n     * @slot\n     * @public\n     */\n    valueStateMessage: {\n      type: HTMLElement\n    }\n  },\n  properties:\n  /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */\n  {\n    /**\n     * Defines the value of the component.\n     * <br><br>\n     * <b>Note:</b> The property is updated upon typing.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    value: {\n      type: String,\n      defaultValue: \"\"\n    },\n\n    /**\n     * Defines a short hint intended to aid the user with data entry when the\n     * component has no value.\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    placeholder: {\n      type: String,\n      defaultValue: \"\"\n    },\n\n    /**\n     * Defines if the user input will be prevented, if no matching item has been found\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    allowCustomValues: {\n      type: Boolean\n    },\n\n    /**\n     * Defines whether the component is in disabled state.\n     * <br><br>\n     * <b>Note:</b> A disabled component is completely noninteractive.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    disabled: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the value state of the component.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>None</code></li>\n     * <li><code>Error</code></li>\n     * <li><code>Warning</code></li>\n     * <li><code>Success</code></li>\n     * <li><code>Information</code></li>\n     * </ul>\n     *\n     * @type {ValueState}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    valueState: {\n      type: ValueState,\n      defaultValue: ValueState.None\n    },\n\n    /**\n     * Defines whether the component is read-only.\n     * <br><br>\n     * <b>Note:</b> A read-only component is not editable,\n     * but still provides visual feedback upon user interaction.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    readonly: {\n      type: Boolean\n    },\n\n    /**\n     * Defines whether the component is required.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.5\n     */\n    required: {\n      type: Boolean\n    },\n\n    /**\n     * Defines the filter type of the component.\n     * Available options are: <code>StartsWithPerTerm</code>, <code>StartsWith</code>, <code>Contains</code> and <code>None</code>.\n     *\n     * @type {string}\n     * @defaultvalue \"StartsWithPerTerm\"\n     * @public\n     */\n    filter: {\n      type: String,\n      defaultValue: \"StartsWithPerTerm\"\n    },\n\n    /**\n     * Indicates whether the dropdown is open. True if the dropdown is open, false otherwise.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @readonly\n     * @since 1.0.0-rc.5\n     * @public\n     */\n    open: {\n      type: Boolean\n    },\n    _filteredItems: {\n      type: Object\n    },\n    filterSelected: {\n      type: Boolean\n    },\n    focused: {\n      type: Boolean\n    },\n    _tokenizerFocused: {\n      type: Boolean\n    },\n    _iconPressed: {\n      type: Boolean,\n      noAttribute: true\n    },\n    _inputWidth: {\n      type: Integer,\n      noAttribute: true\n    },\n    _listWidth: {\n      type: Integer,\n      defaultValue: 0,\n      noAttribute: true\n    }\n  },\n  events:\n  /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */\n  {\n    /**\n     * Fired when the input operation has finished by pressing Enter or on focusout.\n     *\n     * @event\n     * @public\n     */\n    change: {},\n\n    /**\n     * Fired when the value of the component changes at each keystroke.\n     *\n     * @event\n     * @public\n     */\n    input: {},\n\n    /**\n     * Fired when the dropdown is opened or closed.\n     *\n     * @event sap.ui.webcomponents.main.MultiComboBox#open-change\n     * @since 1.0.0-rc.5\n     * @public\n     */\n    \"open-change\": {},\n\n    /**\n     * Fired when selection is changed by user interaction\n     * in <code>SingleSelect</code> and <code>MultiSelect</code> modes.\n     *\n     * @event sap.ui.webcomponents.main.MultiComboBox#selection-change\n     * @param {Array} items an array of the selected items.\n     * @public\n     */\n    \"selection-change\": {\n      detail: {\n        items: {\n          type: Array\n        }\n      }\n    }\n  }\n};\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-multi-combobox</code> component provides a list box with items and a text field allowing the user to either type a value directly into the control, or choose from the list of existing items.\n *\n * It is a drop-down list for selecting and filtering values, commonly used to enable users to select one or more options from a predefined list. The control provides an editable input field to filter the list, and a dropdown arrow of available options.\n * The select options in the list have checkboxes that permit multi-selection. Entered values are displayed as tokens.\n * <h3>Structure</h3>\n * The <code>ui5-multi-combobox</code> consists of the following elements:\n * <ul>\n * <li> Tokenizer - a list of tokens with selected options.\n * <li> Input field - displays the selected option/s as token/s. Users can type to filter the list.\n * <li> Drop-down arrow - expands\\collapses the option list.</li>\n * <li> Option list - the list of available options.</li>\n * </ul>\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-multi-combobox</code> provides advanced keyboard handling.\n *\n * <h4>Picker</h4>\n * If the <code>ui5-multi-combobox</code> is focused,\n * you can open or close the drop-down by pressing <code>F4</code>, <code>ALT+UP</code> or <code>ALT+DOWN</code> keys.\n * Once the drop-down is opened, you can use the <code>UP</code> and <code>DOWN</code> arrow keys\n * to navigate through the available options and select one by pressing the <code>Space</code> or <code>Enter</code> keys.\n * <br>\n *\n * <h4>Tokens</h4>\n * <ul>\n * <li> Left/Right arrow keys - moves the focus selection form the currently focused token to the previous/next one (if available). </li>\n * <li> Delete -  deletes the token and focuses the previous token. </li>\n * <li> Backspace -  deletes the token and focus the next token. </li>\n * </ul>\n *\n * In the context of <code>ui5-multi-combobox</code>, you can provide a custom stable DOM ref for:\n * <ul>\n * <li>Every <code>ui5-mcb-item</code> that you provide.\n * Example: <code><ui5-mcb-item stable-dom-ref=\"item1\"></ui5-mcb-item></code></li>\n * </ul>\n *\n * <h3>CSS Shadow Parts</h3>\n *\n * <ui5-link target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::part\">CSS Shadow Parts</ui5-link> allow developers to style elements inside the Shadow DOM.\n * <br>\n * The <code>ui5-multi-combobox</code> exposes the following CSS Shadow Parts:\n * <ul>\n * <li>token-{index} - Used to style each token(where <code>token-0</code> corresponds to the first item)</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/MultiComboBox\";</code>\n *\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MultiComboBox\n * @extends UI5Element\n * @tagname ui5-multi-combobox\n * @public\n * @appenddocs MultiComboBoxItem\n * @since 0.11.0\n */\n\nclass MultiComboBox extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get render() {\n    return litRender;\n  }\n\n  static get template() {\n    return MultiComboBoxTemplate;\n  }\n\n  static get staticAreaTemplate() {\n    return MultiComboBoxPopoverTemplate;\n  }\n\n  static get styles() {\n    return styles;\n  }\n\n  static get staticAreaStyles() {\n    return [ResponsivePopoverCommonCss, ValueStateMessageCss];\n  }\n\n  static get dependencies() {\n    return [MultiComboBoxItem, Tokenizer, Token, Icon, ResponsivePopover, Popover, List, StandardListItem, ToggleButton, Button];\n  }\n\n  constructor() {\n    super();\n    this._filteredItems = [];\n    this.selectedValues = [];\n    this._inputLastValue = \"\";\n    this._deleting = false;\n    this._validationTimeout = null;\n    this.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n    this._handleResizeBound = this._handleResize.bind(this);\n  }\n\n  onEnterDOM() {\n    ResizeHandler.register(this, this._handleResizeBound);\n  }\n\n  onExitDOM() {\n    ResizeHandler.deregister(this, this._handleResizeBound);\n  }\n\n  _handleResize() {\n    this._inputWidth = this.offsetWidth;\n  }\n\n  _inputChange() {\n    this.fireEvent(\"change\");\n  }\n\n  _showMorePopover() {\n    this.filterSelected = true;\n\n    this._toggleRespPopover();\n  }\n\n  togglePopover() {\n    if (!isPhone()) {\n      this._inputDom.focus();\n    }\n\n    this._toggleRespPopover();\n  }\n\n  filterSelectedItems(event) {\n    if (this.allItemsSelected) {\n      this.filterSelected = true;\n      return;\n    }\n\n    this.filterSelected = event.target.pressed;\n  }\n\n  get _showAllItemsButtonPressed() {\n    return this.filterSelected || this.allItemsSelected;\n  }\n\n  get allItemsSelected() {\n    return this.items.length === this.selectedValues.length;\n  }\n\n  get _inputDom() {\n    return this.shadowRoot.querySelector(\"#ui5-multi-combobox-input\");\n  }\n\n  _inputLiveChange(event) {\n    const input = event.target;\n    const value = input.value;\n\n    const filteredItems = this._filterItems(value);\n\n    const oldValueState = this.valueState;\n    /* skip calling change event when an input with a placeholder is focused on IE\n    \t- value of the host and the internal input should be differnt in case of actual input\n    \t- input is called when a key is pressed => keyup should not be called yet\n    */\n\n    const skipFiring = this._inputDom.value === this.value && isIE() && !this._keyDown && !!this.placeholder;\n\n    if (skipFiring) {\n      event.preventDefault();\n      return;\n    }\n\n    if (this._validationTimeout) {\n      input.value = this._inputLastValue;\n      return;\n    }\n\n    if (!filteredItems.length && value && !this.allowCustomValues) {\n      input.value = this._inputLastValue;\n      this.valueState = \"Error\";\n      this._validationTimeout = setTimeout(() => {\n        this.valueState = oldValueState;\n        this._validationTimeout = null;\n      }, 2000);\n      return;\n    }\n\n    this._inputLastValue = input.value;\n    this.value = input.value;\n    this._filteredItems = filteredItems;\n\n    if (!isPhone()) {\n      if (filteredItems.length === 0) {\n        this.allItemsPopover.close();\n      } else {\n        this.allItemsPopover.showAt(this);\n      }\n    }\n\n    this.fireEvent(\"input\");\n  }\n\n  _tokenDelete(event) {\n    const token = event.detail.ref;\n    const deletingItem = this.items.find(item => item._id === token.getAttribute(\"data-ui5-id\"));\n    deletingItem.selected = false;\n    this._deleting = true;\n    this.fireSelectionChange();\n  }\n\n  get _getPlaceholder() {\n    if (this._tokenizer && this._tokenizer.tokens.length) {\n      return \"\";\n    }\n\n    return this.placeholder;\n  }\n\n  _handleLeft() {\n    const cursorPosition = this.getDomRef().querySelector(`input`).selectionStart;\n\n    if (cursorPosition === 0) {\n      this._tokenizer._focusLastToken();\n    }\n  }\n\n  _tokenizerFocusOut(event) {\n    this._tokenizerFocused = false;\n    const tokensCount = this._tokenizer.tokens.length - 1;\n\n    if (!event.relatedTarget || event.relatedTarget.localName !== \"ui5-token\") {\n      this._tokenizer.tokens.forEach(token => {\n        token.selected = false;\n      });\n\n      this._tokenizer.scrollToStart();\n    }\n\n    if (tokensCount === 0 && this._deleting) {\n      setTimeout(() => {\n        if (!isPhone()) {\n          this.shadowRoot.querySelector(\"input\").focus();\n        }\n\n        this._deleting = false;\n      }, 0);\n    }\n  }\n\n  _tokenizerFocusIn() {\n    this._tokenizerFocused = true;\n    this.focused = false;\n  }\n\n  _onkeyup() {\n    this._keyDown = false;\n  }\n\n  async _onkeydown(event) {\n    if (isLeft(event)) {\n      this._handleLeft(event);\n    }\n\n    if (isShow(event) && !this.readonly && !this.disabled) {\n      event.preventDefault();\n\n      this._toggleRespPopover();\n    }\n\n    if (isDown(event) && this.allItemsPopover.opened && this.items.length) {\n      event.preventDefault();\n      await this._getList();\n      const firstListItem = this.list.items[0];\n\n      this.list._itemNavigation.setCurrentItem(firstListItem);\n\n      firstListItem.focus();\n    }\n\n    if (isBackSpace(event) && event.target.value === \"\") {\n      event.preventDefault();\n\n      this._tokenizer._focusLastToken();\n    }\n\n    this._keyDown = true;\n  }\n\n  _onTokenizerKeydown(event) {\n    if (isRight(event)) {\n      const lastTokenIndex = this._tokenizer.tokens.length - 1;\n\n      if (this._tokenizer.tokens[lastTokenIndex] === document.activeElement.shadowRoot.activeElement) {\n        setTimeout(() => {\n          this.shadowRoot.querySelector(\"input\").focus();\n        }, 0);\n      }\n    }\n  }\n\n  _filterItems(str) {\n    return (Filters[this.filter] || Filters.StartsWithPerTerm)(str, this.items);\n  }\n\n  _toggle() {\n    this.open = !this.open;\n    this.fireEvent(\"open-change\");\n\n    if (!this.open) {\n      this._afterClosePopover();\n    }\n  }\n\n  _getSelectedItems() {\n    // Angular 2 way data binding\n    this.selectedValues = this.items.filter(item => item.selected);\n    return this.selectedValues;\n  }\n\n  _listSelectionChange(event) {\n    event.target.items.forEach(item => {\n      this.items.forEach(mcbItem => {\n        if (mcbItem._id === item.getAttribute(\"data-ui5-token-id\")) {\n          mcbItem.selected = item.selected;\n        }\n      });\n    });\n    this.fireSelectionChange();\n\n    if (!event.detail.selectionComponentPressed && !isSpace(event.detail)) {\n      this.allItemsPopover.close();\n      this.value = \"\";\n      this.fireEvent(\"input\");\n    }\n  }\n\n  fireSelectionChange() {\n    this.fireEvent(\"selection-change\", {\n      items: this._getSelectedItems()\n    }); // Angular 2 way data binding\n\n    this.fireEvent(\"value-changed\");\n  }\n\n  async _getRespPopover() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    this.allItemsPopover = staticAreaItem.querySelector(`.ui5-multi-combobox-all-items-responsive-popover`);\n  }\n\n  async _getList() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    this.list = staticAreaItem.querySelector(\".ui5-multi-combobox-all-items-list\");\n  }\n\n  _toggleRespPopover() {\n    this.allItemsPopover.toggle(this);\n  }\n\n  _click(event) {\n    if (isPhone() && !this.readonly && !this._showMorePressed) {\n      this.allItemsPopover.showAt(this);\n    }\n\n    this._showMorePressed = false;\n  }\n\n  _afterClosePopover() {\n    // close device's keyboard and prevent further typing\n    if (isPhone()) {\n      this.blur();\n    }\n\n    this._iconPressed = false;\n    this.filterSelected = false;\n  }\n\n  onBeforeRendering() {\n    const input = this.shadowRoot.querySelector(\"input\");\n    this._inputLastValue = this.value;\n\n    if (input && !input.value) {\n      this._filteredItems = this.items;\n    }\n\n    const filteredItems = this._filterItems(this.value);\n\n    this._filteredItems = filteredItems;\n\n    if (isPhone() && this.allItemsPopover && this.allItemsPopover.opened) {\n      // Set initial focus to the dialog\n      this.allItemsPopover.focus();\n    }\n  }\n\n  async onAfterRendering() {\n    await this._getRespPopover();\n    await this._getList();\n    this.toggle(this.shouldDisplayOnlyValueStateMessage);\n    this.storeResponsivePopoverWidth();\n  }\n\n  get _isPhone() {\n    return isPhone();\n  }\n\n  _onIconMousedown() {\n    this._iconPressed = true;\n  }\n\n  storeResponsivePopoverWidth() {\n    if (this.open && !this._listWidth) {\n      this._listWidth = this.list.offsetWidth;\n    }\n  }\n\n  toggle(isToggled) {\n    if (isToggled && !this.open) {\n      this.openPopover();\n    } else {\n      this.closePopover();\n    }\n  }\n\n  async openPopover() {\n    const popover = await this._getPopover();\n\n    if (popover) {\n      popover.showAt(this);\n    }\n  }\n\n  async closePopover() {\n    const popover = await this._getPopover();\n    popover && popover.close();\n  }\n\n  async _getPopover() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    return staticAreaItem.querySelector(\"[ui5-popover]\");\n  }\n\n  get _tokenizer() {\n    return this.shadowRoot.querySelector(\"[ui5-tokenizer]\");\n  }\n\n  inputFocusIn() {\n    if (!isPhone()) {\n      this.focused = true;\n    }\n  }\n\n  inputFocusOut(event) {\n    if (!this.shadowRoot.contains(event.relatedTarget) && !this._deleting) {\n      this.focused = false;\n    }\n  }\n\n  get editable() {\n    return !this.readonly;\n  }\n\n  get _isFocusInside() {\n    return this.focused || this._tokenizerFocused;\n  }\n\n  get selectedItemsListMode() {\n    return this.readonly ? \"None\" : \"MultiSelect\";\n  }\n\n  get _listItemsType() {\n    return this.readonly ? \"Inactive\" : \"Active\";\n  }\n\n  get hasValueState() {\n    return this.valueState !== ValueState.None;\n  }\n\n  get hasValueStateMessage() {\n    return this.hasValueState && this.valueState !== ValueState.Success;\n  }\n\n  get valueStateText() {\n    return this.valueStateTextMappings[this.valueState];\n  }\n\n  get valueStateTextId() {\n    return this.hasValueState ? `${this._id}-valueStateDesc` : undefined;\n  }\n\n  get valueStateMessageText() {\n    return this.getSlottedNodes(\"valueStateMessage\").map(el => el.cloneNode(true));\n  }\n\n  get _tokensCountText() {\n    if (!this._tokenizer) {\n      return;\n    }\n\n    return this._tokenizer._tokensCountText();\n  }\n\n  get _tokensCountTextId() {\n    return `${this._id}-hiddenText-nMore`;\n  }\n\n  get ariaDescribedByText() {\n    return this.valueStateTextId ? `${this._tokensCountTextId} ${this.valueStateTextId}` : `${this._tokensCountTextId}`;\n  }\n\n  get shouldDisplayDefaultValueStateMessage() {\n    return !this.valueStateMessage.length && this.hasValueStateMessage;\n  }\n\n  get shouldDisplayOnlyValueStateMessage() {\n    return this.focused && this.hasValueStateMessage && !this._iconPressed;\n  }\n\n  get valueStateTextMappings() {\n    return {\n      \"Success\": this.i18nBundle.getText(VALUE_STATE_SUCCESS),\n      \"Error\": this.i18nBundle.getText(VALUE_STATE_ERROR),\n      \"Warning\": this.i18nBundle.getText(VALUE_STATE_WARNING)\n    };\n  }\n\n  get _innerInput() {\n    if (isPhone()) {\n      if (this.allItemsPopover.opened) {\n        return this.allItemsPopover.querySelector(\"input\");\n      }\n    }\n\n    return this.getDomRef().querySelector(\"#ui5-multi-combobox-input\");\n  }\n\n  get _headerTitleText() {\n    return this.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n  }\n\n  get _iconAccessibleNameText() {\n    return this.i18nBundle.getText(SELECT_OPTIONS);\n  }\n\n  get _dialogOkButton() {\n    return this.i18nBundle.getText(MULTICOMBOBOX_DIALOG_OK_BUTTON);\n  }\n\n  get _tokenizerExpanded() {\n    return (this._isFocusInside || this.open) && !this.readonly;\n  }\n\n  get classes() {\n    return {\n      popoverValueState: {\n        \"ui5-valuestatemessage-root\": true,\n        \"ui5-valuestatemessage--success\": this.valueState === ValueState.Success,\n        \"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n        \"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning,\n        \"ui5-valuestatemessage--information\": this.valueState === ValueState.Information\n      }\n    };\n  }\n\n  get styles() {\n    return {\n      popoverValueStateMessage: {\n        \"width\": `${this._listWidth}px`,\n        \"display\": this._listWidth === 0 ? \"none\" : \"inline-block\",\n        \"padding\": \"0.9125rem 1rem\"\n      },\n      popoverHeader: {\n        \"max-width\": `${this._inputWidth}px`\n      }\n    };\n  }\n\n  static async onDefine() {\n    await fetchI18nBundle(\"@ui5/webcomponents\");\n  }\n\n}\n\nMultiComboBox.define();\nexport default MultiComboBox;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/MultiComboBox.js"],"names":["UI5Element","litRender","ResizeHandler","ValueState","isShow","isDown","isBackSpace","isSpace","isLeft","isRight","Integer","isIE","isPhone","fetchI18nBundle","getI18nBundle","MultiComboBoxItem","Tokenizer","Token","Icon","Popover","ResponsivePopover","List","StandardListItem","ToggleButton","Filters","Button","VALUE_STATE_SUCCESS","VALUE_STATE_ERROR","VALUE_STATE_WARNING","INPUT_SUGGESTIONS_TITLE","SELECT_OPTIONS","MULTICOMBOBOX_DIALOG_OK_BUTTON","MultiComboBoxTemplate","MultiComboBoxPopoverTemplate","styles","ResponsivePopoverCommonCss","ValueStateMessageCss","metadata","tag","languageAware","managedSlots","slots","propertyName","type","HTMLElement","invalidateOnChildChange","icon","valueStateMessage","properties","value","String","defaultValue","placeholder","allowCustomValues","Boolean","disabled","valueState","None","readonly","required","filter","open","_filteredItems","Object","filterSelected","focused","_tokenizerFocused","_iconPressed","noAttribute","_inputWidth","_listWidth","events","change","input","detail","items","Array","MultiComboBox","render","template","staticAreaTemplate","staticAreaStyles","dependencies","constructor","selectedValues","_inputLastValue","_deleting","_validationTimeout","i18nBundle","_handleResizeBound","_handleResize","bind","onEnterDOM","register","onExitDOM","deregister","offsetWidth","_inputChange","fireEvent","_showMorePopover","_toggleRespPopover","togglePopover","_inputDom","focus","filterSelectedItems","event","allItemsSelected","target","pressed","_showAllItemsButtonPressed","length","shadowRoot","querySelector","_inputLiveChange","filteredItems","_filterItems","oldValueState","skipFiring","_keyDown","preventDefault","setTimeout","allItemsPopover","close","showAt","_tokenDelete","token","ref","deletingItem","find","item","_id","getAttribute","selected","fireSelectionChange","_getPlaceholder","_tokenizer","tokens","_handleLeft","cursorPosition","getDomRef","selectionStart","_focusLastToken","_tokenizerFocusOut","tokensCount","relatedTarget","localName","forEach","scrollToStart","_tokenizerFocusIn","_onkeyup","_onkeydown","opened","_getList","firstListItem","list","_itemNavigation","setCurrentItem","_onTokenizerKeydown","lastTokenIndex","document","activeElement","str","StartsWithPerTerm","_toggle","_afterClosePopover","_getSelectedItems","_listSelectionChange","mcbItem","selectionComponentPressed","_getRespPopover","staticAreaItem","getStaticAreaItemDomRef","toggle","_click","_showMorePressed","blur","onBeforeRendering","onAfterRendering","shouldDisplayOnlyValueStateMessage","storeResponsivePopoverWidth","_isPhone","_onIconMousedown","isToggled","openPopover","closePopover","popover","_getPopover","inputFocusIn","inputFocusOut","contains","editable","_isFocusInside","selectedItemsListMode","_listItemsType","hasValueState","hasValueStateMessage","Success","valueStateText","valueStateTextMappings","valueStateTextId","undefined","valueStateMessageText","getSlottedNodes","map","el","cloneNode","_tokensCountText","_tokensCountTextId","ariaDescribedByText","shouldDisplayDefaultValueStateMessage","getText","_innerInput","_headerTitleText","_iconAccessibleNameText","_dialogOkButton","_tokenizerExpanded","classes","popoverValueState","Error","Warning","Information","popoverValueStateMessage","popoverHeader","onDefine","define"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,4CAAvB;AACA,OAAOC,SAAP,MAAsB,sDAAtB;AACA,OAAOC,aAAP,MAA0B,wDAA1B;AACA,OAAOC,UAAP,MAAuB,kDAAvB;AACA,SACCC,MADD,EAECC,MAFD,EAGCC,WAHD,EAICC,OAJD,EAKCC,MALD,EAMCC,OAND,QAOO,sCAPP;AAQA,OAAOC,OAAP,MAAoB,+CAApB;AACA,OAAO,kDAAP;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,wCAA9B;AACA,SAASC,eAAT,EAA0BC,aAA1B,QAA+C,4CAA/C;AACA,OAAO,0CAAP;AACA,OAAO,kDAAP;AACA,OAAOC,iBAAP,MAA8B,wBAA9B;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,iBAAP,MAA8B,wBAA9B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,gBAAP,MAA6B,uBAA7B;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAO,KAAKC,OAAZ,MAAyB,sBAAzB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,SACCC,mBADD,EAECC,iBAFD,EAGCC,mBAHD,EAICC,uBAJD,EAKCC,cALD,EAMCC,8BAND,QAOO,mCAPP,C,CASA;;AACA,OAAOC,qBAAP,MAAkC,oDAAlC;AACA,OAAOC,4BAAP,MAAyC,2DAAzC,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,yCAAnB;AACA,OAAOC,0BAAP,MAAuC,mDAAvC;AACA,OAAOC,oBAAP,MAAiC,6CAAjC;AAEA;AACA;AACA;;AACA,MAAMC,QAAQ,GAAG;AAChBC,EAAAA,GAAG,EAAE,oBADW;AAEhBC,EAAAA,aAAa,EAAE,IAFC;AAGhBC,EAAAA,YAAY,EAAE,IAHE;AAIhBC,EAAAA,KAAK;AAAE;AAAgE;AACtE;AACF;AACA;AACA;AACA;AACA;AACA;AACE,eAAW;AACVC,MAAAA,YAAY,EAAE,OADJ;AAEVC,MAAAA,IAAI,EAAEC,WAFI;AAGVC,MAAAA,uBAAuB,EAAE;AAHf,KAR2D;;AActE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,IAAAA,IAAI,EAAE;AACLH,MAAAA,IAAI,EAAEC;AADD,KAtBgE;;AA0BtE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEG,IAAAA,iBAAiB,EAAE;AAClBJ,MAAAA,IAAI,EAAEC;AADY;AAvCmD,GAJvD;AA+ChBI,EAAAA,UAAU;AAAE;AAAgE;AAC3E;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,IAAAA,KAAK,EAAE;AACNN,MAAAA,IAAI,EAAEO,MADA;AAENC,MAAAA,YAAY,EAAE;AAFR,KAVoE;;AAe3E;AACF;AACA;AACA;AACA;AACA;AACA;AACEC,IAAAA,WAAW,EAAE;AACZT,MAAAA,IAAI,EAAEO,MADM;AAEZC,MAAAA,YAAY,EAAE;AAFF,KAtB8D;;AA2B3E;AACF;AACA;AACA;AACA;AACA;AACA;AACEE,IAAAA,iBAAiB,EAAE;AAClBV,MAAAA,IAAI,EAAEW;AADY,KAlCwD;;AAsC3E;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,IAAAA,QAAQ,EAAE;AACTZ,MAAAA,IAAI,EAAEW;AADG,KA/CiE;;AAmD3E;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEE,IAAAA,UAAU,EAAE;AACXb,MAAAA,IAAI,EAAExC,UADK;AAEXgD,MAAAA,YAAY,EAAEhD,UAAU,CAACsD;AAFd,KAnE+D;;AAwE3E;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,IAAAA,QAAQ,EAAE;AACTf,MAAAA,IAAI,EAAEW;AADG,KAlFiE;;AAsF3E;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEK,IAAAA,QAAQ,EAAE;AACThB,MAAAA,IAAI,EAAEW;AADG,KA9FiE;;AAkG3E;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEM,IAAAA,MAAM,EAAE;AACPjB,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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport {\n\tisShow,\n\tisDown,\n\tisBackSpace,\n\tisSpace,\n\tisLeft,\n\tisRight,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport \"@ui5/webcomponents-icons/dist/slim-arrow-down.js\";\nimport { isIE, isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\nimport \"@ui5/webcomponents-icons/dist/multiselect-all.js\";\nimport MultiComboBoxItem from \"./MultiComboBoxItem.js\";\nimport Tokenizer from \"./Tokenizer.js\";\nimport Token from \"./Token.js\";\nimport Icon from \"./Icon.js\";\nimport Popover from \"./Popover.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport ToggleButton from \"./ToggleButton.js\";\nimport * as Filters from \"./ComboBoxFilters.js\";\nimport Button from \"./Button.js\";\n\nimport {\n\tVALUE_STATE_SUCCESS,\n\tVALUE_STATE_ERROR,\n\tVALUE_STATE_WARNING,\n\tINPUT_SUGGESTIONS_TITLE,\n\tSELECT_OPTIONS,\n\tMULTICOMBOBOX_DIALOG_OK_BUTTON,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Templates\nimport MultiComboBoxTemplate from \"./generated/templates/MultiComboBoxTemplate.lit.js\";\nimport MultiComboBoxPopoverTemplate from \"./generated/templates/MultiComboBoxPopoverTemplate.lit.js\";\n\n// Styles\nimport styles from \"./generated/themes/MultiComboBox.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ValueStateMessageCss from \"./generated/themes/ValueStateMessage.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-multi-combobox\",\n\tlanguageAware: true,\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */ {\n\t\t/**\n\t\t * Defines the component items.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.IMultiComboBoxItem[]}\n\t\t * @slot items\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t\tinvalidateOnChildChange: true,\n\t\t},\n\n\t\t/**\n\t\t* Defines the icon to be displayed in the component.\n\t\t*\n\t\t* @type {sap.ui.webcomponents.main.IIcon}\n\t\t* @slot\n\t\t* @public\n\t\t* @since 1.0.0-rc.9\n\t\t*/\n\t\ticon: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state message that will be displayed as pop up under the component.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n\t\t * <br>\n\t\t * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n\t\t * when the component is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n\t\t * @type {HTMLElement[]}\n\t\t * @since 1.0.0-rc.9\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tvalueStateMessage: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tproperties: /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */ {\n\t\t/**\n\t\t * Defines the value of the component.\n\t\t * <br><br>\n\t\t * <b>Note:</b> The property is updated upon typing.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines a short hint intended to aid the user with data entry when the\n\t\t * component has no value.\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Defines if the user input will be prevented, if no matching item has been found\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tallowCustomValues: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is in disabled state.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A disabled component is completely noninteractive.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state of the component.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>None</code></li>\n\t\t * <li><code>Error</code></li>\n\t\t * <li><code>Warning</code></li>\n\t\t * <li><code>Success</code></li>\n\t\t * <li><code>Information</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {ValueState}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tvalueState: {\n\t\t\ttype: ValueState,\n\t\t\tdefaultValue: ValueState.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is read-only.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A read-only component is not editable,\n\t\t * but still provides visual feedback upon user interaction.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the component is required.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.5\n\t\t */\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the filter type of the component.\n\t\t * Available options are: <code>StartsWithPerTerm</code>, <code>StartsWith</code>, <code>Contains</code> and <code>None</code>.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"StartsWithPerTerm\"\n\t\t * @public\n\t\t */\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"StartsWithPerTerm\",\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether the dropdown is open. True if the dropdown is open, false otherwise.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @readonly\n\t\t * @since 1.0.0-rc.5\n\t\t * @public\n\t\t */\n\t\topen: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_filteredItems: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\tfilterSelected: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\tfocused: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_tokenizerFocused: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_iconPressed: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_inputWidth: {\n\t\t\ttype: Integer,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_listWidth: {\n\t\t\ttype: Integer,\n\t\t\tdefaultValue: 0,\n\t\t\tnoAttribute: true,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.MultiComboBox.prototype */ {\n\t\t/**\n\t\t * Fired when the input operation has finished by pressing Enter or on focusout.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tchange: {},\n\n\t\t/**\n\t\t * Fired when the value of the component changes at each keystroke.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t */\n\t\tinput: {},\n\n\t\t/**\n\t\t * Fired when the dropdown is opened or closed.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.MultiComboBox#open-change\n\t\t * @since 1.0.0-rc.5\n\t\t * @public\n\t\t */\n\t\t\"open-change\": {},\n\n\t\t/**\n\t\t * Fired when selection is changed by user interaction\n\t\t * in <code>SingleSelect</code> and <code>MultiSelect</code> modes.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.MultiComboBox#selection-change\n\t\t * @param {Array} items an array of the selected items.\n\t\t * @public\n\t\t */\n\t\t\"selection-change\": {\n\t\t\tdetail: {\n\t\t\t\titems: { type: Array },\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-multi-combobox</code> component provides a list box with items and a text field allowing the user to either type a value directly into the control, or choose from the list of existing items.\n *\n * It is a drop-down list for selecting and filtering values, commonly used to enable users to select one or more options from a predefined list. The control provides an editable input field to filter the list, and a dropdown arrow of available options.\n * The select options in the list have checkboxes that permit multi-selection. Entered values are displayed as tokens.\n * <h3>Structure</h3>\n * The <code>ui5-multi-combobox</code> consists of the following elements:\n * <ul>\n * <li> Tokenizer - a list of tokens with selected options.\n * <li> Input field - displays the selected option/s as token/s. Users can type to filter the list.\n * <li> Drop-down arrow - expands\\collapses the option list.</li>\n * <li> Option list - the list of available options.</li>\n * </ul>\n * <h3>Keyboard Handling</h3>\n *\n * The <code>ui5-multi-combobox</code> provides advanced keyboard handling.\n *\n * <h4>Picker</h4>\n * If the <code>ui5-multi-combobox</code> is focused,\n * you can open or close the drop-down by pressing <code>F4</code>, <code>ALT+UP</code> or <code>ALT+DOWN</code> keys.\n * Once the drop-down is opened, you can use the <code>UP</code> and <code>DOWN</code> arrow keys\n * to navigate through the available options and select one by pressing the <code>Space</code> or <code>Enter</code> keys.\n * <br>\n *\n * <h4>Tokens</h4>\n * <ul>\n * <li> Left/Right arrow keys - moves the focus selection form the currently focused token to the previous/next one (if available). </li>\n * <li> Delete -  deletes the token and focuses the previous token. </li>\n * <li> Backspace -  deletes the token and focus the next token. </li>\n * </ul>\n *\n * In the context of <code>ui5-multi-combobox</code>, you can provide a custom stable DOM ref for:\n * <ul>\n * <li>Every <code>ui5-mcb-item</code> that you provide.\n * Example: <code><ui5-mcb-item stable-dom-ref=\"item1\"></ui5-mcb-item></code></li>\n * </ul>\n *\n * <h3>CSS Shadow Parts</h3>\n *\n * <ui5-link target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/::part\">CSS Shadow Parts</ui5-link> allow developers to style elements inside the Shadow DOM.\n * <br>\n * The <code>ui5-multi-combobox</code> exposes the following CSS Shadow Parts:\n * <ul>\n * <li>token-{index} - Used to style each token(where <code>token-0</code> corresponds to the first item)</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/MultiComboBox\";</code>\n *\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MultiComboBox\n * @extends UI5Element\n * @tagname ui5-multi-combobox\n * @public\n * @appenddocs MultiComboBoxItem\n * @since 0.11.0\n */\nclass MultiComboBox extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn MultiComboBoxTemplate;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn MultiComboBoxPopoverTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn styles;\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn [ResponsivePopoverCommonCss, ValueStateMessageCss];\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tMultiComboBoxItem,\n\t\t\tTokenizer,\n\t\t\tToken,\n\t\t\tIcon,\n\t\t\tResponsivePopover,\n\t\t\tPopover,\n\t\t\tList,\n\t\t\tStandardListItem,\n\t\t\tToggleButton,\n\t\t\tButton,\n\t\t];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._filteredItems = [];\n\t\tthis.selectedValues = [];\n\t\tthis._inputLastValue = \"\";\n\t\tthis._deleting = false;\n\t\tthis._validationTimeout = null;\n\t\tthis.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n\t\tthis._handleResizeBound = this._handleResize.bind(this);\n\t}\n\n\tonEnterDOM() {\n\t\tResizeHandler.register(this, this._handleResizeBound);\n\t}\n\n\tonExitDOM() {\n\t\tResizeHandler.deregister(this, this._handleResizeBound);\n\t}\n\n\t_handleResize() {\n\t\tthis._inputWidth = this.offsetWidth;\n\t}\n\n\t_inputChange() {\n\t\tthis.fireEvent(\"change\");\n\t}\n\n\t_showMorePopover() {\n\t\tthis.filterSelected = true;\n\t\tthis._toggleRespPopover();\n\t}\n\n\ttogglePopover() {\n\t\tif (!isPhone()) {\n\t\t\tthis._inputDom.focus();\n\t\t}\n\n\t\tthis._toggleRespPopover();\n\t}\n\n\tfilterSelectedItems(event) {\n\t\tif (this.allItemsSelected) {\n\t\t\tthis.filterSelected = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.filterSelected = event.target.pressed;\n\t}\n\n\tget _showAllItemsButtonPressed() {\n\t\treturn this.filterSelected || this.allItemsSelected;\n\t}\n\n\tget allItemsSelected() {\n\t\treturn this.items.length === this.selectedValues.length;\n\t}\n\n\tget _inputDom() {\n\t\treturn this.shadowRoot.querySelector(\"#ui5-multi-combobox-input\");\n\t}\n\n\t_inputLiveChange(event) {\n\t\tconst input = event.target;\n\t\tconst value = input.value;\n\t\tconst filteredItems = this._filterItems(value);\n\t\tconst oldValueState = this.valueState;\n\n\t\t/* skip calling change event when an input with a placeholder is focused on IE\n\t\t\t- value of the host and the internal input should be differnt in case of actual input\n\t\t\t- input is called when a key is pressed => keyup should not be called yet\n\t\t*/\n\t\tconst skipFiring = (this._inputDom.value === this.value) && isIE() && !this._keyDown && !!this.placeholder;\n\n\t\tif (skipFiring) {\n\t\t\tevent.preventDefault();\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._validationTimeout) {\n\t\t\tinput.value = this._inputLastValue;\n\t\t\treturn;\n\t\t}\n\n\t\tif (!filteredItems.length && value && !this.allowCustomValues) {\n\t\t\tinput.value = this._inputLastValue;\n\t\t\tthis.valueState = \"Error\";\n\n\t\t\tthis._validationTimeout = setTimeout(() => {\n\t\t\t\tthis.valueState = oldValueState;\n\t\t\t\tthis._validationTimeout = null;\n\t\t\t}, 2000);\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis._inputLastValue = input.value;\n\t\tthis.value = input.value;\n\t\tthis._filteredItems = filteredItems;\n\n\t\tif (!isPhone()) {\n\t\t\tif (filteredItems.length === 0) {\n\t\t\t\tthis.allItemsPopover.close();\n\t\t\t} else {\n\t\t\t\tthis.allItemsPopover.showAt(this);\n\t\t\t}\n\t\t}\n\n\t\tthis.fireEvent(\"input\");\n\t}\n\n\t_tokenDelete(event) {\n\t\tconst token = event.detail.ref;\n\t\tconst deletingItem = this.items.find(item => item._id === token.getAttribute(\"data-ui5-id\"));\n\n\t\tdeletingItem.selected = false;\n\t\tthis._deleting = true;\n\n\t\tthis.fireSelectionChange();\n\t}\n\n\tget _getPlaceholder() {\n\t\tif (this._tokenizer && this._tokenizer.tokens.length) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\treturn this.placeholder;\n\t}\n\n\t_handleLeft() {\n\t\tconst cursorPosition = this.getDomRef().querySelector(`input`).selectionStart;\n\n\t\tif (cursorPosition === 0) {\n\t\t\tthis._tokenizer._focusLastToken();\n\t\t}\n\t}\n\n\t_tokenizerFocusOut(event) {\n\t\tthis._tokenizerFocused = false;\n\n\t\tconst tokensCount = this._tokenizer.tokens.length - 1;\n\n\t\tif (!event.relatedTarget || event.relatedTarget.localName !== \"ui5-token\") {\n\t\t\tthis._tokenizer.tokens.forEach(token => { token.selected = false; });\n\t\t\tthis._tokenizer.scrollToStart();\n\t\t}\n\n\t\tif (tokensCount === 0 && this._deleting) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!isPhone()) {\n\t\t\t\t\tthis.shadowRoot.querySelector(\"input\").focus();\n\t\t\t\t}\n\n\t\t\t\tthis._deleting = false;\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\t_tokenizerFocusIn() {\n\t\tthis._tokenizerFocused = true;\n\t\tthis.focused = false;\n\t}\n\n\t_onkeyup() {\n\t\tthis._keyDown = false;\n\t}\n\n\tasync _onkeydown(event) {\n\t\tif (isLeft(event)) {\n\t\t\tthis._handleLeft(event);\n\t\t}\n\n\t\tif (isShow(event) && !this.readonly && !this.disabled) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._toggleRespPopover();\n\t\t}\n\n\t\tif (isDown(event) && this.allItemsPopover.opened && this.items.length) {\n\t\t\tevent.preventDefault();\n\t\t\tawait this._getList();\n\t\t\tconst firstListItem = this.list.items[0];\n\t\t\tthis.list._itemNavigation.setCurrentItem(firstListItem);\n\t\t\tfirstListItem.focus();\n\t\t}\n\n\t\tif (isBackSpace(event) && event.target.value === \"\") {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._tokenizer._focusLastToken();\n\t\t}\n\n\t\tthis._keyDown = true;\n\t}\n\n\t_onTokenizerKeydown(event) {\n\t\tif (isRight(event)) {\n\t\t\tconst lastTokenIndex = this._tokenizer.tokens.length - 1;\n\n\t\t\tif (this._tokenizer.tokens[lastTokenIndex] === document.activeElement.shadowRoot.activeElement) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.shadowRoot.querySelector(\"input\").focus();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t_filterItems(str) {\n\t\treturn (Filters[this.filter] || Filters.StartsWithPerTerm)(str, this.items);\n\t}\n\n\t_toggle() {\n\t\tthis.open = !this.open;\n\t\tthis.fireEvent(\"open-change\");\n\n\t\tif (!this.open) {\n\t\t\tthis._afterClosePopover();\n\t\t}\n\t}\n\n\t_getSelectedItems() {\n\t\t// Angular 2 way data binding\n\t\tthis.selectedValues = this.items.filter(item => item.selected);\n\t\treturn this.selectedValues;\n\t}\n\n\t_listSelectionChange(event) {\n\t\tevent.target.items.forEach(item => {\n\t\t\tthis.items.forEach(mcbItem => {\n\t\t\t\tif (mcbItem._id === item.getAttribute(\"data-ui5-token-id\")) {\n\t\t\t\t\tmcbItem.selected = item.selected;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tthis.fireSelectionChange();\n\n\t\tif (!event.detail.selectionComponentPressed && !isSpace(event.detail)) {\n\t\t\tthis.allItemsPopover.close();\n\t\t\tthis.value = \"\";\n\t\t\tthis.fireEvent(\"input\");\n\t\t}\n\t}\n\n\tfireSelectionChange() {\n\t\tthis.fireEvent(\"selection-change\", { items: this._getSelectedItems() });\n\t\t// Angular 2 way data binding\n\t\tthis.fireEvent(\"value-changed\");\n\t}\n\n\tasync _getRespPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\tthis.allItemsPopover = staticAreaItem.querySelector(`.ui5-multi-combobox-all-items-responsive-popover`);\n\t}\n\n\tasync _getList() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\tthis.list = staticAreaItem.querySelector(\".ui5-multi-combobox-all-items-list\");\n\t}\n\n\t_toggleRespPopover() {\n\t\tthis.allItemsPopover.toggle(this);\n\t}\n\n\t_click(event) {\n\t\tif (isPhone() && !this.readonly && !this._showMorePressed) {\n\t\t\tthis.allItemsPopover.showAt(this);\n\t\t}\n\n\t\tthis._showMorePressed = false;\n\t}\n\n\t_afterClosePopover() {\n\t\t// close device's keyboard and prevent further typing\n\t\tif (isPhone()) {\n\t\t\tthis.blur();\n\t\t}\n\n\t\tthis._iconPressed = false;\n\t\tthis.filterSelected = false;\n\t}\n\n\tonBeforeRendering() {\n\t\tconst input = this.shadowRoot.querySelector(\"input\");\n\t\tthis._inputLastValue = this.value;\n\n\t\tif (input && !input.value) {\n\t\t\tthis._filteredItems = this.items;\n\t\t}\n\n\t\tconst filteredItems = this._filterItems(this.value);\n\t\tthis._filteredItems = filteredItems;\n\n\t\tif (isPhone() && this.allItemsPopover && this.allItemsPopover.opened) {\n\t\t\t// Set initial focus to the dialog\n\t\t\tthis.allItemsPopover.focus();\n\t\t}\n\t}\n\n\tasync onAfterRendering() {\n\t\tawait this._getRespPopover();\n\t\tawait this._getList();\n\n\t\tthis.toggle(this.shouldDisplayOnlyValueStateMessage);\n\t\tthis.storeResponsivePopoverWidth();\n\t}\n\n\tget _isPhone() {\n\t\treturn isPhone();\n\t}\n\n\t_onIconMousedown() {\n\t\tthis._iconPressed = true;\n\t}\n\n\tstoreResponsivePopoverWidth() {\n\t\tif (this.open && !this._listWidth) {\n\t\t\tthis._listWidth = this.list.offsetWidth;\n\t\t}\n\t}\n\n\ttoggle(isToggled) {\n\t\tif (isToggled && !this.open) {\n\t\t\tthis.openPopover();\n\t\t} else {\n\t\t\tthis.closePopover();\n\t\t}\n\t}\n\n\tasync openPopover() {\n\t\tconst popover = await this._getPopover();\n\n\t\tif (popover) {\n\t\t\tpopover.showAt(this);\n\t\t}\n\t}\n\n\tasync closePopover() {\n\t\tconst popover = await this._getPopover();\n\n\t\tpopover && popover.close();\n\t}\n\n\tasync _getPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\treturn staticAreaItem.querySelector(\"[ui5-popover]\");\n\t}\n\n\tget _tokenizer() {\n\t\treturn this.shadowRoot.querySelector(\"[ui5-tokenizer]\");\n\t}\n\n\tinputFocusIn() {\n\t\tif (!isPhone()) {\n\t\t\tthis.focused = true;\n\t\t}\n\t}\n\n\tinputFocusOut(event) {\n\t\tif (!this.shadowRoot.contains(event.relatedTarget) && !this._deleting) {\n\t\t\tthis.focused = false;\n\t\t}\n\t}\n\n\tget editable() {\n\t\treturn !this.readonly;\n\t}\n\n\tget _isFocusInside() {\n\t\treturn this.focused || this._tokenizerFocused;\n\t}\n\n\tget selectedItemsListMode() {\n\t\treturn this.readonly ? \"None\" : \"MultiSelect\";\n\t}\n\n\tget _listItemsType() {\n\t\treturn this.readonly ? \"Inactive\" : \"Active\";\n\t}\n\n\tget hasValueState() {\n\t\treturn this.valueState !== ValueState.None;\n\t}\n\n\tget hasValueStateMessage() {\n\t\treturn this.hasValueState && this.valueState !== ValueState.Success;\n\t}\n\n\tget valueStateText() {\n\t\treturn this.valueStateTextMappings[this.valueState];\n\t}\n\n\tget valueStateTextId() {\n\t\treturn this.hasValueState ? `${this._id}-valueStateDesc` : undefined;\n\t}\n\n\tget valueStateMessageText() {\n\t\treturn this.getSlottedNodes(\"valueStateMessage\").map(el => el.cloneNode(true));\n\t}\n\n\tget _tokensCountText() {\n\t\tif (!this._tokenizer) {\n\t\t\treturn;\n\t\t}\n\t\treturn this._tokenizer._tokensCountText();\n\t}\n\n\tget _tokensCountTextId() {\n\t\treturn `${this._id}-hiddenText-nMore`;\n\t}\n\n\tget ariaDescribedByText() {\n\t\treturn this.valueStateTextId ? `${this._tokensCountTextId} ${this.valueStateTextId}` : `${this._tokensCountTextId}`;\n\t}\n\n\tget shouldDisplayDefaultValueStateMessage() {\n\t\treturn !this.valueStateMessage.length && this.hasValueStateMessage;\n\t}\n\n\tget shouldDisplayOnlyValueStateMessage() {\n\t\treturn this.focused && this.hasValueStateMessage && !this._iconPressed;\n\t}\n\n\tget valueStateTextMappings() {\n\t\treturn {\n\t\t\t\"Success\": this.i18nBundle.getText(VALUE_STATE_SUCCESS),\n\t\t\t\"Error\": this.i18nBundle.getText(VALUE_STATE_ERROR),\n\t\t\t\"Warning\": this.i18nBundle.getText(VALUE_STATE_WARNING),\n\t\t};\n\t}\n\n\tget _innerInput() {\n\t\tif (isPhone()) {\n\t\t\tif (this.allItemsPopover.opened) {\n\t\t\t\treturn this.allItemsPopover.querySelector(\"input\");\n\t\t\t}\n\t\t}\n\n\t\treturn this.getDomRef().querySelector(\"#ui5-multi-combobox-input\");\n\t}\n\n\tget _headerTitleText() {\n\t\treturn this.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n\t}\n\n\tget _iconAccessibleNameText() {\n\t\treturn this.i18nBundle.getText(SELECT_OPTIONS);\n\t}\n\n\tget _dialogOkButton() {\n\t\treturn this.i18nBundle.getText(MULTICOMBOBOX_DIALOG_OK_BUTTON);\n\t}\n\n\tget _tokenizerExpanded() {\n\t\treturn (this._isFocusInside || this.open) && !this.readonly;\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\tpopoverValueState: {\n\t\t\t\t\"ui5-valuestatemessage-root\": true,\n\t\t\t\t\"ui5-valuestatemessage--success\": this.valueState === ValueState.Success,\n\t\t\t\t\"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n\t\t\t\t\"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning,\n\t\t\t\t\"ui5-valuestatemessage--information\": this.valueState === ValueState.Information,\n\t\t\t},\n\t\t};\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tpopoverValueStateMessage: {\n\t\t\t\t\"width\": `${this._listWidth}px`,\n\t\t\t\t\"display\": this._listWidth === 0 ? \"none\" : \"inline-block\",\n\t\t\t\t\"padding\": \"0.9125rem 1rem\",\n\t\t\t},\n\t\t\tpopoverHeader: {\n\t\t\t\t\"max-width\": `${this._inputWidth}px`,\n\t\t\t},\n\t\t};\n\t}\n\n\tstatic async onDefine() {\n\t\tawait fetchI18nBundle(\"@ui5/webcomponents\");\n\t}\n}\n\nMultiComboBox.define();\n\nexport default MultiComboBox;\n"]},"metadata":{},"sourceType":"module"}