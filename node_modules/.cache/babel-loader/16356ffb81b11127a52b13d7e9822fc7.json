{"ast":null,"code":"import _slicedToArray from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _inherits from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { noChange as t } from \"../lit-html.js\";\nimport { directive as s, Directive as r, PartType as i } from \"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nvar e = s( /*#__PURE__*/function (_r) {\n  _inherits(_class, _r);\n\n  var _super = _createSuper(_class);\n\n  function _class(t) {\n    var _this;\n\n    _classCallCheck(this, _class);\n\n    var s;\n    if (_this = _super.call(this, t), t.type !== i.ATTRIBUTE || \"class\" !== t.name || (null === (s = t.strings) || void 0 === s ? void 0 : s.length) > 2) throw Error(\"`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.\");\n    return _possibleConstructorReturn(_this);\n  }\n\n  _createClass(_class, [{\n    key: \"render\",\n    value: function render(t) {\n      return Object.keys(t).filter(function (s) {\n        return t[s];\n      }).join(\" \");\n    }\n  }, {\n    key: \"update\",\n    value: function update(s, _ref) {\n      var _this2 = this;\n\n      var _ref2 = _slicedToArray(_ref, 1),\n          r = _ref2[0];\n\n      if (void 0 === this.bt) {\n        this.bt = new Set();\n\n        for (var _t in r) {\n          r[_t] && this.bt.add(_t);\n        }\n\n        return this.render(r);\n      }\n\n      var i = s.element.classList;\n      this.bt.forEach(function (t) {\n        t in r || (i.remove(t), _this2.bt.delete(t));\n      });\n\n      for (var _t2 in r) {\n        var _s = !!r[_t2];\n\n        _s !== this.bt.has(_t2) && (_s ? (i.add(_t2), this.bt.add(_t2)) : (i.remove(_t2), this.bt.delete(_t2)));\n      }\n\n      return t;\n    }\n  }]);\n\n  return _class;\n}(r));\nexport { e as classMap };","map":{"version":3,"sources":["../src/directives/class-map.ts"],"names":["Directive","[object Object]","partInfo","super","type","PartType","ATTRIBUTE","name","strings","length","Error","classInfo","Object","keys","filter","key","join","part","this","_previousClasses","undefined","Set","add","render","classList","element","forEach","remove","delete","value","has","noChange","classMap","directive"],"mappings":";;;;;;;;;;;;;;IA0GagC,CAAAA,GAAWC,CApFxB;AAAA;;AAAA;;AAOEhC,kBAAYC,CAAZD,EAAYC;AAAAA;;AAAAA;;AAAAA,QAAAA,CAAAA;AAEV,QADAC,0BAAMD,CAANC,GAEED,CAAAA,CAASE,IAATF,KAAkBG,CAAAA,CAASC,SAA3BJ,IACkB,YAAlBA,CAAAA,CAASK,IADTL,IACSK,CAAAA,UAAAA,CAAAA,GACRL,CAAAA,CAASM,OADDD,KACCC,KAAAA,CAAAA,KAAAA,CADDD,GACCC,KAAAA,CADDD,GACCC,CAAAA,CAASC,MADVF,IAC8B,CAHzC,EAKE,MAAUG,KAAAA,CACR,oGADQA,CAAV;AAPQR;AAcZD;;AArBF;AAAA;AAAA,WAqBEA,gBAAOU,CAAPV,EAAOU;AACL,aAAOC,MAAAA,CAAOC,IAAPD,CAAYD,CAAZC,EACJE,MADIF,CACIG,UAAAA,CAAAA;AAAAA,eAAQJ,CAAAA,CAAUI,CAAVJ,CAARI;AAAAA,OADJH,EAEJI,IAFIJ,CAEC,GAFDA,CAAP;AAKFX;AA3BF;AAAA;AAAA,WA2BEA,gBAAOgB,CAAPhB,QAA6BU;AAAAA;;AAAAA;AAAAA,UAAAA,CAAAA;;AAE3B,UAAA,KAA8BS,CAA9B,KAAIF,KAAKC,EAAT,EAAyC;AACvCD,aAAKC,EAALD,GAAwB,IAAIG,GAAJ,EAAxBH;;AACA,aAAK,IAAMX,EAAX,IAAmBI,CAAnB;AACMA,UAAAA,CAAAA,CAAUJ,EAAVI,CAAAA,IACFO,KAAKC,EAALD,CAAsBI,GAAtBJ,CAA0BX,EAA1BW,CADEP;AADN;;AAKA,eAAOO,KAAKK,MAALL,CAAYP,CAAZO,CAAP;AAGF;;AAAA,UAAMM,CAAAA,GAAYP,CAAAA,CAAKQ,OAALR,CAAaO,SAA/B;AAKAN,WAAKC,EAALD,CAAsBQ,OAAtBR,CAA+BX,UAAAA,CAAAA,EAAAA;AACvBA,QAAAA,CAAAA,IAAQI,CAARJ,KACJiB,CAAAA,CAAUG,MAAVH,CAAiBjB,CAAjBiB,GACAN,MAAAA,CAAKC,EAALD,CAAuBU,MAAvBV,CAA8BX,CAA9BW,CAFIX;AAE0BA,OAHlCW;;AAQA,WAAK,IAAMX,GAAX,IAAmBI,CAAnB,EAA8B;AAG5B,YAAMkB,EAAAA,GAAAA,CAAAA,CAAUlB,CAAAA,CAAUJ,GAAVI,CAAhB;;AACIkB,QAAAA,EAAAA,KAAUX,KAAKC,EAALD,CAAsBY,GAAtBZ,CAA0BX,GAA1BW,CAAVW,KACEA,EAAAA,IACFL,CAAAA,CAAUF,GAAVE,CAAcjB,GAAdiB,GACAN,KAAKC,EAALD,CAAsBI,GAAtBJ,CAA0BX,GAA1BW,CAFEW,KAIFL,CAAAA,CAAUG,MAAVH,CAAiBjB,GAAjBiB,GACAN,KAAKC,EAALD,CAAsBU,MAAtBV,CAA6BX,GAA7BW,CALEW,CADFA;AAUN;;AAAA,aAAOE,CAAP;AAAOA;AAlEX;;AAAA;AAAA,EAAgC/B,CAAhC,E;AAkEW+B,SAAAA,CAAAA,IAAAA,QAAAA","sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {AttributePart, noChange} from '../lit-html.js';\nimport {\n  directive,\n  Directive,\n  DirectiveParameters,\n  PartInfo,\n  PartType,\n} from '../directive.js';\n\n/**\n * A key-value set of class names to truthy values.\n */\nexport interface ClassInfo {\n  readonly [name: string]: string | boolean | number;\n}\n\nclass ClassMapDirective extends Directive {\n  /**\n   * Stores the ClassInfo object applied to a given AttributePart.\n   * Used to unset existing values when a new ClassInfo object is applied.\n   */\n  private _previousClasses?: Set<string>;\n\n  constructor(partInfo: PartInfo) {\n    super(partInfo);\n    if (\n      partInfo.type !== PartType.ATTRIBUTE ||\n      partInfo.name !== 'class' ||\n      (partInfo.strings?.length as number) > 2\n    ) {\n      throw new Error(\n        '`classMap()` can only be used in the `class` attribute ' +\n          'and must be the only part in the attribute.'\n      );\n    }\n  }\n\n  render(classInfo: ClassInfo) {\n    return Object.keys(classInfo)\n      .filter((key) => classInfo[key])\n      .join(' ');\n  }\n\n  update(part: AttributePart, [classInfo]: DirectiveParameters<this>) {\n    // Remember dynamic classes on the first render\n    if (this._previousClasses === undefined) {\n      this._previousClasses = new Set();\n      for (const name in classInfo) {\n        if (classInfo[name]) {\n          this._previousClasses.add(name);\n        }\n      }\n      return this.render(classInfo);\n    }\n\n    const classList = part.element.classList;\n\n    // Remove old classes that no longer apply\n    // We use forEach() instead of for-of so that we don't require down-level\n    // iteration.\n    this._previousClasses.forEach((name) => {\n      if (!(name in classInfo)) {\n        classList.remove(name);\n        this._previousClasses!.delete(name);\n      }\n    });\n\n    // Add or remove classes based on their classMap value\n    for (const name in classInfo) {\n      // We explicitly want a loose truthy check of `value` because it seems\n      // more convenient that '' and 0 are skipped.\n      const value = !!classInfo[name];\n      if (value !== this._previousClasses.has(name)) {\n        if (value) {\n          classList.add(name);\n          this._previousClasses.add(name);\n        } else {\n          classList.remove(name);\n          this._previousClasses.delete(name);\n        }\n      }\n    }\n    return noChange;\n  }\n}\n\n/**\n * A directive that applies dynamic CSS classes.\n *\n * This must be used in the `class` attribute and must be the only part used in\n * the attribute. It takes each property in the `classInfo` argument and adds\n * the property name to the element's `classList` if the property value is\n * truthy; if the property value is falsey, the property name is removed from\n * the element's `class`.\n *\n * For example `{foo: bar}` applies the class `foo` if the value of `bar` is\n * truthy.\n *\n * @param classInfo\n */\nexport const classMap = directive(ClassMapDirective);\n\n/**\n * The type of the class that powers this directive. Necessary for naming the\n * directive's return type.\n */\nexport type {ClassMapDirective};\n"]},"metadata":{},"sourceType":"module"}