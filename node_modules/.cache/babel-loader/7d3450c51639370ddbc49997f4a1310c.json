{"ast":null,"code":"import _toConsumableArray from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { isShow, isBackSpace, isLeft, isRight } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { MULTIINPUT_ROLEDESCRIPTION_TEXT } from \"./generated/i18n/i18n-defaults.js\";\nimport Input from \"./Input.js\";\nimport MultiInputTemplate from \"./generated/templates/MultiInputTemplate.lit.js\";\nimport styles from \"./generated/themes/MultiInput.css.js\";\nimport Token from \"./Token.js\";\nimport Tokenizer from \"./Tokenizer.js\";\nimport Icon from \"./Icon.js\";\n/**\n * @public\n */\n\nvar metadata = {\n  tag: \"ui5-multi-input\",\n  properties:\n  /** @lends sap.ui.webcomponents.main.MultiInput.prototype */\n  {\n    /**\n     * Determines whether a value help icon will be visualized in the end of the input.\n     * Pressing the icon will fire <code>value-help-trigger</code> event.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    showValueHelpIcon: {\n      type: Boolean\n    },\n\n    /**\n     * Indicates whether the tokenizer is expanded or collapsed(shows the n more label)\n     * @private\n     */\n    expandedTokenizer: {\n      type: Boolean\n    }\n  },\n  slots:\n  /** @lends  sap.ui.webcomponents.main.MultiInput.prototype */\n  {\n    /**\n     * Defines the component tokens.\n     *\n     * @type {sap.ui.webcomponents.main.IToken[]}\n     * @slot\n     * @public\n     */\n    tokens: {\n      type: HTMLElement\n    }\n  },\n  events:\n  /** @lends  sap.ui.webcomponents.main.MultiInput.prototype */\n  {\n    /**\n     * Fired when the value help icon is pressed\n     * and F4 or ALT/OPTION + ARROW_UP/ARROW_DOWN keyboard keys are used.\n     *\n     * @event sap.ui.webcomponents.main.MultiInput#value-help-trigger\n     * @public\n     */\n    \"value-help-trigger\": {},\n\n    /**\n     * Fired when a token is about to be deleted.\n     *\n     * @event sap.ui.webcomponents.main.MultiInput#token-delete\n     * @param {HTMLElement} token deleted token.\n     * @public\n     */\n    \"token-delete\": {\n      detail: {\n        token: {\n          type: HTMLElement\n        }\n      }\n    }\n  }\n};\n/**\n * @class\n * <h3>Overview</h3>\n * A <code>ui5-multi-input</code> field allows the user to enter multiple values, which are displayed as <code>ui5-token</code>.\n *\n * User can choose interaction for creating tokens.\n * Fiori Guidelines say that user should create tokens when:\n * <ul>\n * <li>Type a value in the input and press enter or focus out the input field (<code>change</code> event is fired)\n * <li>Select a value from the suggestion list</li> (<code>suggestion-item-select</code> event is fired)\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/MultiInput\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MultiInput\n * @extends Input\n * @tagname ui5-multi-input\n * @appenddocs Token\n * @since 1.0.0-rc.9\n * @public\n */\n\nvar MultiInput = /*#__PURE__*/function (_Input) {\n  _inherits(MultiInput, _Input);\n\n  var _super = _createSuper(MultiInput);\n\n  function MultiInput() {\n    var _this;\n\n    _classCallCheck(this, MultiInput);\n\n    _this = _super.call(this); // Prevent suggestions' opening.\n\n    _this._skipOpenSuggestions = false;\n    return _this;\n  }\n\n  _createClass(MultiInput, [{\n    key: \"valueHelpPress\",\n    value: function valueHelpPress(event) {\n      this.closePopover();\n      this.fireEvent(\"value-help-trigger\", {});\n    }\n  }, {\n    key: \"showMorePress\",\n    value: function showMorePress(event) {\n      this.expandedTokenizer = false;\n      this.focus();\n    }\n  }, {\n    key: \"tokenDelete\",\n    value: function tokenDelete(event) {\n      this.fireEvent(\"token-delete\", {\n        token: event.detail.ref\n      });\n      this.focus();\n    }\n  }, {\n    key: \"valueHelpMouseDown\",\n    value: function valueHelpMouseDown(event) {\n      this.closePopover();\n      this.tokenizer.closeMorePopover();\n      this._valueHelpIconPressed = true;\n      event.target.focus();\n    }\n  }, {\n    key: \"_tokenizerFocusOut\",\n    value: function _tokenizerFocusOut(event) {\n      if (!this.contains(event.relatedTarget)) {\n        this.tokenizer._tokens.forEach(function (token) {\n          token.selected = false;\n        });\n\n        this.tokenizer.scrollToStart();\n      }\n    }\n  }, {\n    key: \"valueHelpMouseUp\",\n    value: function valueHelpMouseUp(event) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2._valueHelpIconPressed = false;\n      }, 0);\n    }\n  }, {\n    key: \"innerFocusIn\",\n    value: function innerFocusIn() {\n      this.expandedTokenizer = true;\n    }\n  }, {\n    key: \"_onkeydown\",\n    value: function _onkeydown(event) {\n      _get(_getPrototypeOf(MultiInput.prototype), \"_onkeydown\", this).call(this, event);\n\n      if (isLeft(event)) {\n        this._skipOpenSuggestions = true; // Prevent input focus when navigating through the tokens.\n\n        return this._handleLeft(event);\n      }\n\n      this._skipOpenSuggestions = false;\n\n      if (isBackSpace(event) && event.target.value === \"\") {\n        event.preventDefault();\n\n        this.tokenizer._focusLastToken();\n      }\n\n      if (isShow(event)) {\n        this.valueHelpPress();\n      }\n    }\n  }, {\n    key: \"_onTokenizerKeydown\",\n    value: function _onTokenizerKeydown(event) {\n      var _this3 = this;\n\n      if (isRight(event)) {\n        var lastTokenIndex = this.tokenizer._tokens.length - 1;\n\n        if (this.tokenizer._tokens[lastTokenIndex] === document.activeElement) {\n          setTimeout(function () {\n            _this3.focus();\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"_handleLeft\",\n    value: function _handleLeft() {\n      var cursorPosition = this.getDomRef().querySelector(\"input\").selectionStart;\n\n      if (cursorPosition === 0) {\n        this.tokenizer._focusLastToken();\n      }\n    }\n  }, {\n    key: \"_onfocusout\",\n    value: function _onfocusout(event) {\n      _get(_getPrototypeOf(MultiInput.prototype), \"_onfocusout\", this).call(this, event);\n\n      var relatedTarget = event.relatedTarget;\n      var insideDOM = this.contains(relatedTarget);\n      var insideShadowDom = this.shadowRoot.contains(relatedTarget);\n\n      if (!insideDOM && !insideShadowDom) {\n        this.expandedTokenizer = false;\n      }\n    }\n    /**\n     * @override\n     */\n\n  }, {\n    key: \"_onfocusin\",\n    value: function () {\n      var _onfocusin2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var inputDomRef;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getInputDOMRef();\n\n              case 2:\n                inputDomRef = _context.sent;\n\n                if (!(event.target === inputDomRef)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 6;\n                return _get(_getPrototypeOf(MultiInput.prototype), \"_onfocusin\", this).call(this, event);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _onfocusin(_x) {\n        return _onfocusin2.apply(this, arguments);\n      }\n\n      return _onfocusin;\n    }()\n  }, {\n    key: \"shouldOpenSuggestions\",\n    value: function shouldOpenSuggestions() {\n      var parent = _get(_getPrototypeOf(MultiInput.prototype), \"shouldOpenSuggestions\", this).call(this);\n\n      var valueHelpPressed = this._valueHelpIconPressed;\n      var nonEmptyValue = this.value !== \"\";\n      return parent && nonEmptyValue && !valueHelpPressed && !this._skipOpenSuggestions;\n    }\n  }, {\n    key: \"lastItemDeleted\",\n    value: function lastItemDeleted() {\n      var _this4 = this;\n\n      setTimeout(function () {\n        _this4.focus();\n      }, 0);\n    }\n  }, {\n    key: \"tokenizer\",\n    get: function get() {\n      return this.shadowRoot.querySelector(\"[ui5-tokenizer]\");\n    }\n  }, {\n    key: \"_tokensCountText\",\n    get: function get() {\n      if (!this.tokenizer) {\n        return;\n      }\n\n      return this.tokenizer._tokensCountText();\n    }\n  }, {\n    key: \"_tokensCountTextId\",\n    get: function get() {\n      return \"\".concat(this._id, \"-hiddenText-nMore\");\n    }\n    /**\n     * Returns the placeholder value when there are no tokens.\n     * @protected\n     */\n\n  }, {\n    key: \"_placeholder\",\n    get: function get() {\n      if (this.tokenizer && this.tokenizer._tokens.length) {\n        return \"\";\n      }\n\n      return this.placeholder;\n    }\n  }, {\n    key: \"accInfo\",\n    get: function get() {\n      var ariaDescribedBy = \"\".concat(this._tokensCountTextId, \" \").concat(this.suggestionsTextId, \" \").concat(this.valueStateTextId).trim();\n      return {\n        \"input\": _objectSpread(_objectSpread({}, _get(_getPrototypeOf(MultiInput.prototype), \"accInfo\", this).input), {}, {\n          \"ariaRoledescription\": this.ariaRoleDescription,\n          \"ariaDescribedBy\": ariaDescribedBy\n        })\n      };\n    }\n  }, {\n    key: \"ariaRoleDescription\",\n    get: function get() {\n      return MultiInput.i18nBundle.getText(MULTIINPUT_ROLEDESCRIPTION_TEXT);\n    }\n  }], [{\n    key: \"metadata\",\n    get: function get() {\n      return metadata;\n    }\n  }, {\n    key: \"render\",\n    get: function get() {\n      return litRender;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return MultiInputTemplate;\n    }\n  }, {\n    key: \"styles\",\n    get: function get() {\n      return [Input.styles, styles];\n    }\n  }, {\n    key: \"dependencies\",\n    get: function get() {\n      return [].concat(_toConsumableArray(Input.dependencies), [Tokenizer, Token, Icon]);\n    }\n  }]);\n\n  return MultiInput;\n}(Input);\n\nMultiInput.define();\nexport default MultiInput;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/MultiInput.js"],"names":["litRender","isShow","isBackSpace","isLeft","isRight","MULTIINPUT_ROLEDESCRIPTION_TEXT","Input","MultiInputTemplate","styles","Token","Tokenizer","Icon","metadata","tag","properties","showValueHelpIcon","type","Boolean","expandedTokenizer","slots","tokens","HTMLElement","events","detail","token","MultiInput","_skipOpenSuggestions","event","closePopover","fireEvent","focus","ref","tokenizer","closeMorePopover","_valueHelpIconPressed","target","contains","relatedTarget","_tokens","forEach","selected","scrollToStart","setTimeout","_handleLeft","value","preventDefault","_focusLastToken","valueHelpPress","lastTokenIndex","length","document","activeElement","cursorPosition","getDomRef","querySelector","selectionStart","insideDOM","insideShadowDom","shadowRoot","getInputDOMRef","inputDomRef","parent","valueHelpPressed","nonEmptyValue","_tokensCountText","_id","placeholder","ariaDescribedBy","_tokensCountTextId","suggestionsTextId","valueStateTextId","trim","input","ariaRoleDescription","i18nBundle","getText","dependencies","define"],"mappings":"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","sourcesContent":["import litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport {\n\tisShow,\n\tisBackSpace,\n\tisLeft,\n\tisRight,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { MULTIINPUT_ROLEDESCRIPTION_TEXT } from \"./generated/i18n/i18n-defaults.js\";\nimport Input from \"./Input.js\";\nimport MultiInputTemplate from \"./generated/templates/MultiInputTemplate.lit.js\";\nimport styles from \"./generated/themes/MultiInput.css.js\";\nimport Token from \"./Token.js\";\nimport Tokenizer from \"./Tokenizer.js\";\nimport Icon from \"./Icon.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-multi-input\",\n\tproperties: /** @lends sap.ui.webcomponents.main.MultiInput.prototype */ {\n\t\t/**\n\t\t * Determines whether a value help icon will be visualized in the end of the input.\n\t\t * Pressing the icon will fire <code>value-help-trigger</code> event.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tshowValueHelpIcon: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Indicates whether the tokenizer is expanded or collapsed(shows the n more label)\n\t\t * @private\n\t\t */\n\t\texpandedTokenizer: {\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tslots: /** @lends  sap.ui.webcomponents.main.MultiInput.prototype */ {\n\t\t/**\n\t\t * Defines the component tokens.\n\t\t *\n\t\t * @type {sap.ui.webcomponents.main.IToken[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\ttokens: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.MultiInput.prototype */ {\n\t\t/**\n\t\t * Fired when the value help icon is pressed\n\t\t * and F4 or ALT/OPTION + ARROW_UP/ARROW_DOWN keyboard keys are used.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.MultiInput#value-help-trigger\n\t\t * @public\n\t\t */\n\t\t\"value-help-trigger\": {},\n\n\t\t/**\n\t\t * Fired when a token is about to be deleted.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.MultiInput#token-delete\n\t\t * @param {HTMLElement} token deleted token.\n\t\t * @public\n\t\t */\n\t\t\"token-delete\": {\n\t\t\tdetail: {\n\t\t\t\ttoken: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\t},\n};\n\n/**\n * @class\n * <h3>Overview</h3>\n * A <code>ui5-multi-input</code> field allows the user to enter multiple values, which are displayed as <code>ui5-token</code>.\n *\n * User can choose interaction for creating tokens.\n * Fiori Guidelines say that user should create tokens when:\n * <ul>\n * <li>Type a value in the input and press enter or focus out the input field (<code>change</code> event is fired)\n * <li>Select a value from the suggestion list</li> (<code>suggestion-item-select</code> event is fired)\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/MultiInput\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.MultiInput\n * @extends Input\n * @tagname ui5-multi-input\n * @appenddocs Token\n * @since 1.0.0-rc.9\n * @public\n */\nclass MultiInput extends Input {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn MultiInputTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn [Input.styles, styles];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\t// Prevent suggestions' opening.\n\t\tthis._skipOpenSuggestions = false;\n\t}\n\n\tvalueHelpPress(event) {\n\t\tthis.closePopover();\n\t\tthis.fireEvent(\"value-help-trigger\", {});\n\t}\n\n\tshowMorePress(event) {\n\t\tthis.expandedTokenizer = false;\n\t\tthis.focus();\n\t}\n\n\ttokenDelete(event) {\n\t\tthis.fireEvent(\"token-delete\", {\n\t\t\ttoken: event.detail.ref,\n\t\t});\n\n\t\tthis.focus();\n\t}\n\n\tvalueHelpMouseDown(event) {\n\t\tthis.closePopover();\n\t\tthis.tokenizer.closeMorePopover();\n\t\tthis._valueHelpIconPressed = true;\n\t\tevent.target.focus();\n\t}\n\n\t_tokenizerFocusOut(event) {\n\t\tif (!this.contains(event.relatedTarget)) {\n\t\t\tthis.tokenizer._tokens.forEach(token => { token.selected = false; });\n\t\t\tthis.tokenizer.scrollToStart();\n\t\t}\n\t}\n\n\tvalueHelpMouseUp(event) {\n\t\tsetTimeout(() => {\n\t\t\tthis._valueHelpIconPressed = false;\n\t\t}, 0);\n\t}\n\n\tinnerFocusIn() {\n\t\tthis.expandedTokenizer = true;\n\t}\n\n\t_onkeydown(event) {\n\t\tsuper._onkeydown(event);\n\n\t\tif (isLeft(event)) {\n\t\t\tthis._skipOpenSuggestions = true; // Prevent input focus when navigating through the tokens.\n\n\t\t\treturn this._handleLeft(event);\n\t\t}\n\n\t\tthis._skipOpenSuggestions = false;\n\t\tif (isBackSpace(event) && event.target.value === \"\") {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.tokenizer._focusLastToken();\n\t\t}\n\n\t\tif (isShow(event)) {\n\t\t\tthis.valueHelpPress();\n\t\t}\n\t}\n\n\t_onTokenizerKeydown(event) {\n\t\tif (isRight(event)) {\n\t\t\tconst lastTokenIndex = this.tokenizer._tokens.length - 1;\n\n\t\t\tif (this.tokenizer._tokens[lastTokenIndex] === document.activeElement) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.focus();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t_handleLeft() {\n\t\tconst cursorPosition = this.getDomRef().querySelector(`input`).selectionStart;\n\n\t\tif (cursorPosition === 0) {\n\t\t\tthis.tokenizer._focusLastToken();\n\t\t}\n\t}\n\n\t_onfocusout(event) {\n\t\tsuper._onfocusout(event);\n\t\tconst relatedTarget = event.relatedTarget;\n\t\tconst insideDOM = this.contains(relatedTarget);\n\t\tconst insideShadowDom = this.shadowRoot.contains(relatedTarget);\n\n\t\tif (!insideDOM && !insideShadowDom) {\n\t\t\tthis.expandedTokenizer = false;\n\t\t}\n\t}\n\n\t/**\n\t * @override\n\t */\n\tasync _onfocusin(event) {\n\t\tconst inputDomRef = await this.getInputDOMRef();\n\n\t\tif (event.target === inputDomRef) {\n\t\t\tawait super._onfocusin(event);\n\t\t}\n\t}\n\n\tshouldOpenSuggestions() {\n\t\tconst parent = super.shouldOpenSuggestions();\n\t\tconst valueHelpPressed = this._valueHelpIconPressed;\n\t\tconst nonEmptyValue = this.value !== \"\";\n\n\t\treturn parent && nonEmptyValue && !valueHelpPressed && !this._skipOpenSuggestions;\n\t}\n\n\tlastItemDeleted() {\n\t\tsetTimeout(() => {\n\t\t\tthis.focus();\n\t\t}, 0);\n\t}\n\n\tget tokenizer() {\n\t\treturn this.shadowRoot.querySelector(\"[ui5-tokenizer]\");\n\t}\n\n\tget _tokensCountText() {\n\t\tif (!this.tokenizer) {\n\t\t\treturn;\n\t\t}\n\t\treturn this.tokenizer._tokensCountText();\n\t}\n\n\tget _tokensCountTextId() {\n\t\treturn `${this._id}-hiddenText-nMore`;\n\t}\n\n\t/**\n\t * Returns the placeholder value when there are no tokens.\n\t * @protected\n\t */\n\tget _placeholder() {\n\t\tif (this.tokenizer && this.tokenizer._tokens.length) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\treturn this.placeholder;\n\t}\n\n\tget accInfo() {\n\t\tconst ariaDescribedBy = `${this._tokensCountTextId} ${this.suggestionsTextId} ${this.valueStateTextId}`.trim();\n\t\treturn {\n\t\t\t\"input\": {\n\t\t\t\t...super.accInfo.input,\n\t\t\t\t\"ariaRoledescription\": this.ariaRoleDescription,\n\t\t\t\t\"ariaDescribedBy\": ariaDescribedBy,\n\t\t\t},\n\t\t};\n\t}\n\n\tget ariaRoleDescription() {\n\t\treturn MultiInput.i18nBundle.getText(MULTIINPUT_ROLEDESCRIPTION_TEXT);\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\t...Input.dependencies,\n\t\t\tTokenizer,\n\t\t\tToken,\n\t\t\tIcon,\n\t\t];\n\t}\n}\n\nMultiInput.define();\n\nexport default MultiInput;\n"]},"metadata":{},"sourceType":"module"}