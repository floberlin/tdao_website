{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { PLEASE_WAIT } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { LoaderType } from '@ui5/webcomponents-react/dist/LoaderType';\nimport clsx from 'clsx';\nimport React, { useEffect, forwardRef, useState, useMemo } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nvar useDeprecationNoticeForTooltip = function useDeprecationNoticeForTooltip(component, tooltip) {\n  useEffect(function () {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n\nvar styles = {\n  '@keyframes scroll': {\n    '0%': {\n      backgroundPosition: '-100% 0'\n    },\n    '100%': {\n      backgroundPosition: '200% 0'\n    }\n  },\n  loader: {\n    height: '0.25rem',\n    width: '100%',\n    '&$loaderDeterminate': {\n      background: \"linear-gradient(to right, \".concat(ThemingParameters.sapContent_IconColor, \", \").concat(ThemingParameters.sapContent_IconColor, \")\"),\n      backgroundColor: 'rgba(8, 84, 160, 0.15)',\n      backgroundRepeat: 'repeat-y'\n    },\n    '&$loaderIndeterminate': {\n      background: \"linear-gradient(\\n      to right,\\n      rgba(8, 84, 160, 0) 0px,\\n      rgba(8, 84, 160, 1) calc(50% - 2rem),\\n      \".concat(ThemingParameters.sapContent_IconColor, \" calc(50% - 2rem),\\n      \").concat(ThemingParameters.sapContent_IconColor, \" calc(50% + 2rem),\\n      rgba(8, 84, 160, 1) calc(50% + 2rem),\\n      rgba(8, 84, 160, 0) 100%\\n    )\"),\n      backgroundColor: 'rgba(8, 84, 160, 0.15)',\n      backgroundSize: '40%',\n      backgroundRepeat: 'repeat-y',\n      animation: '$scroll 1.2s linear infinite'\n    }\n  },\n  loaderDeterminate: {},\n  loaderIndeterminate: {}\n};\nvar _excluded = [\"className\", \"type\", \"progress\", \"tooltip\", \"slot\", \"style\", \"delay\"];\nvar useStyles = createUseStyles(styles, {\n  name: 'Loader'\n});\n/**\n * The `Loader` signals that an operation is currently being executed. It uses as little space as possible to allow the user to interact with the UI.<br />\n * It can be used to signal a data update on an already existing dataset, or where an expansion will happen.\n */\n\nvar Loader = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n      type = props.type,\n      progress = props.progress,\n      tooltip = props.tooltip,\n      slot = props.slot,\n      style = props.style,\n      delay = props.delay,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  useDeprecationNoticeForTooltip('Loader', props.tooltip);\n  var classes = useStyles();\n\n  var _useState = useState(delay === 0),\n      _useState2 = _slicedToArray(_useState, 2),\n      isVisible = _useState2[0],\n      setIsVisible = _useState2[1];\n\n  var loaderClasses = clsx(classes.loader, className, classes[\"loader\".concat(type)]);\n  var inlineStyles = useMemo(function () {\n    var backgroundSize = type !== LoaderType.Determinate ? '40%' : progress;\n    return _objectSpread(_objectSpread({}, style), {}, {\n      backgroundSize: backgroundSize\n    });\n  }, [progress, style, type]);\n  useEffect(function () {\n    var timeout;\n\n    if (delay > 0) {\n      timeout = setTimeout(function () {\n        setIsVisible(true);\n      }, delay);\n    }\n\n    return function () {\n      clearTimeout(timeout);\n    };\n  }, []);\n  var i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    className: loaderClasses,\n    \"data-component-name\": \"Loader\",\n    \"aria-busy\": \"true\",\n    role: \"progressbar\",\n    title: tooltip || i18nBundle.getText(PLEASE_WAIT),\n    slot: slot,\n    style: inlineStyles\n  }, rest));\n});\nLoader.defaultProps = {\n  type: LoaderType.Indeterminate,\n  progress: '0px',\n  delay: 0\n};\nLoader.displayName = 'Loader';\nexport { Loader };","map":{"version":3,"sources":["../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/Loader/Loader.jss.ts","../src/components/Loader/index.tsx"],"names":["useDeprecationNoticeForTooltip","useEffect","deprecationNotice","styles","backgroundPosition","loader","height","width","background","ThemingParameters","backgroundColor","backgroundRepeat","backgroundSize","animation","loaderDeterminate","loaderIndeterminate","useStyles","createUseStyles","name","Loader","forwardRef","className","type","progress","tooltip","slot","style","delay","rest","props","classes","isVisible","setIsVisible","useState","loaderClasses","clsx","inlineStyles","useMemo","LoaderType","timeout","setTimeout","clearTimeout","i18nBundle","useI18nBundle"],"mappings":"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","sourcesContent":["import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\n//todo use theme colors when available\nexport const styles = {\n  '@keyframes scroll': {\n    '0%': { backgroundPosition: '-100% 0' },\n    '100%': { backgroundPosition: '200% 0' }\n  },\n  loader: {\n    height: '0.25rem',\n    width: '100%',\n    '&$loaderDeterminate': {\n      background: `linear-gradient(to right, ${ThemingParameters.sapContent_IconColor}, ${ThemingParameters.sapContent_IconColor})`,\n      backgroundColor: 'rgba(8, 84, 160, 0.15)',\n      backgroundRepeat: 'repeat-y'\n    },\n    '&$loaderIndeterminate': {\n      background: `linear-gradient(\n      to right,\n      rgba(8, 84, 160, 0) 0px,\n      rgba(8, 84, 160, 1) calc(50% - 2rem),\n      ${ThemingParameters.sapContent_IconColor} calc(50% - 2rem),\n      ${ThemingParameters.sapContent_IconColor} calc(50% + 2rem),\n      rgba(8, 84, 160, 1) calc(50% + 2rem),\n      rgba(8, 84, 160, 0) 100%\n    )`,\n      backgroundColor: 'rgba(8, 84, 160, 0.15)',\n      backgroundSize: '40%',\n      backgroundRepeat: 'repeat-y',\n      animation: '$scroll 1.2s linear infinite'\n    }\n  },\n  loaderDeterminate: {},\n  loaderIndeterminate: {}\n};\n","import { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { PLEASE_WAIT } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { LoaderType } from '@ui5/webcomponents-react/dist/LoaderType';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport clsx from 'clsx';\nimport React, { CSSProperties, forwardRef, RefObject, useEffect, useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport { styles } from './Loader.jss';\n\nexport interface LoaderPropTypes extends CommonProps {\n  /**\n   * Delay in ms until the Loader will be displayed\n   */\n  delay?: number;\n  /**\n   * Defines the type of the `Loader`.\n   * __Note:__ If the process completion rate can be detected the `Determinate` type should be used.\n   */\n  type?: LoaderType | keyof typeof LoaderType;\n  /**\n   * Defines the progress of the Loader Bar. <br />\n   * __Note:__ This prop has no effect if used with type `Indeterminate`.\n   */\n  progress?: CSSProperties['width'];\n}\n\nconst useStyles = createUseStyles(styles, { name: 'Loader' });\n/**\n * The `Loader` signals that an operation is currently being executed. It uses as little space as possible to allow the user to interact with the UI.<br />\n * It can be used to signal a data update on an already existing dataset, or where an expansion will happen.\n */\nconst Loader = forwardRef((props: LoaderPropTypes, ref: RefObject<HTMLDivElement>) => {\n  const { className, type, progress, tooltip, slot, style, delay, ...rest } = props;\n\n  useDeprecationNoticeForTooltip('Loader', props.tooltip);\n\n  const classes = useStyles();\n  const [isVisible, setIsVisible] = useState(delay === 0);\n\n  const loaderClasses = clsx(classes.loader, className, classes[`loader${type}`]);\n\n  const inlineStyles = useMemo(() => {\n    const backgroundSize = type !== LoaderType.Determinate ? '40%' : progress;\n    return {\n      ...style,\n      backgroundSize\n    };\n  }, [progress, style, type]);\n\n  useEffect(() => {\n    let timeout;\n    if (delay > 0) {\n      timeout = setTimeout(() => {\n        setIsVisible(true);\n      }, delay);\n    }\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return (\n    <div\n      ref={ref}\n      className={loaderClasses}\n      data-component-name=\"Loader\"\n      aria-busy=\"true\"\n      role=\"progressbar\"\n      title={tooltip || i18nBundle.getText(PLEASE_WAIT)}\n      slot={slot}\n      style={inlineStyles}\n      {...rest}\n    />\n  );\n});\n\nLoader.defaultProps = {\n  type: LoaderType.Indeterminate,\n  progress: '0px',\n  delay: 0\n};\n\nLoader.displayName = 'Loader';\n\nexport { Loader };\n"]},"metadata":{},"sourceType":"module"}