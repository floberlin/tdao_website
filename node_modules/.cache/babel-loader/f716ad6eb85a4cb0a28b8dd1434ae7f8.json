{"ast":null,"code":"import _toConsumableArray from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport { getFirstDayOfWeek } from \"@ui5/webcomponents-base/dist/config/FormatSettings.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport { isSpace, isSpaceShift, isEnter, isEnterShift, isUp, isDown, isLeft, isRight, isHome, isEnd, isHomeCtrl, isEndCtrl, isPageUp, isPageDown, isPageUpShift, isPageUpAlt, isPageUpShiftCtrl, isPageDownShift, isPageDownAlt, isPageDownShiftCtrl } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport calculateWeekNumber from \"@ui5/webcomponents-localization/dist/dates/calculateWeekNumber.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport CalendarSelectionMode from \"./types/CalendarSelectionMode.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport DayPickerTemplate from \"./generated/templates/DayPickerTemplate.lit.js\";\nimport { DAY_PICKER_WEEK_NUMBER_TEXT, DAY_PICKER_NON_WORKING_DAY, DAY_PICKER_TODAY } from \"./generated/i18n/i18n-defaults.js\";\nimport dayPickerCSS from \"./generated/themes/DayPicker.css.js\";\n/**\n * @public\n */\n\nvar metadata = {\n  tag: \"ui5-daypicker\",\n  properties:\n  /** @lends  sap.ui.webcomponents.main.DayPicker.prototype */\n  {\n    /**\n     * An array of UTC timestamps representing the selected date or dates depending on the capabilities of the picker component.\n     * @type {Array}\n     * @public\n     */\n    selectedDates: {\n      type: Integer,\n      multiple: true,\n      compareValues: true\n    },\n\n    /**\n     * Defines the type of selection used in the day picker component.\n     * Accepted property values are:<br>\n     * <ul>\n     * <li><code>CalendarSelectionMode.Single</code> - enables a single date selection.(default value)</li>\n     * <li><code>CalendarSelectionMode.Range</code> - enables selection of a date range.</li>\n     * <li><code>CalendarSelectionMode.Multiple</code> - enables selection of multiple dates.</li>\n     * </ul>\n     * @type {CalendarSelectionMode}\n     * @defaultvalue \"Single\"\n     * @public\n     */\n    selectionMode: {\n      type: CalendarSelectionMode,\n      defaultValue: CalendarSelectionMode.Single\n    },\n\n    /**\n     * Defines the visibility of the week numbers column.\n     * <br><br>\n     *\n     * <b>Note:<b> For calendars other than Gregorian,\n     * the week numbers are not displayed regardless of what is set.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.8\n     */\n    hideWeekNumbers: {\n      type: Boolean\n    },\n\n    /**\n     * @type {Object}\n     * @private\n     */\n    _weeks: {\n      type: Object,\n      multiple: true\n    },\n    _dayNames: {\n      type: Object,\n      multiple: true\n    },\n\n    /**\n     * When set, the component will skip all work in onBeforeRendering and will not automatically set the focus on itself\n     * @type {boolean}\n     * @private\n     */\n    _hidden: {\n      type: Boolean,\n      noAttribute: true\n    },\n\n    /**\n     * When selectionMode=\"Range\" and the first day in the range is selected, this is the currently hovered (when using mouse) or focused (when using keyboard) day by the user\n     * @private\n     */\n    _secondTimestamp: {\n      type: String\n    }\n  },\n  events:\n  /** @lends  sap.ui.webcomponents.main.DayPicker.prototype */\n  {\n    /**\n     * Fired when the selected date(s) change\n     * @public\n     * @event\n     */\n    change: {},\n\n    /**\n     * Fired when the timestamp changes (user navigates with the keyboard) or clicks with the mouse\n     * @public\n     * @event\n     */\n    navigate: {}\n  }\n};\n\nvar isBetween = function isBetween(x, num1, num2) {\n  return x > Math.min(num1, num2) && x < Math.max(num1, num2);\n};\n\nvar DAYS_IN_WEEK = 7;\n/**\n * @class\n *\n * Represents one month view inside a calendar.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.DayPicker\n * @extends CalendarPart\n * @tagname ui5-daypicker\n * @public\n */\n\nvar DayPicker = /*#__PURE__*/function (_CalendarPart) {\n  _inherits(DayPicker, _CalendarPart);\n\n  var _super = _createSuper(DayPicker);\n\n  function DayPicker() {\n    _classCallCheck(this, DayPicker);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DayPicker, [{\n    key: \"onBeforeRendering\",\n    value: function onBeforeRendering() {\n      var localeData = getCachedLocaleDataInstance(getLocale());\n\n      this._buildWeeks(localeData);\n\n      this._buildDayNames(localeData);\n    }\n    /**\n     * Builds the _weeks object that represents the month\n     * @param localeData\n     * @private\n     */\n\n  }, {\n    key: \"_buildWeeks\",\n    value: function _buildWeeks(localeData) {\n      if (this._hidden) {\n        return; // Optimization to not do any work unless the current picker\n      }\n\n      this._weeks = [];\n\n      var firstDayOfWeek = this._getFirstDayOfWeek();\n\n      var monthsNames = localeData.getMonths(\"wide\", this._primaryCalendarType);\n      var secondaryMonthsNames = this.hasSecondaryCalendarType && localeData.getMonths(\"wide\", this.secondaryCalendarType);\n      var nonWorkingDayLabel = DayPicker.i18nBundle.getText(DAY_PICKER_NON_WORKING_DAY);\n      var todayLabel = DayPicker.i18nBundle.getText(DAY_PICKER_TODAY);\n\n      var tempDate = this._getFirstDay(); // date that will be changed by 1 day 42 times\n\n\n      var todayDate = CalendarDate.fromLocalJSDate(new Date(), this._primaryCalendarType); // current day date - calculate once\n\n      var calendarDate = this._calendarDate; // store the _calendarDate value as this getter is expensive and degrades IE11 perf\n\n      var minDate = this._minDate; // store the _minDate (expensive getter)\n\n      var maxDate = this._maxDate; // store the _maxDate (expensive getter)\n\n      var tempSecondDate = this.hasSecondaryCalendarType && this._getSecondaryDay(tempDate);\n\n      var week = [];\n\n      for (var i = 0; i < DAYS_IN_WEEK * 6; i++) {\n        // always show 6 weeks total, 42 days to avoid jumping\n        var timestamp = tempDate.valueOf() / 1000; // no need to round because CalendarDate does it\n\n        var dayOfTheWeek = tempDate.getDay() - firstDayOfWeek;\n\n        if (dayOfTheWeek < 0) {\n          dayOfTheWeek += DAYS_IN_WEEK;\n        }\n\n        var isFocused = tempDate.getMonth() === calendarDate.getMonth() && tempDate.getDate() === calendarDate.getDate();\n\n        var isSelected = this._isDaySelected(timestamp);\n\n        var isSelectedBetween = this._isDayInsideSelectionRange(timestamp);\n\n        var isOtherMonth = tempDate.getMonth() !== calendarDate.getMonth();\n\n        var isWeekend = this._isWeekend(tempDate);\n\n        var isDisabled = tempDate.valueOf() < minDate.valueOf() || tempDate.valueOf() > maxDate.valueOf();\n        var isToday = tempDate.isSame(todayDate);\n        var isFirstDayOfWeek = tempDate.getDay() === firstDayOfWeek;\n        var nonWorkingAriaLabel = isWeekend ? \"\".concat(nonWorkingDayLabel, \" \") : \"\";\n        var todayAriaLabel = isToday ? \"\".concat(todayLabel, \" \") : \"\";\n        var ariaLabel = this.hasSecondaryCalendarType ? \"\".concat(todayAriaLabel).concat(nonWorkingAriaLabel).concat(monthsNames[tempDate.getMonth()], \" \").concat(tempDate.getDate(), \", \").concat(tempDate.getYear(), \"; \").concat(secondaryMonthsNames[tempSecondDate.getMonth()], \" \").concat(tempSecondDate.getDate(), \", \").concat(tempSecondDate.getYear()) : \"\".concat(todayAriaLabel).concat(nonWorkingAriaLabel).concat(monthsNames[tempDate.getMonth()], \" \").concat(tempDate.getDate(), \", \").concat(tempDate.getYear());\n        var day = {\n          timestamp: timestamp.toString(),\n          focusRef: isFocused,\n          _tabIndex: isFocused ? \"0\" : \"-1\",\n          selected: isSelected,\n          day: tempDate.getDate(),\n          secondDay: this.hasSecondaryCalendarType && tempSecondDate.getDate(),\n          _isSecondaryCalendarType: this.hasSecondaryCalendarType,\n          classes: \"ui5-dp-item ui5-dp-wday\".concat(dayOfTheWeek),\n          ariaLabel: ariaLabel,\n          ariaSelected: isSelected ? \"true\" : \"false\",\n          ariaDisabled: isOtherMonth ? \"true\" : undefined,\n          disabled: isDisabled\n        };\n\n        if (isFirstDayOfWeek) {\n          day.classes += \" ui5-dp-firstday\";\n        }\n\n        if (isSelected) {\n          day.classes += \" ui5-dp-item--selected\";\n        }\n\n        if (isSelectedBetween) {\n          day.classes += \" ui5-dp-item--selected-between\";\n        }\n\n        if (isToday) {\n          day.classes += \" ui5-dp-item--now\";\n        }\n\n        if (isOtherMonth) {\n          day.classes += \" ui5-dp-item--othermonth\";\n        }\n\n        if (isWeekend) {\n          day.classes += \" ui5-dp-item--weeekend\";\n        }\n\n        if (isDisabled) {\n          day.classes += \" ui5-dp-item--disabled\";\n        }\n\n        if (this.hasSecondaryCalendarType) {\n          day.classes += \" ui5-dp-item--withsecondtype\";\n        }\n\n        week.push(day);\n\n        if (dayOfTheWeek === DAYS_IN_WEEK - 1) {\n          // 0-indexed so 6 is the last day of the week\n          week.unshift({\n            weekNum: calculateWeekNumber(getFirstDayOfWeek(), tempDate.toUTCJSDate(), tempDate.getYear(), getLocale(), localeData),\n            isHidden: this.shouldHideWeekNumbers\n          });\n        }\n\n        if (week.length === DAYS_IN_WEEK + 1) {\n          // 7 entries for each day + 1 for the week numbers\n          this._weeks.push(week);\n\n          week = [];\n        }\n\n        tempDate.setDate(tempDate.getDate() + 1);\n\n        if (this.hasSecondaryCalendarType) {\n          tempSecondDate.setDate(tempSecondDate.getDate() + 1);\n        }\n      }\n    }\n    /**\n     * Builds the dayNames object (header of the month)\n     * @param localeData\n     * @private\n     */\n\n  }, {\n    key: \"_buildDayNames\",\n    value: function _buildDayNames(localeData) {\n      if (this._hidden) {\n        return; // Optimization to not do any work unless the current picker\n      }\n\n      var dayOfTheWeek;\n      var aDayNamesWide = localeData.getDays(\"wide\", this._primaryCalendarType);\n      var aDayNamesAbbreviated = localeData.getDays(\"abbreviated\", this._primaryCalendarType);\n      var dayName;\n      this._dayNames = [];\n\n      this._dayNames.push({\n        classes: \"ui5-dp-dayname\",\n        name: DayPicker.i18nBundle.getText(DAY_PICKER_WEEK_NUMBER_TEXT)\n      });\n\n      for (var i = 0; i < DAYS_IN_WEEK; i++) {\n        dayOfTheWeek = i + this._getFirstDayOfWeek();\n\n        if (dayOfTheWeek > DAYS_IN_WEEK - 1) {\n          // 0-indexed so index of 6 is the maximum allowed\n          dayOfTheWeek -= DAYS_IN_WEEK;\n        }\n\n        dayName = {\n          name: aDayNamesWide[dayOfTheWeek],\n          ultraShortName: aDayNamesAbbreviated[dayOfTheWeek],\n          classes: \"ui5-dp-dayname\"\n        };\n\n        this._dayNames.push(dayName);\n      }\n\n      this._dayNames[1].classes += \" ui5-dp-firstday\";\n\n      if (this.shouldHideWeekNumbers) {\n        this._dayNames.shift();\n      }\n    }\n  }, {\n    key: \"onAfterRendering\",\n    value: function onAfterRendering() {\n      if (this._autoFocus && !this._hidden) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"_onfocusin\",\n    value: function _onfocusin() {\n      this._autoFocus = true;\n    }\n  }, {\n    key: \"_onfocusout\",\n    value: function _onfocusout() {\n      this._autoFocus = false;\n    }\n    /**\n     * Tells if the day is selected (dark blue)\n     * @param timestamp\n     * @returns {boolean}\n     * @private\n     */\n\n  }, {\n    key: \"_isDaySelected\",\n    value: function _isDaySelected(timestamp) {\n      if (this.selectionMode === CalendarSelectionMode.Single) {\n        return timestamp === this.selectedDates[0];\n      } // Multiple, Range\n\n\n      return this.selectedDates.includes(timestamp);\n    }\n    /**\n     * Tells if the day is inside a selection range (light blue)\n     * @param timestamp\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: \"_isDayInsideSelectionRange\",\n    value: function _isDayInsideSelectionRange(timestamp) {\n      // No selection at all (or not in range selection mode)\n      if (this.selectionMode !== CalendarSelectionMode.Range || !this.selectedDates.length) {\n        return false;\n      } // Only one date selected - the user is hovering with the mouse or navigating with the keyboard to select the second one\n\n\n      if (this.selectedDates.length === 1 && this._secondTimestamp) {\n        return isBetween(timestamp, this.selectedDates[0], this._secondTimestamp);\n      } // Two dates selected - stable range\n\n\n      return isBetween(timestamp, this.selectedDates[0], this.selectedDates[1]);\n    }\n    /**\n     * Selects/deselects a day\n     * @param event\n     * @param isShift true if the user did Click+Shift or Enter+Shift (but not Space+Shift)\n     * @private\n     */\n\n  }, {\n    key: \"_selectDate\",\n    value: function _selectDate(event, isShift) {\n      var target = event.target;\n\n      if (!this._isDayPressed(target)) {\n        return;\n      }\n\n      var timestamp = this._getTimestampFromDom(target);\n\n      this._safelySetTimestamp(timestamp);\n\n      this._updateSecondTimestamp();\n\n      if (this.selectionMode === CalendarSelectionMode.Single) {\n        this.selectedDates = [timestamp];\n      } else if (this.selectionMode === CalendarSelectionMode.Multiple) {\n        if (this.selectedDates.length > 0 && isShift) {\n          this._multipleSelection(timestamp);\n        } else {\n          this._toggleTimestampInSelection(timestamp);\n        }\n      } else {\n        this.selectedDates = this.selectedDates.length === 1 ? [].concat(_toConsumableArray(this.selectedDates), [timestamp]) : [timestamp];\n      }\n\n      this.fireEvent(\"change\", {\n        timestamp: this.timestamp,\n        dates: this.selectedDates\n      });\n    }\n    /**\n     * Selects/deselects the whole row (week)\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_selectWeek\",\n    value: function _selectWeek(event) {\n      var _this = this;\n\n      this._weeks.forEach(function (week) {\n        var dayInThisWeek = week.findIndex(function (item) {\n          var date = CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000);\n          return date.getMonth() === _this._calendarDate.getMonth() && date.getDate() === _this._calendarDate.getDate();\n        }) !== -1;\n\n        if (dayInThisWeek) {\n          // The current day is in this week\n          var notAllDaysOfThisWeekSelected = week.some(function (item) {\n            return item.timestamp && !_this.selectedDates.includes(parseInt(item.timestamp));\n          });\n\n          if (notAllDaysOfThisWeekSelected) {\n            // even if one day is not selected, select the whole week\n            week.filter(function (item) {\n              return item.timestamp;\n            }).forEach(function (item) {\n              _this._addTimestampToSelection(parseInt(item.timestamp));\n            });\n          } else {\n            // only if all days of this week are selected, deselect them\n            week.filter(function (item) {\n              return item.timestamp;\n            }).forEach(function (item) {\n              _this._removeTimestampFromSelection(parseInt(item.timestamp));\n            });\n          }\n        }\n      });\n\n      this.fireEvent(\"change\", {\n        timestamp: this.timestamp,\n        dates: this.selectedDates\n      });\n    }\n  }, {\n    key: \"_toggleTimestampInSelection\",\n    value: function _toggleTimestampInSelection(timestamp) {\n      if (this.selectedDates.includes(timestamp)) {\n        this._removeTimestampFromSelection(timestamp);\n      } else {\n        this._addTimestampToSelection(timestamp);\n      }\n    }\n  }, {\n    key: \"_addTimestampToSelection\",\n    value: function _addTimestampToSelection(timestamp) {\n      if (!this.selectedDates.includes(timestamp)) {\n        this.selectedDates = [].concat(_toConsumableArray(this.selectedDates), [timestamp]);\n      }\n    }\n  }, {\n    key: \"_removeTimestampFromSelection\",\n    value: function _removeTimestampFromSelection(timestamp) {\n      this.selectedDates = this.selectedDates.filter(function (value) {\n        return value !== timestamp;\n      });\n    }\n    /**\n     * When at least one day is selected and the user pressed shift\n     * @param timestamp\n     * @private\n     */\n\n  }, {\n    key: \"_multipleSelection\",\n    value: function _multipleSelection(timestamp) {\n      var min = Math.min.apply(Math, _toConsumableArray(this.selectedDates));\n      var max = Math.max.apply(Math, _toConsumableArray(this.selectedDates));\n      var start;\n      var end;\n      var toggle = false;\n\n      if (timestamp < min) {\n        start = timestamp;\n        end = min;\n      } else if (timestamp >= min && timestamp <= max) {\n        // inside the current range - toggle all between the selected and focused\n        var distanceToMin = Math.abs(timestamp - min);\n        var distanceToMax = Math.abs(timestamp - max);\n\n        if (distanceToMin < distanceToMax) {\n          start = timestamp;\n          end = max;\n        } else {\n          start = min;\n          end = timestamp;\n        }\n\n        toggle = true;\n      } else {\n        start = max;\n        end = timestamp;\n      }\n\n      var startDate = CalendarDate.fromTimestamp(start * 1000);\n      var endDate = CalendarDate.fromTimestamp(end * 1000);\n\n      while (startDate.valueOf() <= endDate.valueOf()) {\n        this[toggle ? \"_toggleTimestampInSelection\" : \"_addTimestampToSelection\"](startDate.valueOf() / 1000);\n        startDate.setDate(startDate.getDate() + 1);\n      }\n    }\n    /**\n     * Set the hovered day as the _secondTimestamp\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_onmouseover\",\n    value: function _onmouseover(event) {\n      var hoveredItem = event.target.closest(\".ui5-dp-item\");\n\n      if (hoveredItem && this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n        this._secondTimestamp = this._getTimestampFromDom(hoveredItem);\n      }\n    }\n  }, {\n    key: \"_onkeydown\",\n    value: function _onkeydown(event) {\n      var preventDefault = true;\n\n      if (isEnter(event) || isEnterShift(event)) {\n        this._selectDate(event, isEnterShift(event));\n      } else if (isSpace(event) || isSpaceShift(event)) {\n        event.preventDefault();\n      } else if (isLeft(event)) {\n        this._modifyTimestampBy(-1, \"day\");\n      } else if (isRight(event)) {\n        this._modifyTimestampBy(1, \"day\");\n      } else if (isUp(event)) {\n        this._modifyTimestampBy(-7, \"day\");\n      } else if (isDown(event)) {\n        this._modifyTimestampBy(7, \"day\");\n      } else if (isPageUp(event)) {\n        this._modifyTimestampBy(-1, \"month\");\n      } else if (isPageDown(event)) {\n        this._modifyTimestampBy(1, \"month\");\n      } else if (isPageUpShift(event) || isPageUpAlt(event)) {\n        this._modifyTimestampBy(-1, \"year\");\n      } else if (isPageDownShift(event) || isPageDownAlt(event)) {\n        this._modifyTimestampBy(1, \"year\");\n      } else if (isPageUpShiftCtrl(event)) {\n        this._modifyTimestampBy(-10, \"year\");\n      } else if (isPageDownShiftCtrl(event)) {\n        this._modifyTimestampBy(10, \"year\");\n      } else if (isHome(event) || isEnd(event)) {\n        this._onHomeOrEnd(isHome(event));\n      } else if (isHomeCtrl(event)) {\n        var tempDate = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n        tempDate.setDate(1); // Set the first day of the month\n\n        this._setTimestamp(tempDate.valueOf() / 1000);\n      } else if (isEndCtrl(event)) {\n        var _tempDate = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n\n        _tempDate.setMonth(_tempDate.getMonth() + 1);\n\n        _tempDate.setDate(0); // Set the last day of the month (0th day of next month)\n\n\n        this._setTimestamp(_tempDate.valueOf() / 1000);\n      } else {\n        preventDefault = false;\n      }\n\n      if (preventDefault) {\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"_onkeyup\",\n    value: function _onkeyup(event) {\n      // Even if Space+Shift was pressed, ignore the shift unless in Multiple selection\n      if (isSpace(event) || isSpaceShift(event) && this.selectionMode !== CalendarSelectionMode.Multiple) {\n        this._selectDate(event, false);\n      } else if (isSpaceShift(event)) {\n        this._selectWeek(event);\n      }\n    }\n    /**\n     * Click is the same as Enter: Click+Shift has the same effect as Enter+Shift\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_onclick\",\n    value: function _onclick(event) {\n      this._selectDate(event, event.shiftKey);\n    }\n    /**\n     * One Home or End, move the focus to the first or last item in the row\n     * @param homePressed\n     * @private\n     */\n\n  }, {\n    key: \"_onHomeOrEnd\",\n    value: function _onHomeOrEnd(homePressed) {\n      var _this2 = this;\n\n      this._weeks.forEach(function (week) {\n        var dayInThisWeek = week.findIndex(function (item) {\n          var date = CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000);\n          return date.getMonth() === _this2._calendarDate.getMonth() && date.getDate() === _this2._calendarDate.getDate();\n        }) !== -1;\n\n        if (dayInThisWeek) {\n          // The current day is in this week\n          var index = homePressed ? 1 : 7; // select the first (if Home) or last (if End) day of the week\n\n          _this2._setTimestamp(parseInt(week[index].timestamp));\n        }\n      });\n    }\n    /**\n     * Called from Calendar.js\n     * @protected\n     */\n\n  }, {\n    key: \"_hasPreviousPage\",\n    value: function _hasPreviousPage() {\n      return !(this._calendarDate.getMonth() === this._minDate.getMonth() && this._calendarDate.getYear() === this._minDate.getYear());\n    }\n    /**\n     * Called from Calendar.js\n     * @protected\n     */\n\n  }, {\n    key: \"_hasNextPage\",\n    value: function _hasNextPage() {\n      return !(this._calendarDate.getMonth() === this._maxDate.getMonth() && this._calendarDate.getYear() === this._maxDate.getYear());\n    }\n    /**\n     * Called from Calendar.js\n     * Same as PageUp\n     * @protected\n     */\n\n  }, {\n    key: \"_showPreviousPage\",\n    value: function _showPreviousPage() {\n      this._modifyTimestampBy(-1, \"month\");\n    }\n    /**\n     * Called from Calendar.js\n     * Same as PageDown\n     * @protected\n     */\n\n  }, {\n    key: \"_showNextPage\",\n    value: function _showNextPage() {\n      this._modifyTimestampBy(1, \"month\");\n    }\n    /**\n     * Modifies the timestamp by a certain amount of days/months/years\n     * @param amount\n     * @param unit\n     * @private\n     */\n\n  }, {\n    key: \"_modifyTimestampBy\",\n    value: function _modifyTimestampBy(amount, unit) {\n      // Modify the current timestamp\n      this._safelyModifyTimestampBy(amount, unit);\n\n      this._updateSecondTimestamp(); // Notify the calendar to update its timestamp\n\n\n      this.fireEvent(\"navigate\", {\n        timestamp: this.timestamp\n      });\n    }\n    /**\n     * Sets the timestamp to an absolute value\n     * @param value\n     * @private\n     */\n\n  }, {\n    key: \"_setTimestamp\",\n    value: function _setTimestamp(value) {\n      this._safelySetTimestamp(value);\n\n      this._updateSecondTimestamp();\n\n      this.fireEvent(\"navigate\", {\n        timestamp: this.timestamp\n      });\n    }\n    /**\n     * During range selection, when the user is navigating with the keyboard, the currently focused day is considered the \"second day\"\n     * @private\n     */\n\n  }, {\n    key: \"_updateSecondTimestamp\",\n    value: function _updateSecondTimestamp() {\n      if (this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n        this._secondTimestamp = this.timestamp;\n      }\n    }\n  }, {\n    key: \"shouldHideWeekNumbers\",\n    get: function get() {\n      if (this._primaryCalendarType !== CalendarType.Gregorian) {\n        return true;\n      }\n\n      return this.hideWeekNumbers;\n    }\n  }, {\n    key: \"hasSecondaryCalendarType\",\n    get: function get() {\n      return !!this.secondaryCalendarType;\n    }\n  }, {\n    key: \"_isWeekend\",\n    value: function _isWeekend(oDate) {\n      var localeData = getCachedLocaleDataInstance(getLocale());\n      var iWeekDay = oDate.getDay(),\n          iWeekendStart = localeData.getWeekendStart(),\n          iWeekendEnd = localeData.getWeekendEnd();\n      return iWeekDay >= iWeekendStart && iWeekDay <= iWeekendEnd || iWeekendEnd < iWeekendStart && (iWeekDay >= iWeekendStart || iWeekDay <= iWeekendEnd);\n    }\n  }, {\n    key: \"_isDayPressed\",\n    value: function _isDayPressed(target) {\n      var targetParent = target.parentNode;\n      return target.className.indexOf(\"ui5-dp-item\") > -1 || targetParent && targetParent.classList && targetParent.classList.contains(\"ui5-dp-item\");\n    }\n  }, {\n    key: \"_getSecondaryDay\",\n    value: function _getSecondaryDay(tempDate) {\n      return new CalendarDate(tempDate, this.secondaryCalendarType);\n    }\n  }, {\n    key: \"_getFirstDay\",\n    value: function _getFirstDay() {\n      var daysFromPreviousMonth;\n\n      var firstDayOfWeek = this._getFirstDayOfWeek(); // determine weekday of first day in month\n\n\n      var firstDay = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n      firstDay.setDate(1);\n      daysFromPreviousMonth = firstDay.getDay() - firstDayOfWeek;\n\n      if (daysFromPreviousMonth < 0) {\n        daysFromPreviousMonth = 7 + daysFromPreviousMonth;\n      }\n\n      if (daysFromPreviousMonth > 0) {\n        firstDay.setDate(1 - daysFromPreviousMonth);\n      }\n\n      return firstDay;\n    }\n  }, {\n    key: \"_getFirstDayOfWeek\",\n    value: function _getFirstDayOfWeek() {\n      var localeData = getCachedLocaleDataInstance(getLocale());\n      var confFirstDayOfWeek = getFirstDayOfWeek();\n      return Number.isInteger(confFirstDayOfWeek) ? confFirstDayOfWeek : localeData.getFirstDayOfWeek();\n    }\n  }, {\n    key: \"styles\",\n    get: function get() {\n      return {\n        wrapper: {\n          display: this._hidden ? \"none\" : \"flex\",\n          \"justify-content\": \"center\"\n        },\n        main: {\n          width: \"100%\"\n        }\n      };\n    }\n  }, {\n    key: \"ariaRoledescription\",\n    get: function get() {\n      return this.hasSecondaryCalendarType ? \"\".concat(this._primaryCalendarType, \" calendar with secondary \").concat(this.secondaryCalendarType, \" calendar\") : \"\".concat(this._primaryCalendarType, \" calendar\");\n    }\n  }], [{\n    key: \"metadata\",\n    get: function get() {\n      return metadata;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return DayPickerTemplate;\n    }\n  }, {\n    key: \"styles\",\n    get: function get() {\n      return dayPickerCSS;\n    }\n  }]);\n\n  return DayPicker;\n}(CalendarPart);\n\nDayPicker.define();\nexport default DayPicker;","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents/dist/DayPicker.js"],"names":["getLocale","getFirstDayOfWeek","getCachedLocaleDataInstance","isSpace","isSpaceShift","isEnter","isEnterShift","isUp","isDown","isLeft","isRight","isHome","isEnd","isHomeCtrl","isEndCtrl","isPageUp","isPageDown","isPageUpShift","isPageUpAlt","isPageUpShiftCtrl","isPageDownShift","isPageDownAlt","isPageDownShiftCtrl","Integer","CalendarDate","calculateWeekNumber","CalendarType","CalendarSelectionMode","CalendarPart","DayPickerTemplate","DAY_PICKER_WEEK_NUMBER_TEXT","DAY_PICKER_NON_WORKING_DAY","DAY_PICKER_TODAY","dayPickerCSS","metadata","tag","properties","selectedDates","type","multiple","compareValues","selectionMode","defaultValue","Single","hideWeekNumbers","Boolean","_weeks","Object","_dayNames","_hidden","noAttribute","_secondTimestamp","String","events","change","navigate","isBetween","x","num1","num2","Math","min","max","DAYS_IN_WEEK","DayPicker","localeData","_buildWeeks","_buildDayNames","firstDayOfWeek","_getFirstDayOfWeek","monthsNames","getMonths","_primaryCalendarType","secondaryMonthsNames","hasSecondaryCalendarType","secondaryCalendarType","nonWorkingDayLabel","i18nBundle","getText","todayLabel","tempDate","_getFirstDay","todayDate","fromLocalJSDate","Date","calendarDate","_calendarDate","minDate","_minDate","maxDate","_maxDate","tempSecondDate","_getSecondaryDay","week","i","timestamp","valueOf","dayOfTheWeek","getDay","isFocused","getMonth","getDate","isSelected","_isDaySelected","isSelectedBetween","_isDayInsideSelectionRange","isOtherMonth","isWeekend","_isWeekend","isDisabled","isToday","isSame","isFirstDayOfWeek","nonWorkingAriaLabel","todayAriaLabel","ariaLabel","getYear","day","toString","focusRef","_tabIndex","selected","secondDay","_isSecondaryCalendarType","classes","ariaSelected","ariaDisabled","undefined","disabled","push","unshift","weekNum","toUTCJSDate","isHidden","shouldHideWeekNumbers","length","setDate","aDayNamesWide","getDays","aDayNamesAbbreviated","dayName","name","ultraShortName","shift","_autoFocus","focus","includes","Range","event","isShift","target","_isDayPressed","_getTimestampFromDom","_safelySetTimestamp","_updateSecondTimestamp","Multiple","_multipleSelection","_toggleTimestampInSelection","fireEvent","dates","forEach","dayInThisWeek","findIndex","item","date","fromTimestamp","parseInt","notAllDaysOfThisWeekSelected","some","filter","_addTimestampToSelection","_removeTimestampFromSelection","value","start","end","toggle","distanceToMin","abs","distanceToMax","startDate","endDate","hoveredItem","closest","preventDefault","_selectDate","_modifyTimestampBy","_onHomeOrEnd","_setTimestamp","setMonth","_selectWeek","shiftKey","homePressed","index","amount","unit","_safelyModifyTimestampBy","Gregorian","oDate","iWeekDay","iWeekendStart","getWeekendStart","iWeekendEnd","getWeekendEnd","targetParent","parentNode","className","indexOf","classList","contains","daysFromPreviousMonth","firstDay","confFirstDayOfWeek","Number","isInteger","wrapper","display","main","width","define"],"mappings":"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","sourcesContent":["import getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport { getFirstDayOfWeek } from \"@ui5/webcomponents-base/dist/config/FormatSettings.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport {\n\tisSpace,\n\tisSpaceShift,\n\tisEnter,\n\tisEnterShift,\n\tisUp,\n\tisDown,\n\tisLeft,\n\tisRight,\n\tisHome,\n\tisEnd,\n\tisHomeCtrl,\n\tisEndCtrl,\n\tisPageUp,\n\tisPageDown,\n\tisPageUpShift,\n\tisPageUpAlt,\n\tisPageUpShiftCtrl,\n\tisPageDownShift,\n\tisPageDownAlt,\n\tisPageDownShiftCtrl,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport calculateWeekNumber from \"@ui5/webcomponents-localization/dist/dates/calculateWeekNumber.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport CalendarSelectionMode from \"./types/CalendarSelectionMode.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport DayPickerTemplate from \"./generated/templates/DayPickerTemplate.lit.js\";\n\nimport {\n\tDAY_PICKER_WEEK_NUMBER_TEXT,\n\tDAY_PICKER_NON_WORKING_DAY,\n\tDAY_PICKER_TODAY,\n} from \"./generated/i18n/i18n-defaults.js\";\n\nimport dayPickerCSS from \"./generated/themes/DayPicker.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-daypicker\",\n\tproperties: /** @lends  sap.ui.webcomponents.main.DayPicker.prototype */ {\n\t\t/**\n\t\t * An array of UTC timestamps representing the selected date or dates depending on the capabilities of the picker component.\n\t\t * @type {Array}\n\t\t * @public\n\t\t */\n\t\tselectedDates: {\n\t\t\ttype: Integer,\n\t\t\tmultiple: true,\n\t\t\tcompareValues: true,\n\t\t},\n\n\t\t/**\n\t\t * Defines the type of selection used in the day picker component.\n\t\t * Accepted property values are:<br>\n\t\t * <ul>\n\t\t * <li><code>CalendarSelectionMode.Single</code> - enables a single date selection.(default value)</li>\n\t\t * <li><code>CalendarSelectionMode.Range</code> - enables selection of a date range.</li>\n\t\t * <li><code>CalendarSelectionMode.Multiple</code> - enables selection of multiple dates.</li>\n\t\t * </ul>\n\t\t * @type {CalendarSelectionMode}\n\t\t * @defaultvalue \"Single\"\n\t\t * @public\n\t\t */\n\t\tselectionMode: {\n\t\t\ttype: CalendarSelectionMode,\n\t\t\tdefaultValue: CalendarSelectionMode.Single,\n\t\t},\n\n\t\t/**\n\t\t * Defines the visibility of the week numbers column.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Note:<b> For calendars other than Gregorian,\n\t\t * the week numbers are not displayed regardless of what is set.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.8\n\t\t */\n\t\thideWeekNumbers: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\t_weeks: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t_dayNames: {\n\t\t\ttype: Object,\n\t\t\tmultiple: true,\n\t\t},\n\n\t\t/**\n\t\t * When set, the component will skip all work in onBeforeRendering and will not automatically set the focus on itself\n\t\t * @type {boolean}\n\t\t * @private\n\t\t */\n\t\t_hidden: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t/**\n\t\t * When selectionMode=\"Range\" and the first day in the range is selected, this is the currently hovered (when using mouse) or focused (when using keyboard) day by the user\n\t\t * @private\n\t\t */\n\t\t_secondTimestamp: {\n\t\t\ttype: String,\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.DayPicker.prototype */ {\n\t\t/**\n\t\t * Fired when the selected date(s) change\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tchange: {},\n\t\t/**\n\t\t * Fired when the timestamp changes (user navigates with the keyboard) or clicks with the mouse\n\t\t * @public\n\t\t * @event\n\t\t */\n\t\tnavigate: {},\n\t},\n};\n\nconst isBetween = (x, num1, num2) => x > Math.min(num1, num2) && x < Math.max(num1, num2);\n\nconst DAYS_IN_WEEK = 7;\n\n/**\n * @class\n *\n * Represents one month view inside a calendar.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.DayPicker\n * @extends CalendarPart\n * @tagname ui5-daypicker\n * @public\n */\nclass DayPicker extends CalendarPart {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get template() {\n\t\treturn DayPickerTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn dayPickerCSS;\n\t}\n\n\tonBeforeRendering() {\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\tthis._buildWeeks(localeData);\n\t\tthis._buildDayNames(localeData);\n\t}\n\n\t/**\n\t * Builds the _weeks object that represents the month\n\t * @param localeData\n\t * @private\n\t */\n\t_buildWeeks(localeData) {\n\t\tif (this._hidden) {\n\t\t\treturn; // Optimization to not do any work unless the current picker\n\t\t}\n\n\t\tthis._weeks = [];\n\n\t\tconst firstDayOfWeek = this._getFirstDayOfWeek();\n\t\tconst monthsNames = localeData.getMonths(\"wide\", this._primaryCalendarType);\n\t\tconst secondaryMonthsNames = this.hasSecondaryCalendarType && localeData.getMonths(\"wide\", this.secondaryCalendarType);\n\t\tconst nonWorkingDayLabel = DayPicker.i18nBundle.getText(DAY_PICKER_NON_WORKING_DAY);\n\t\tconst todayLabel = DayPicker.i18nBundle.getText(DAY_PICKER_TODAY);\n\t\tconst tempDate = this._getFirstDay(); // date that will be changed by 1 day 42 times\n\t\tconst todayDate = CalendarDate.fromLocalJSDate(new Date(), this._primaryCalendarType); // current day date - calculate once\n\t\tconst calendarDate = this._calendarDate; // store the _calendarDate value as this getter is expensive and degrades IE11 perf\n\t\tconst minDate = this._minDate; // store the _minDate (expensive getter)\n\t\tconst maxDate = this._maxDate; // store the _maxDate (expensive getter)\n\n\t\tconst tempSecondDate = this.hasSecondaryCalendarType && this._getSecondaryDay(tempDate);\n\n\t\tlet week = [];\n\t\tfor (let i = 0; i < DAYS_IN_WEEK * 6; i++) { // always show 6 weeks total, 42 days to avoid jumping\n\t\t\tconst timestamp = tempDate.valueOf() / 1000; // no need to round because CalendarDate does it\n\n\t\t\tlet dayOfTheWeek = tempDate.getDay() - firstDayOfWeek;\n\t\t\tif (dayOfTheWeek < 0) {\n\t\t\t\tdayOfTheWeek += DAYS_IN_WEEK;\n\t\t\t}\n\n\t\t\tconst isFocused = tempDate.getMonth() === calendarDate.getMonth() && tempDate.getDate() === calendarDate.getDate();\n\t\t\tconst isSelected = this._isDaySelected(timestamp);\n\t\t\tconst isSelectedBetween = this._isDayInsideSelectionRange(timestamp);\n\t\t\tconst isOtherMonth = tempDate.getMonth() !== calendarDate.getMonth();\n\t\t\tconst isWeekend = this._isWeekend(tempDate);\n\t\t\tconst isDisabled = tempDate.valueOf() < minDate.valueOf() || tempDate.valueOf() > maxDate.valueOf();\n\t\t\tconst isToday = tempDate.isSame(todayDate);\n\t\t\tconst isFirstDayOfWeek = tempDate.getDay() === firstDayOfWeek;\n\n\t\t\tconst nonWorkingAriaLabel = isWeekend ? `${nonWorkingDayLabel} ` : \"\";\n\t\t\tconst todayAriaLabel = isToday ? `${todayLabel} ` : \"\";\n\t\t\tconst ariaLabel = this.hasSecondaryCalendarType\n\t\t\t\t? `${todayAriaLabel}${nonWorkingAriaLabel}${monthsNames[tempDate.getMonth()]} ${tempDate.getDate()}, ${tempDate.getYear()}; ${secondaryMonthsNames[tempSecondDate.getMonth()]} ${tempSecondDate.getDate()}, ${tempSecondDate.getYear()}`\n\t\t\t\t: `${todayAriaLabel}${nonWorkingAriaLabel}${monthsNames[tempDate.getMonth()]} ${tempDate.getDate()}, ${tempDate.getYear()}`;\n\n\t\t\tconst day = {\n\t\t\t\ttimestamp: timestamp.toString(),\n\t\t\t\tfocusRef: isFocused,\n\t\t\t\t_tabIndex: isFocused ? \"0\" : \"-1\",\n\t\t\t\tselected: isSelected,\n\t\t\t\tday: tempDate.getDate(),\n\t\t\t\tsecondDay: this.hasSecondaryCalendarType && tempSecondDate.getDate(),\n\t\t\t\t_isSecondaryCalendarType: this.hasSecondaryCalendarType,\n\t\t\t\tclasses: `ui5-dp-item ui5-dp-wday${dayOfTheWeek}`,\n\t\t\t\tariaLabel,\n\t\t\t\tariaSelected: isSelected ? \"true\" : \"false\",\n\t\t\t\tariaDisabled: isOtherMonth ? \"true\" : undefined,\n\t\t\t\tdisabled: isDisabled,\n\t\t\t};\n\n\t\t\tif (isFirstDayOfWeek) {\n\t\t\t\tday.classes += \" ui5-dp-firstday\";\n\t\t\t}\n\n\t\t\tif (isSelected) {\n\t\t\t\tday.classes += \" ui5-dp-item--selected\";\n\t\t\t}\n\n\t\t\tif (isSelectedBetween) {\n\t\t\t\tday.classes += \" ui5-dp-item--selected-between\";\n\t\t\t}\n\n\t\t\tif (isToday) {\n\t\t\t\tday.classes += \" ui5-dp-item--now\";\n\t\t\t}\n\n\t\t\tif (isOtherMonth) {\n\t\t\t\tday.classes += \" ui5-dp-item--othermonth\";\n\t\t\t}\n\n\t\t\tif (isWeekend) {\n\t\t\t\tday.classes += \" ui5-dp-item--weeekend\";\n\t\t\t}\n\n\t\t\tif (isDisabled) {\n\t\t\t\tday.classes += \" ui5-dp-item--disabled\";\n\t\t\t}\n\n\t\t\tif (this.hasSecondaryCalendarType) {\n\t\t\t\tday.classes += \" ui5-dp-item--withsecondtype\";\n\t\t\t}\n\n\t\t\tweek.push(day);\n\n\t\t\tif (dayOfTheWeek === DAYS_IN_WEEK - 1) { // 0-indexed so 6 is the last day of the week\n\t\t\t\tweek.unshift({\n\t\t\t\t\tweekNum: calculateWeekNumber(getFirstDayOfWeek(), tempDate.toUTCJSDate(), tempDate.getYear(), getLocale(), localeData),\n\t\t\t\t\tisHidden: this.shouldHideWeekNumbers,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (week.length === DAYS_IN_WEEK + 1) { // 7 entries for each day + 1 for the week numbers\n\t\t\t\tthis._weeks.push(week);\n\t\t\t\tweek = [];\n\t\t\t}\n\n\t\t\ttempDate.setDate(tempDate.getDate() + 1);\n\t\t\tif (this.hasSecondaryCalendarType) {\n\t\t\t\ttempSecondDate.setDate(tempSecondDate.getDate() + 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Builds the dayNames object (header of the month)\n\t * @param localeData\n\t * @private\n\t */\n\t_buildDayNames(localeData) {\n\t\tif (this._hidden) {\n\t\t\treturn; // Optimization to not do any work unless the current picker\n\t\t}\n\n\t\tlet dayOfTheWeek;\n\n\t\tconst aDayNamesWide = localeData.getDays(\"wide\", this._primaryCalendarType);\n\t\tconst aDayNamesAbbreviated = localeData.getDays(\"abbreviated\", this._primaryCalendarType);\n\t\tlet dayName;\n\n\t\tthis._dayNames = [];\n\t\tthis._dayNames.push({\n\t\t\tclasses: \"ui5-dp-dayname\",\n\t\t\tname: DayPicker.i18nBundle.getText(DAY_PICKER_WEEK_NUMBER_TEXT),\n\t\t});\n\t\tfor (let i = 0; i < DAYS_IN_WEEK; i++) {\n\t\t\tdayOfTheWeek = i + this._getFirstDayOfWeek();\n\t\t\tif (dayOfTheWeek > DAYS_IN_WEEK - 1) { // 0-indexed so index of 6 is the maximum allowed\n\t\t\t\tdayOfTheWeek -= DAYS_IN_WEEK;\n\t\t\t}\n\t\t\tdayName = {\n\t\t\t\tname: aDayNamesWide[dayOfTheWeek],\n\t\t\t\tultraShortName: aDayNamesAbbreviated[dayOfTheWeek],\n\t\t\t\tclasses: \"ui5-dp-dayname\",\n\t\t\t};\n\n\t\t\tthis._dayNames.push(dayName);\n\t\t}\n\n\t\tthis._dayNames[1].classes += \" ui5-dp-firstday\";\n\n\t\tif (this.shouldHideWeekNumbers) {\n\t\t\tthis._dayNames.shift();\n\t\t}\n\t}\n\n\tonAfterRendering() {\n\t\tif (this._autoFocus && !this._hidden) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t_onfocusin() {\n\t\tthis._autoFocus = true;\n\t}\n\n\t_onfocusout() {\n\t\tthis._autoFocus = false;\n\t}\n\n\t/**\n\t * Tells if the day is selected (dark blue)\n\t * @param timestamp\n\t * @returns {boolean}\n\t * @private\n\t */\n\t_isDaySelected(timestamp) {\n\t\tif (this.selectionMode === CalendarSelectionMode.Single) {\n\t\t\treturn timestamp === this.selectedDates[0];\n\t\t}\n\n\t\t// Multiple, Range\n\t\treturn this.selectedDates.includes(timestamp);\n\t}\n\n\t/**\n\t * Tells if the day is inside a selection range (light blue)\n\t * @param timestamp\n\t * @returns {*}\n\t * @private\n\t */\n\t_isDayInsideSelectionRange(timestamp) {\n\t\t// No selection at all (or not in range selection mode)\n\t\tif (this.selectionMode !== CalendarSelectionMode.Range || !this.selectedDates.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Only one date selected - the user is hovering with the mouse or navigating with the keyboard to select the second one\n\t\tif (this.selectedDates.length === 1 && this._secondTimestamp) {\n\t\t\treturn isBetween(timestamp, this.selectedDates[0], this._secondTimestamp);\n\t\t}\n\n\t\t// Two dates selected - stable range\n\t\treturn isBetween(timestamp, this.selectedDates[0], this.selectedDates[1]);\n\t}\n\n\t/**\n\t * Selects/deselects a day\n\t * @param event\n\t * @param isShift true if the user did Click+Shift or Enter+Shift (but not Space+Shift)\n\t * @private\n\t */\n\t_selectDate(event, isShift) {\n\t\tconst target = event.target;\n\n\t\tif (!this._isDayPressed(target)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst timestamp = this._getTimestampFromDom(target);\n\n\t\tthis._safelySetTimestamp(timestamp);\n\t\tthis._updateSecondTimestamp();\n\n\t\tif (this.selectionMode === CalendarSelectionMode.Single) {\n\t\t\tthis.selectedDates = [timestamp];\n\t\t} else if (this.selectionMode === CalendarSelectionMode.Multiple) {\n\t\t\tif (this.selectedDates.length > 0 && isShift) {\n\t\t\t\tthis._multipleSelection(timestamp);\n\t\t\t} else {\n\t\t\t\tthis._toggleTimestampInSelection(timestamp);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.selectedDates = (this.selectedDates.length === 1) ? [...this.selectedDates, timestamp]\t: [timestamp];\n\t\t}\n\n\t\tthis.fireEvent(\"change\", {\n\t\t\ttimestamp: this.timestamp,\n\t\t\tdates: this.selectedDates,\n\t\t});\n\t}\n\n\t/**\n\t * Selects/deselects the whole row (week)\n\t * @param event\n\t * @private\n\t */\n\t_selectWeek(event) {\n\t\tthis._weeks.forEach(week => {\n\t\t\tconst dayInThisWeek = week.findIndex(item => {\n\t\t\t\tconst date = CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000);\n\t\t\t\treturn date.getMonth() === this._calendarDate.getMonth() && date.getDate() === this._calendarDate.getDate();\n\t\t\t}) !== -1;\n\t\t\tif (dayInThisWeek) { // The current day is in this week\n\t\t\t\tconst notAllDaysOfThisWeekSelected = week.some(item => item.timestamp && !this.selectedDates.includes(parseInt(item.timestamp)));\n\t\t\t\tif (notAllDaysOfThisWeekSelected) { // even if one day is not selected, select the whole week\n\t\t\t\t\tweek.filter(item => item.timestamp).forEach(item => {\n\t\t\t\t\t\tthis._addTimestampToSelection(parseInt(item.timestamp));\n\t\t\t\t\t});\n\t\t\t\t} else { // only if all days of this week are selected, deselect them\n\t\t\t\t\tweek.filter(item => item.timestamp).forEach(item => {\n\t\t\t\t\t\tthis._removeTimestampFromSelection(parseInt(item.timestamp));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.fireEvent(\"change\", {\n\t\t\ttimestamp: this.timestamp,\n\t\t\tdates: this.selectedDates,\n\t\t});\n\t}\n\n\t_toggleTimestampInSelection(timestamp) {\n\t\tif (this.selectedDates.includes(timestamp)) {\n\t\t\tthis._removeTimestampFromSelection(timestamp);\n\t\t} else {\n\t\t\tthis._addTimestampToSelection(timestamp);\n\t\t}\n\t}\n\n\t_addTimestampToSelection(timestamp) {\n\t\tif (!this.selectedDates.includes(timestamp)) {\n\t\t\tthis.selectedDates = [...this.selectedDates, timestamp];\n\t\t}\n\t}\n\n\t_removeTimestampFromSelection(timestamp) {\n\t\tthis.selectedDates = this.selectedDates.filter(value => value !== timestamp);\n\t}\n\n\t/**\n\t * When at least one day is selected and the user pressed shift\n\t * @param timestamp\n\t * @private\n\t */\n\t_multipleSelection(timestamp) {\n\t\tconst min = Math.min(...this.selectedDates);\n\t\tconst max = Math.max(...this.selectedDates);\n\t\tlet start;\n\t\tlet end;\n\t\tlet toggle = false;\n\n\t\tif (timestamp < min) {\n\t\t\tstart = timestamp;\n\t\t\tend = min;\n\t\t} else if (timestamp >= min && timestamp <= max) { // inside the current range - toggle all between the selected and focused\n\t\t\tconst distanceToMin = Math.abs(timestamp - min);\n\t\t\tconst distanceToMax = Math.abs(timestamp - max);\n\n\t\t\tif (distanceToMin < distanceToMax) {\n\t\t\t\tstart = timestamp;\n\t\t\t\tend = max;\n\t\t\t} else {\n\t\t\t\tstart = min;\n\t\t\t\tend = timestamp;\n\t\t\t}\n\t\t\ttoggle = true;\n\t\t} else {\n\t\t\tstart = max;\n\t\t\tend = timestamp;\n\t\t}\n\n\t\tconst startDate = CalendarDate.fromTimestamp(start * 1000);\n\t\tconst endDate = CalendarDate.fromTimestamp(end * 1000);\n\n\t\twhile (startDate.valueOf() <= endDate.valueOf()) {\n\t\t\tthis[toggle ? \"_toggleTimestampInSelection\" : \"_addTimestampToSelection\"](startDate.valueOf() / 1000);\n\t\t\tstartDate.setDate(startDate.getDate() + 1);\n\t\t}\n\t}\n\n\t/**\n\t * Set the hovered day as the _secondTimestamp\n\t * @param event\n\t * @private\n\t */\n\t_onmouseover(event) {\n\t\tconst hoveredItem = event.target.closest(\".ui5-dp-item\");\n\t\tif (hoveredItem && this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n\t\t\tthis._secondTimestamp = this._getTimestampFromDom(hoveredItem);\n\t\t}\n\t}\n\n\t_onkeydown(event) {\n\t\tlet preventDefault = true;\n\n\t\tif (isEnter(event) || isEnterShift(event)) {\n\t\t\tthis._selectDate(event, isEnterShift(event));\n\t\t} else if (isSpace(event) || isSpaceShift(event)) {\n\t\t\tevent.preventDefault();\n\t\t} else if (isLeft(event)) {\n\t\t\tthis._modifyTimestampBy(-1, \"day\");\n\t\t} else if (isRight(event)) {\n\t\t\tthis._modifyTimestampBy(1, \"day\");\n\t\t} else if (isUp(event)) {\n\t\t\tthis._modifyTimestampBy(-7, \"day\");\n\t\t} else if (isDown(event)) {\n\t\t\tthis._modifyTimestampBy(7, \"day\");\n\t\t} else if (isPageUp(event)) {\n\t\t\tthis._modifyTimestampBy(-1, \"month\");\n\t\t} else if (isPageDown(event)) {\n\t\t\tthis._modifyTimestampBy(1, \"month\");\n\t\t} else if (isPageUpShift(event) || isPageUpAlt(event)) {\n\t\t\tthis._modifyTimestampBy(-1, \"year\");\n\t\t} else if (isPageDownShift(event) || isPageDownAlt(event)) {\n\t\t\tthis._modifyTimestampBy(1, \"year\");\n\t\t} else if (isPageUpShiftCtrl(event)) {\n\t\t\tthis._modifyTimestampBy(-10, \"year\");\n\t\t} else if (isPageDownShiftCtrl(event)) {\n\t\t\tthis._modifyTimestampBy(10, \"year\");\n\t\t} else if (isHome(event) || isEnd(event)) {\n\t\t\tthis._onHomeOrEnd(isHome(event));\n\t\t} else if (isHomeCtrl(event)) {\n\t\t\tconst tempDate = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n\t\t\ttempDate.setDate(1); // Set the first day of the month\n\t\t\tthis._setTimestamp(tempDate.valueOf() / 1000);\n\t\t} else if (isEndCtrl(event)) {\n\t\t\tconst tempDate = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n\t\t\ttempDate.setMonth(tempDate.getMonth() + 1);\n\t\t\ttempDate.setDate(0); // Set the last day of the month (0th day of next month)\n\t\t\tthis._setTimestamp(tempDate.valueOf() / 1000);\n\t\t} else {\n\t\t\tpreventDefault = false;\n\t\t}\n\n\t\tif (preventDefault) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t_onkeyup(event) {\n\t\t// Even if Space+Shift was pressed, ignore the shift unless in Multiple selection\n\t\tif (isSpace(event) || (isSpaceShift(event) && this.selectionMode !== CalendarSelectionMode.Multiple)) {\n\t\t\tthis._selectDate(event, false);\n\t\t} else if (isSpaceShift(event)) {\n\t\t\tthis._selectWeek(event);\n\t\t}\n\t}\n\n\t/**\n\t * Click is the same as Enter: Click+Shift has the same effect as Enter+Shift\n\t * @param event\n\t * @private\n\t */\n\t_onclick(event) {\n\t\tthis._selectDate(event, event.shiftKey);\n\t}\n\n\t/**\n\t * One Home or End, move the focus to the first or last item in the row\n\t * @param homePressed\n\t * @private\n\t */\n\t_onHomeOrEnd(homePressed) {\n\t\tthis._weeks.forEach(week => {\n\t\t\tconst dayInThisWeek = week.findIndex(item => {\n\t\t\t\tconst date = CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000);\n\t\t\t\treturn date.getMonth() === this._calendarDate.getMonth() && date.getDate() === this._calendarDate.getDate();\n\t\t\t}) !== -1;\n\t\t\tif (dayInThisWeek) { // The current day is in this week\n\t\t\t\tconst index = homePressed ? 1 : 7; // select the first (if Home) or last (if End) day of the week\n\t\t\t\tthis._setTimestamp(parseInt(week[index].timestamp));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Called from Calendar.js\n\t * @protected\n\t */\n\t_hasPreviousPage() {\n\t\treturn !(this._calendarDate.getMonth() === this._minDate.getMonth() && this._calendarDate.getYear() === this._minDate.getYear());\n\t}\n\n\t/**\n\t * Called from Calendar.js\n\t * @protected\n\t */\n\t_hasNextPage() {\n\t\treturn !(this._calendarDate.getMonth() === this._maxDate.getMonth() && this._calendarDate.getYear() === this._maxDate.getYear());\n\t}\n\n\t/**\n\t * Called from Calendar.js\n\t * Same as PageUp\n\t * @protected\n\t */\n\t_showPreviousPage() {\n\t\tthis._modifyTimestampBy(-1, \"month\");\n\t}\n\n\t/**\n\t * Called from Calendar.js\n\t * Same as PageDown\n\t * @protected\n\t */\n\t_showNextPage() {\n\t\tthis._modifyTimestampBy(1, \"month\");\n\t}\n\n\t/**\n\t * Modifies the timestamp by a certain amount of days/months/years\n\t * @param amount\n\t * @param unit\n\t * @private\n\t */\n\t_modifyTimestampBy(amount, unit) {\n\t\t// Modify the current timestamp\n\t\tthis._safelyModifyTimestampBy(amount, unit);\n\t\tthis._updateSecondTimestamp();\n\n\t\t// Notify the calendar to update its timestamp\n\t\tthis.fireEvent(\"navigate\", { timestamp: this.timestamp });\n\t}\n\n\t/**\n\t * Sets the timestamp to an absolute value\n\t * @param value\n\t * @private\n\t */\n\t_setTimestamp(value) {\n\t\tthis._safelySetTimestamp(value);\n\t\tthis._updateSecondTimestamp();\n\t\tthis.fireEvent(\"navigate\", { timestamp: this.timestamp });\n\t}\n\n\t/**\n\t * During range selection, when the user is navigating with the keyboard, the currently focused day is considered the \"second day\"\n\t * @private\n\t */\n\t_updateSecondTimestamp() {\n\t\tif (this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n\t\t\tthis._secondTimestamp = this.timestamp;\n\t\t}\n\t}\n\n\tget shouldHideWeekNumbers() {\n\t\tif (this._primaryCalendarType !== CalendarType.Gregorian) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.hideWeekNumbers;\n\t}\n\n\tget hasSecondaryCalendarType() {\n\t\treturn !!this.secondaryCalendarType;\n\t}\n\n\t_isWeekend(oDate) {\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\n\t\tconst iWeekDay = oDate.getDay(),\n\t\t\tiWeekendStart = localeData.getWeekendStart(),\n\t\t\tiWeekendEnd = localeData.getWeekendEnd();\n\n\t\treturn (iWeekDay >= iWeekendStart && iWeekDay <= iWeekendEnd)\n\t\t\t|| (iWeekendEnd < iWeekendStart && (iWeekDay >= iWeekendStart || iWeekDay <= iWeekendEnd));\n\t}\n\n\t_isDayPressed(target) {\n\t\tconst targetParent = target.parentNode;\n\t\treturn (target.className.indexOf(\"ui5-dp-item\") > -1) || (targetParent && targetParent.classList && targetParent.classList.contains(\"ui5-dp-item\"));\n\t}\n\n\t_getSecondaryDay(tempDate) {\n\t\treturn new CalendarDate(tempDate, this.secondaryCalendarType);\n\t}\n\n\t_getFirstDay() {\n\t\tlet daysFromPreviousMonth;\n\n\t\tconst firstDayOfWeek = this._getFirstDayOfWeek();\n\n\t\t// determine weekday of first day in month\n\t\tconst firstDay = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n\t\tfirstDay.setDate(1);\n\t\tdaysFromPreviousMonth = firstDay.getDay() - firstDayOfWeek;\n\t\tif (daysFromPreviousMonth < 0) {\n\t\t\tdaysFromPreviousMonth = 7 + daysFromPreviousMonth;\n\t\t}\n\n\t\tif (daysFromPreviousMonth > 0) {\n\t\t\tfirstDay.setDate(1 - daysFromPreviousMonth);\n\t\t}\n\n\t\treturn firstDay;\n\t}\n\n\t_getFirstDayOfWeek() {\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\tconst confFirstDayOfWeek = getFirstDayOfWeek();\n\t\treturn Number.isInteger(confFirstDayOfWeek) ? confFirstDayOfWeek : localeData.getFirstDayOfWeek();\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\twrapper: {\n\t\t\t\tdisplay: this._hidden ? \"none\" : \"flex\",\n\t\t\t\t\"justify-content\": \"center\",\n\t\t\t},\n\t\t\tmain: {\n\t\t\t\twidth: \"100%\",\n\t\t\t},\n\t\t};\n\t}\n\n\tget ariaRoledescription() {\n\t\treturn this.hasSecondaryCalendarType\n\t\t\t? `${this._primaryCalendarType} calendar with secondary ${this.secondaryCalendarType} calendar`\n\t\t\t: `${this._primaryCalendarType} calendar`;\n\t}\n}\n\nDayPicker.define();\n\nexport default DayPicker;\n"]},"metadata":{},"sourceType":"module"}