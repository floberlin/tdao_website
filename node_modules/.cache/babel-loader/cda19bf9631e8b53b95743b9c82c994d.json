{"ast":null,"code":"var _jsxFileName = \"/Users/flo/Desktop/mdao.fioriapp/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { ShellBar, ThemeProvider, Input, Avatar, SideNavigation, SideNavigationItem, SideNavigationSubItem, Icon } from \"@ui5/webcomponents-react\"; // eslint-disable-next-line no-unused-vars\n\nimport AllIcons from \"@ui5/webcomponents-icons/dist/AllIcons.js\";\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport \"./App.css\";\nimport { Route, HashRouter } from \"react-router-dom\";\nimport Asset from \"./pages/Asset\";\nimport QR from \"./pages/QR\";\nimport Error from \"./pages/Error\";\nimport Account from \"./pages/Account\";\nimport abi from \"./abi.json\";\nimport { isMobile } from \"react-device-detect\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet provider = null;\nlet signer = null;\nlet address = null;\nlet roProvidernoUser = new ethers.providers.JsonRpcProvider(\"https://polygon-mainnet.infura.io/v3/d8e7160dc78d48dba6ca40b11fdf1cd5\" || \"https://rpc-mainnet.matic.network\");\nlet tdao = new ethers.Contract(\"0xe939789E151608D7442E2e6Ff4ea4E2eaf314cF3\", abi, roProvidernoUser);\nconst roProvider = new WalletConnectProvider({\n  rpc: {\n    137: \"https://polygon-mainnet.infura.io/v3/d8e7160dc78d48dba6ca40b11fdf1cd5\"\n  }\n});\nexport async function ethersConnect() {\n  try {\n    if (isMobile) {\n      await roProvider.enable();\n      provider = new ethers.providers.Web3Provider(roProvider);\n    } else {\n      provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n      await provider.send(\"eth_requestAccounts\", []);\n    } //[provider.getBlockNumber().then((b) => b - 10000),provider.getBlockNumber().then((b) => b )]\n\n\n    signer = provider.getSigner();\n    address = await signer.getAddress();\n    tdao = new ethers.Contract(\"0xe939789E151608D7442E2e6Ff4ea4E2eaf314cF3\", abi, signer); //  let filter = tdao.filters.TransferSingle();\n    // console.log(filter)\n    // console.log(await tdao.filter.TransferSingle());\n    // console.log(await tdao.queryFilter(filter, 17862525 , 17862925));\n\n    return await signer.getAddress();\n  } catch (error) {\n    //alert(\"Please install Metamask!\")\n    console.log(\"e :\" + error);\n    return \"Read only\";\n  }\n}\nexport async function getTokenId(ipfsId) {\n  try {\n    ipfsId = ipfsId.split(\"/\")[0];\n    const rslt = tdao.getTokenId(ipfsId).then(result => {\n      return result.toNumber();\n    });\n    return rslt;\n  } catch {\n    return \"\";\n  }\n}\n\nfunction handleSearch(value) {\n  window.location.assign(\"/#/asset/\" + value);\n}\n\nfunction handleAccount(value) {\n  window.location.assign(\"/#/account/\" + address);\n}\n\nfunction handleQR() {\n  window.location.assign(\"/#/qr\");\n}\n\nfunction handleHome() {\n  window.location.assign(\"/#/\");\n}\n\nfunction App() {\n  _s();\n\n  const [value, setValue] = useState(\"\");\n  const [userAddress, setuserAddress] = useState(\"Connect Wallet\");\n  const [menu, setMenu] = useState(\"none\");\n  const [profile, setProfile] = useState(false);\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    children: /*#__PURE__*/_jsxDEV(HashRouter, {\n      children: [/*#__PURE__*/_jsxDEV(ShellBar, {\n        logo: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"tdao\",\n          mdxtype: \"img\",\n          originaltype: \"img\",\n          src: \"../tdao.svg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this),\n        onLogoClick: () => handleHome(),\n        onMenuItemClick: function noRefCheck() {},\n        style: {\n          overflow: \"scroll\"\n        },\n        className: \"Shell\",\n        onProfileClick: () => setMenu(\"block\"),\n        profile: /*#__PURE__*/_jsxDEV(Avatar, {\n          icon: \"menu\",\n          colorScheme: \"Accent10\",\n          size: \"XS\",\n          shape: \"Square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Menu\",\n        style: {\n          display: menu\n        },\n        children: /*#__PURE__*/_jsxDEV(SideNavigation, {\n          className: \"\",\n          fixedItems: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(SideNavigationItem, {\n              icon: \"information\",\n              text: \"Impressum\",\n              onClick: () => window.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)\n          }, void 0, false),\n          onSelectionChange: function noRefCheck() {},\n          slot: \"\",\n          style: {},\n          tooltip: \"\",\n          children: [/*#__PURE__*/_jsxDEV(SideNavigationItem, {\n            icon: \"nav-back\",\n            text: \"Back\",\n            onClick: () => setMenu(\"none\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SideNavigationItem, {\n            className: \"\",\n            icon: \"group\",\n            onSelectionChange: function noRefCheck() {},\n            onClick: () => ethersConnect().then(a => {\n              setuserAddress(a.substring(0, 6) + \"...\" + a.slice(-4));\n              setProfile(!profile);\n            }),\n            onChange: e => setuserAddress(e.target.userAddress),\n            text: userAddress,\n            tooltip: userAddress,\n            children: /*#__PURE__*/_jsxDEV(SideNavigationSubItem, {\n              text: \"Account\",\n              icon: \"customer\",\n              onClick: () => {\n                handleAccount();\n                setMenu(\"none\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        strict: true,\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Scan\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"click\",\n              mdxtype: \"img\",\n              originaltype: \"img\",\n              src: \"../button.png\",\n              width: \"200px\",\n              height: \"200px\",\n              onClick: () => handleQR()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Search\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => setValue(e.target.value),\n              style: {},\n              type: \"Text\",\n              icon: /*#__PURE__*/_jsxDEV(Icon, {\n                name: \"search\",\n                onClick: () => handleSearch(value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/asset\",\n        children: /*#__PURE__*/_jsxDEV(Asset, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/qr\",\n        children: /*#__PURE__*/_jsxDEV(QR, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/error\",\n        children: /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/account\",\n        children: /*#__PURE__*/_jsxDEV(Account, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"bdSXYPmhOqFLfmC3f3pvbpYVIF4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/src/App.js"],"names":["ShellBar","ThemeProvider","Input","Avatar","SideNavigation","SideNavigationItem","SideNavigationSubItem","Icon","AllIcons","React","useState","ethers","Route","HashRouter","Asset","QR","Error","Account","abi","isMobile","WalletConnectProvider","provider","signer","address","roProvidernoUser","providers","JsonRpcProvider","tdao","Contract","roProvider","rpc","ethersConnect","enable","Web3Provider","window","ethereum","send","getSigner","getAddress","error","console","log","getTokenId","ipfsId","split","rslt","then","result","toNumber","handleSearch","value","location","assign","handleAccount","handleQR","handleHome","App","setValue","userAddress","setuserAddress","menu","setMenu","profile","setProfile","noRefCheck","overflow","display","a","substring","slice","e","target"],"mappings":"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","sourcesContent":["import {\n  ShellBar,\n  ThemeProvider,\n  Input,\n  Avatar,\n  SideNavigation,\n  SideNavigationItem,\n  SideNavigationSubItem,\n  Icon,\n} from \"@ui5/webcomponents-react\";\n// eslint-disable-next-line no-unused-vars\nimport AllIcons from \"@ui5/webcomponents-icons/dist/AllIcons.js\";\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport \"./App.css\";\nimport { Route, HashRouter } from \"react-router-dom\";\nimport Asset from \"./pages/Asset\";\nimport QR from \"./pages/QR\";\nimport Error from \"./pages/Error\";\nimport Account from \"./pages/Account\";\nimport abi from \"./abi.json\";\nimport { isMobile } from \"react-device-detect\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n\nlet provider = null;\nlet signer = null;\nlet address = null;\nlet roProvidernoUser = new ethers.providers.JsonRpcProvider(\n  \"https://polygon-mainnet.infura.io/v3/d8e7160dc78d48dba6ca40b11fdf1cd5\" ||\n    \"https://rpc-mainnet.matic.network\"\n);\nlet tdao = new ethers.Contract(\n  \"0xe939789E151608D7442E2e6Ff4ea4E2eaf314cF3\",\n  abi,\n  roProvidernoUser\n);\nconst roProvider = new WalletConnectProvider({\n  rpc: {\n    137: \"https://polygon-mainnet.infura.io/v3/d8e7160dc78d48dba6ca40b11fdf1cd5\",\n  },\n});\n\nexport async function ethersConnect() {\n  try {\n    if (isMobile) {\n      await roProvider.enable();\n      provider = new ethers.providers.Web3Provider(roProvider);\n    } else {\n      provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n      await provider.send(\"eth_requestAccounts\", []);\n    }\n\n    //[provider.getBlockNumber().then((b) => b - 10000),provider.getBlockNumber().then((b) => b )]\n\n    signer = provider.getSigner();\n    address = await signer.getAddress();\n    tdao = new ethers.Contract(\n      \"0xe939789E151608D7442E2e6Ff4ea4E2eaf314cF3\",\n      abi,\n      signer\n    );\n\n    //  let filter = tdao.filters.TransferSingle();\n    // console.log(filter)\n    // console.log(await tdao.filter.TransferSingle());\n    // console.log(await tdao.queryFilter(filter, 17862525 , 17862925));\n\n    return await signer.getAddress();\n  } catch (error) {\n    //alert(\"Please install Metamask!\")\n    console.log(\"e :\" + error);\n\n    return \"Read only\";\n  }\n}\n\nexport async function getTokenId(ipfsId) {\n  try {\n    ipfsId = ipfsId.split(\"/\")[0];\n    const rslt = tdao.getTokenId(ipfsId).then((result) => {\n      return result.toNumber();\n    });\n    return rslt;\n  } catch {\n    return \"\";\n  }\n}\n\nfunction handleSearch(value) {\n  window.location.assign(\"/#/asset/\" + value);\n}\n\nfunction handleAccount(value) {\n  window.location.assign(\"/#/account/\" + address);\n}\n\nfunction handleQR() {\n  window.location.assign(\"/#/qr\");\n}\n\nfunction handleHome() {\n  window.location.assign(\"/#/\");\n}\n\nfunction App() {\n  const [value, setValue] = useState(\"\");\n  const [userAddress, setuserAddress] = useState(\"Connect Wallet\");\n  const [menu, setMenu] = useState(\"none\");\n  const [profile, setProfile] = useState(false);\n\n  return (\n    <ThemeProvider>\n      <HashRouter>\n        <ShellBar\n          logo={\n            <img\n              alt=\"tdao\"\n              mdxtype=\"img\"\n              originaltype=\"img\"\n              src=\"../tdao.svg\"\n            />\n          }\n          onLogoClick={() => handleHome()}\n          onMenuItemClick={function noRefCheck() {}}\n          style={{ overflow: \"scroll\" }}\n          className=\"Shell\"\n          onProfileClick={() => setMenu(\"block\")}\n          profile={\n            <Avatar\n              icon=\"menu\"\n              colorScheme=\"Accent10\"\n              size=\"XS\"\n              shape=\"Square\"\n            ></Avatar>\n          }\n        ></ShellBar>\n        <br></br>\n        <br></br>\n        <div className=\"Menu\" style={{ display: menu }}>\n          <SideNavigation\n            className=\"\"\n            fixedItems={\n              <>\n                <SideNavigationItem icon=\"information\" text=\"Impressum\" onClick={() => window.location}/>\n              </>\n            }\n            onSelectionChange={function noRefCheck() {}}\n            slot=\"\"\n            style={{}}\n            tooltip=\"\"\n          >\n            <SideNavigationItem\n              icon=\"nav-back\"\n              text=\"Back\"\n              onClick={() => setMenu(\"none\")}\n            />\n            <SideNavigationItem\n              className=\"\"\n              icon=\"group\"\n              onSelectionChange={function noRefCheck() {}}\n              onClick={() =>\n                ethersConnect().then((a) => {\n                  setuserAddress(a.substring(0, 6) + \"...\" + a.slice(-4));\n                  setProfile(!profile);\n                })\n              }\n              onChange={(e) => setuserAddress(e.target.userAddress)}\n              text={userAddress}\n              tooltip={userAddress}\n            >\n              <SideNavigationSubItem\n                text=\"Account\"\n                icon=\"customer\"\n                onClick={() => {\n                  handleAccount();\n                  setMenu(\"none\");\n                }}\n              />\n            </SideNavigationItem>\n          </SideNavigation>\n        </div>\n        <Route exact strict path=\"/\">\n          <div className=\"App\">\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <div className=\"Scan\">\n              <img\n                alt=\"click\"\n                mdxtype=\"img\"\n                originaltype=\"img\"\n                src=\"../button.png\"\n                width=\"200px\"\n                height=\"200px\"\n                onClick={() => handleQR()}\n              />\n            </div>\n            <br />\n            <br />\n            <br />\n            <div className=\"Search\">\n              <Input\n                onChange={(e) => setValue(e.target.value)}\n                style={{}}\n                type=\"Text\"\n                icon={\n                  <Icon name=\"search\" onClick={() => handleSearch(value)} />\n                }\n              />\n            </div>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n          </div>\n        </Route>\n\n        <Route path=\"/asset\">\n          <Asset />\n        </Route>\n        <Route path=\"/qr\">\n          <QR />\n        </Route>\n        <Route path=\"/error\">\n          <Error />\n        </Route>\n        <Route path=\"/account\">\n          <Account />\n        </Route>\n      </HashRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}