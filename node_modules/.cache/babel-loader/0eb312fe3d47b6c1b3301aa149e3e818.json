{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _toPropertyKey from '@babel/runtime/helpers/toPropertyKey';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport { useI18nBundle, useSyncRef, useIsRTL } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { deprecationNotice, enrichEventWithDetails, debounce } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { BASIC, CANCEL, CLEAR, RESTORE, SAVE, SEARCH_FOR_FILTERS, SHOW_ON_FILTER_BAR, FILTERS, GO, SHOW_FILTER_BAR, HIDE_FILTER_BAR, ADAPT_FILTERS } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { BusyIndicator } from '@ui5/webcomponents-react/dist/BusyIndicator';\nimport { BusyIndicatorSize } from '@ui5/webcomponents-react/dist/BusyIndicatorSize';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { Toolbar } from '@ui5/webcomponents-react/dist/Toolbar';\nimport { ToolbarSeparator } from '@ui5/webcomponents-react/dist/ToolbarSeparator';\nimport { ToolbarSpacer } from '@ui5/webcomponents-react/dist/ToolbarSpacer';\nimport { ToolbarStyle } from '@ui5/webcomponents-react/dist/ToolbarStyle';\nimport clsx from 'clsx';\nimport React, { useEffect, cloneElement, useState, useRef, useCallback, Children, forwardRef } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { isIE } from '@ui5/webcomponents-base/dist/Device.js';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport '@ui5/webcomponents-icons/dist/search.js';\nimport { Bar } from '@ui5/webcomponents-react/dist/Bar';\nimport { BarDesign } from '@ui5/webcomponents-react/dist/BarDesign';\nimport { CheckBox } from '@ui5/webcomponents-react/dist/CheckBox';\nimport { Dialog } from '@ui5/webcomponents-react/dist/Dialog';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/dist/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/dist/FlexBoxDirection';\nimport { FlexBoxJustifyContent } from '@ui5/webcomponents-react/dist/FlexBoxJustifyContent';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { Input } from '@ui5/webcomponents-react/dist/Input';\nimport { Text } from '@ui5/webcomponents-react/dist/Text';\nimport { Title } from '@ui5/webcomponents-react/dist/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/dist/TitleLevel';\nimport { createPortal } from 'react-dom';\nimport { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { sapUiContentPadding } from '@ui5/webcomponents-react-base/dist/spacing';\n\nvar useDeprecationNoticeForTooltip = function useDeprecationNoticeForTooltip(component, tooltip) {\n  useEffect(function () {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n\nvar styles$2 = {\n  outerContainer: {\n    background: ThemingParameters.sapObjectHeader_Background,\n    '--_ui5_input_width': '100%'\n  },\n  outerContainerWithToolbar: {\n    paddingTop: '0.5rem',\n    paddingLeft: '2rem',\n    paddingRight: '2rem',\n    paddingBottom: '1px',\n    boxShadow: ThemingParameters.sapContent_HeaderShadow\n  },\n  filterBarHeader: {\n    alignItems: 'center',\n    display: 'flex',\n    background: ThemingParameters.sapObjectHeader_Background,\n    minHeight: '3rem',\n    paddingBottom: '0.5rem',\n    boxShadow: 'none',\n    flexWrap: 'wrap'\n  },\n  filterArea: {\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    paddingTop: '1rem',\n    marginBottom: '1rem',\n    background: ThemingParameters.sapObjectHeader_Background,\n    transition: 'max-height 0.2s ease-out, opacity 0.2s ease-in'\n  },\n  filterAreaClosed: {\n    maxHeight: '0',\n    opacity: 0,\n    padding: 0,\n    margin: 0,\n    overflowY: 'auto'\n  },\n  filterAreaOpen: {\n    opacity: 1\n  },\n  showFiltersBtn: {\n    minWidth: '108px'\n  },\n  loadingContainer: {\n    marginBottom: '0.5rem',\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'center'\n  },\n  filterBarButtons: {\n    display: 'flex',\n    alignItems: 'center',\n    position: 'absolute',\n    right: 0,\n    marginBottom: '1rem',\n    '& > *:not(:first-child)': {\n      marginLeft: '0.25rem'\n    },\n    '& > *:not(:last-child)': {\n      marginRight: '0.25rem'\n    }\n  },\n  spacer: {\n    height: 0,\n    marginTop: 0,\n    flexGrow: 1,\n    flexShrink: 0,\n    maxWidth: isIE() ? '26.25rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis) * 2)',\n    flexBasis: isIE() ? '13.125rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis))'\n  },\n  lastSpacer: {\n    height: 'var(--_ui5_input_height)',\n    flexGrow: 1,\n    flexShrink: 0,\n    maxWidth: isIE() ? '26.25rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis) * 2)',\n    flexBasis: isIE() ? '13.125rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis))'\n  }\n};\nvar styles$3 = styles$2;\n\nvar stopPropagation = function stopPropagation(e) {\n  var _e$stopImmediatePropa;\n\n  e.stopPropagation();\n  (_e$stopImmediatePropa = e.stopImmediatePropagation) === null || _e$stopImmediatePropa === void 0 ? void 0 : _e$stopImmediatePropa.call(e);\n};\n\nvar styles = {\n  dialog: _objectSpread(_objectSpread({}, sapUiContentPadding), {}, {\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: '960px',\n    width: '80vw',\n    maxHeight: '70vh',\n    '--_ui5_input_width': '100%'\n  }),\n  header: {\n    width: '100%',\n    padding: '0.25rem 1rem 0 1rem',\n    '& *': {\n      margin: '0.25rem 0 0.25rem 0'\n    },\n    '& ui5-input': {\n      width: '100%'\n    }\n  },\n  footer: {\n    '& :not(:last-child)': {\n      marginRight: '0.25rem'\n    }\n  },\n  groupContainer: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  groupTitle: {\n    maxWidth: '85%',\n    marginRight: '0.5rem'\n  },\n  filters: {\n    padding: '1rem 0 2rem 0'\n  },\n  singleFilter: {\n    display: 'grid',\n    gridTemplateColumns: \"auto minmax(\".concat(CssSizeVariables.sapWcrCheckBoxWidthHeight, \",7%)\"),\n    gridTemplateRows: 'auto',\n    gridColumnGap: '0.5rem',\n    '@media(max-width:700px)': {\n      marginTop: '0.5rem'\n    },\n    '& ui5-checkbox': {\n      placeSelf: 'center start',\n      '@media(max-width:700px)': {\n        marginTop: '0.8rem',\n        paddingLeft: 0,\n        placeSelf: 'end start'\n      }\n    }\n  },\n  fbSearch: {\n    '@media(min-width:700px)': {\n      display: 'grid',\n      gridTemplateColumns: '20% auto 7%',\n      gridTemplateRows: 'auto',\n      gridRowGap: '0.5rem',\n      gridColumnGap: '0.5rem'\n    },\n    paddingBottom: '2rem',\n    width: '100%',\n    '& ui5-input': {\n      width: '100%'\n    }\n  }\n};\nvar styles$1 = styles;\nvar inputTagNames = new Set(['UI5-COMBOBOX', 'UI5-DATE-PICKER', 'UI5-DATERANGE-PICKER', 'UI5-DATETIME-PICKER', 'UI5-DURATION-PICKER', 'UI5-INPUT', 'UI5-MULTI-INPUT', 'UI5-RATING-INDICATOR', 'UI5-STEP-INPUT', 'UI5-TIME-PICKER']);\n\nvar filterValue = function filterValue(ref, child) {\n  var tagName = ref.tagName;\n  var filterItemProps = {};\n\n  if (inputTagNames.has(tagName)) {\n    var _ref$value;\n\n    filterItemProps = {\n      value: (_ref$value = ref.value) !== null && _ref$value !== void 0 ? _ref$value : ''\n    };\n  }\n\n  if (tagName === 'UI5-SELECT' || tagName === 'UI5-MULTI-COMBOBOX') {\n    var _child$props$children;\n\n    var selectedIndices = Array.from(ref.children).map(function (item, index) {\n      return item.selected ? index : false;\n    }).filter(function (el) {\n      return el !== false;\n    });\n    var selectedIndicesSet = new Set(selectedIndices);\n    var options = (_child$props$children = child.props.children.props.children) === null || _child$props$children === void 0 ? void 0 : _child$props$children.map(function (item, index) {\n      if (selectedIndicesSet.has(index)) {\n        return /*#__PURE__*/cloneElement(item, {\n          selected: true\n        });\n      }\n\n      return /*#__PURE__*/cloneElement(item, {\n        selected: false\n      });\n    });\n    filterItemProps = {\n      children: options\n    };\n  }\n\n  if (tagName === 'UI5-SWITCH' || tagName === 'UI5-CHECKBOX') {\n    filterItemProps = {\n      checked: ref.checked\n    };\n  }\n\n  return filterItemProps;\n};\n\nvar renderSearchWithValue = function renderSearchWithValue(renderSearchElement, searchValue) {\n  var _renderSearchElement$;\n\n  return /*#__PURE__*/cloneElement(renderSearchElement, {\n    value: searchValue !== null && searchValue !== void 0 ? searchValue : renderSearchElement === null || renderSearchElement === void 0 ? void 0 : (_renderSearchElement$ = renderSearchElement.props) === null || _renderSearchElement$ === void 0 ? void 0 : _renderSearchElement$.value,\n    'data-component-name': 'FilterBarSearch'\n  });\n};\n\nvar syncRef = function syncRef(ref, node) {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    } else if (ref.hasOwnProperty('current')) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      ref.current = node;\n    }\n  }\n};\n\nvar useStyles$1 = createUseStyles(styles$1, {\n  name: 'FilterBarDialog'\n});\n\nvar FilterDialog = function FilterDialog(props) {\n  var filterBarRefs = props.filterBarRefs,\n      open = props.open,\n      handleDialogClose = props.handleDialogClose,\n      children = props.children,\n      showClearButton = props.showClearButton,\n      showRestoreButton = props.showRestoreButton,\n      showGoButton = props.showGoButton,\n      showSearch = props.showSearch,\n      renderFBSearch = props.renderFBSearch,\n      handleClearFilters = props.handleClearFilters,\n      handleRestoreFilters = props.handleRestoreFilters,\n      handleDialogSave = props.handleDialogSave,\n      searchValue = props.searchValue,\n      handleSearchValueChange = props.handleSearchValueChange,\n      onGo = props.onGo,\n      handleSelectionChange = props.handleSelectionChange,\n      handleDialogSearch = props.handleDialogSearch,\n      handleDialogCancel = props.handleDialogCancel,\n      portalContainer = props.portalContainer;\n  var classes = useStyles$1();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchString = _useState2[0],\n      setSearchString = _useState2[1];\n\n  var searchRef = useRef(null);\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      toggledFilters = _useState4[0],\n      setToggledFilters = _useState4[1];\n\n  var dialogRefs = useRef({});\n  var dialogRef = useRef();\n  var dialogSearchRef = useRef(null);\n  var i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  var basicText = i18nBundle.getText(BASIC);\n  var cancelText = i18nBundle.getText(CANCEL);\n  var clearText = i18nBundle.getText(CLEAR);\n  var restoreText = i18nBundle.getText(RESTORE);\n  var saveText = i18nBundle.getText(SAVE);\n  var searchForFiltersText = i18nBundle.getText(SEARCH_FOR_FILTERS);\n  var showOnFilterBarText = i18nBundle.getText(SHOW_ON_FILTER_BAR);\n  var filtersTitle = i18nBundle.getText(FILTERS);\n  var goText = i18nBundle.getText(GO);\n  useEffect(function () {\n    if (open) {\n      dialogRef.current.show();\n    }\n  }, [open]);\n\n  var handleSearch = function handleSearch(e) {\n    if (handleDialogSearch) {\n      handleDialogSearch(enrichEventWithDetails(e, {\n        value: e.target.value,\n        element: e.target\n      }));\n    }\n\n    setSearchString(e.target.value);\n  };\n\n  var handleSave = function handleSave(e) {\n    var go = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (renderFBSearch) {\n      var _searchRef$current;\n\n      handleSearchValueChange((_searchRef$current = searchRef.current) === null || _searchRef$current === void 0 ? void 0 : _searchRef$current.children[1].value);\n    }\n\n    if (go) {\n      handleDialogSave(e, dialogRefs.current, toggledFilters, true);\n    } else {\n      handleDialogSave(e, dialogRefs.current, toggledFilters);\n    }\n  };\n\n  var handleClose = function handleClose(e) {\n    stopPropagation(e);\n\n    if (!showGoButton) {\n      handleSave(e);\n      return;\n    }\n\n    handleDialogClose(e);\n  };\n\n  var handleDialogGo = function handleDialogGo(e) {\n    if (typeof onGo === 'function') {\n      handleSave(e, true);\n    }\n  };\n\n  var handleCancel = function handleCancel(e) {\n    if (handleDialogCancel) {\n      handleDialogCancel(enrichEventWithDetails(e));\n    }\n\n    handleDialogClose(e);\n  };\n\n  var getFilterElements = function getFilterElements() {\n    var _searchRef$current2;\n\n    var search = (_searchRef$current2 = searchRef.current) === null || _searchRef$current2 === void 0 ? void 0 : _searchRef$current2.querySelector(\"[data-component-name=\\\"FilterBarSearch\\\"]\");\n    return {\n      filters: dialogFilterRefs.current,\n      search: search,\n      dialogSearch: dialogSearchRef.current\n    };\n  };\n\n  var handleRestore = function handleRestore(e) {\n    handleRestoreFilters(e, 'dialog', getFilterElements());\n  };\n\n  var handleClear = function handleClear(e) {\n    if (typeof handleClearFilters === 'function') {\n      handleClearFilters(enrichEventWithDetails(e, getFilterElements()));\n    }\n  };\n\n  var renderChildren = function renderChildren() {\n    return children.filter(function (item) {\n      var _item$props, _item$props2, _item$props2$label;\n\n      return !!(item !== null && item !== void 0 && item.props) && ((_item$props = item.props) === null || _item$props === void 0 ? void 0 : _item$props.visible) && (((_item$props2 = item.props) === null || _item$props2 === void 0 ? void 0 : (_item$props2$label = _item$props2.label) === null || _item$props2$label === void 0 ? void 0 : _item$props2$label.toLowerCase().includes(searchString.toLowerCase())) || searchString.length === 0);\n    }).map(function (child) {\n      var filterBarItemRef = filterBarRefs.current[child.key];\n      var filterItemProps = {};\n\n      if (filterBarItemRef) {\n        filterItemProps = filterValue(filterBarItemRef, child);\n      }\n\n      if (!child.props.children) return child;\n      return /*#__PURE__*/cloneElement(child, {\n        children: _objectSpread(_objectSpread({}, child.props.children), {}, {\n          props: _objectSpread(_objectSpread({}, child.props.children.props), filterItemProps),\n          ref: function ref(node) {\n            if (node) {\n              dialogRefs.current[child.key] = node;\n              syncRef(child.props.children.ref, node);\n            }\n          }\n        })\n      });\n    });\n  };\n\n  var handleCheckBoxChange = useCallback(function (element) {\n    return function (e) {\n      if (handleSelectionChange) {\n        handleSelectionChange(enrichEventWithDetails(e, {\n          element: element,\n          checked: e.target.checked\n        }));\n      }\n\n      setToggledFilters(function (old) {\n        return _objectSpread(_objectSpread({}, old), {}, _defineProperty({}, element.key, e.target.checked));\n      });\n    };\n  }, [setToggledFilters, handleSelectionChange]);\n  var dialogFilterRefs = useRef([]);\n\n  var renderGroups = function renderGroups() {\n    var groups = {};\n    var dialogFilters = [];\n    Children.forEach(renderChildren(), function (child) {\n      var _child$props$groupNam;\n\n      var childGroups = (_child$props$groupNam = child.props.groupName) !== null && _child$props$groupNam !== void 0 ? _child$props$groupNam : 'default';\n\n      if (groups[childGroups]) {\n        groups[childGroups].push(child);\n      } else {\n        groups[childGroups] = [child];\n      }\n    });\n    var filterGroups = Object.keys(groups).sort(function (x, y) {\n      return x === 'default' ? -1 : y === 'role' ? 1 : 0;\n    }).map(function (item, index) {\n      var filters = groups[item].map(function (el) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.singleFilter,\n          key: \"\".concat(el.key, \"-container\"),\n          ref: function ref(node) {\n            if (node) {\n              var _node$children, _node$children$, _node$children$$child, _node$children$$child2, _node$children$$child3;\n\n              dialogFilters.push((_node$children = node.children) === null || _node$children === void 0 ? void 0 : (_node$children$ = _node$children[0]) === null || _node$children$ === void 0 ? void 0 : (_node$children$$child = _node$children$.children) === null || _node$children$$child === void 0 ? void 0 : (_node$children$$child2 = _node$children$$child[0]) === null || _node$children$$child2 === void 0 ? void 0 : (_node$children$$child3 = _node$children$$child2.children) === null || _node$children$$child3 === void 0 ? void 0 : _node$children$$child3[1]);\n            }\n          }\n        }, el, /*#__PURE__*/React.createElement(CheckBox, {\n          role: \"checkbox\",\n          checked: el.props.visibleInFilterBar || el.props.required || el.type.displayName !== 'FilterGroupItem',\n          onChange: handleCheckBoxChange(el),\n          disabled: el.props.required || el.type.displayName !== 'FilterGroupItem'\n        }));\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.groupContainer,\n        key: item\n      }, /*#__PURE__*/React.createElement(FlexBox, {\n        justifyContent: FlexBoxJustifyContent.SpaceBetween,\n        alignItems: FlexBoxAlignItems.Center\n      }, /*#__PURE__*/React.createElement(Title, {\n        level: TitleLevel.H5,\n        className: index === 0 ? classes.groupTitle : '',\n        title: item === 'default' ? basicText : item\n      }, item === 'default' ? basicText : item), index === 0 && /*#__PURE__*/React.createElement(Text, {\n        wrapping: false\n      }, showOnFilterBarText)), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.filters\n      }, filters));\n    });\n    dialogFilterRefs.current = dialogFilters;\n    return filterGroups;\n  };\n\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Dialog, {\n    ref: dialogRef,\n    header: /*#__PURE__*/React.createElement(FlexBox, {\n      direction: FlexBoxDirection.Column,\n      alignItems: FlexBoxAlignItems.Center,\n      className: classes.header\n    }, /*#__PURE__*/React.createElement(Title, {\n      level: TitleLevel.H4,\n      title: filtersTitle\n    }, filtersTitle), showSearch && /*#__PURE__*/React.createElement(Input, {\n      placeholder: searchForFiltersText,\n      onInput: handleSearch,\n      icon: /*#__PURE__*/React.createElement(Icon, {\n        name: \"search\"\n      }),\n      ref: dialogSearchRef\n    })),\n    footer: /*#__PURE__*/React.createElement(Bar, {\n      design: BarDesign.Footer,\n      endContent: /*#__PURE__*/React.createElement(FlexBox, {\n        justifyContent: FlexBoxJustifyContent.End,\n        className: classes.footer\n      }, showGoButton && /*#__PURE__*/React.createElement(Button, {\n        onClick: handleDialogGo,\n        design: ButtonDesign.Emphasized,\n        title: goText\n      }, goText), showClearButton && /*#__PURE__*/React.createElement(Button, {\n        onClick: handleClear\n      }, clearText), showRestoreButton && /*#__PURE__*/React.createElement(Button, {\n        onClick: handleRestore\n      }, restoreText), /*#__PURE__*/React.createElement(Button, {\n        onClick: handleSave\n      }, saveText), /*#__PURE__*/React.createElement(Button, {\n        design: ButtonDesign.Transparent,\n        onClick: handleCancel\n      }, cancelText))\n    }),\n    onAfterClose: handleClose\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.dialog,\n    role: \"dialog\"\n  }, renderFBSearch && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.fbSearch,\n    ref: searchRef\n  }, /*#__PURE__*/React.createElement(\"span\", null), renderSearchWithValue(renderFBSearch, searchValue)), renderGroups())), portalContainer);\n};\n\nvar _excluded = [\"children\", \"useToolbar\", \"loading\", \"filterBarExpanded\", \"considerGroupName\", \"filterContainerWidth\", \"activeFiltersCount\", \"showClearOnFB\", \"showGoOnFB\", \"showGo\", \"showFilterConfiguration\", \"showRestoreOnFB\", \"showClearButton\", \"showRestoreButton\", \"showSearchOnFiltersDialog\", \"hideToggleFiltersButton\", \"style\", \"className\", \"tooltip\", \"slot\", \"search\", \"variants\", \"as\", \"portalContainer\", \"onToggleFilters\", \"onFiltersDialogOpen\", \"onFiltersDialogCancel\", \"onFiltersDialogClose\", \"onFiltersDialogSave\", \"onFiltersDialogClear\", \"onClear\", \"onFiltersDialogSelectionChange\", \"onFiltersDialogSearch\", \"onGo\", \"onRestore\"];\n\nvar resizeObserverEntryWidth = function resizeObserverEntryWidth(entry) {\n  if (entry.borderBoxSize) {\n    var _entry$borderBoxSize$, _entry$borderBoxSize; // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n\n\n    return Array.isArray(entry.borderBoxSize) ? (_entry$borderBoxSize$ = entry.borderBoxSize[0]) === null || _entry$borderBoxSize$ === void 0 ? void 0 : _entry$borderBoxSize$.inlineSize : (_entry$borderBoxSize = entry.borderBoxSize) === null || _entry$borderBoxSize === void 0 ? void 0 : _entry$borderBoxSize.inlineSize;\n  } // Safari doesn't implement `borderBoxSize`\n\n\n  return entry.target.getBoundingClientRect().width;\n};\n\nvar useStyles = createUseStyles(styles$3, {\n  name: 'FilterBar'\n});\n/**\n * The `FilterBar` displays filters in a user-friendly manner to populate values for a query. It consists of a row containing the `VariantManagement`, the related buttons, and an area underneath displaying the filters. The filters are arranged in a logical row that is divided depending on the space available and the width of the filters. The area containing the filters can be hidden or shown using the \"Hide FilterBar / Show FilterBar\" button, the \"Filters\" button shows the filter dialog.\n In this dialog, the consumer has full control over the FilterBar. The filters in this dialog are displayed in one column and organized in groups. Each filter can be marked as visible in the FilterBar by selecting \"Add to FilterBar\".\n */\n\nvar FilterBar = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _search$props2, _search$props5, _searchRef$current2, _ref9;\n\n  var children = props.children,\n      useToolbar = props.useToolbar,\n      loading = props.loading,\n      filterBarExpanded = props.filterBarExpanded,\n      considerGroupName = props.considerGroupName,\n      filterContainerWidth = props.filterContainerWidth,\n      activeFiltersCount = props.activeFiltersCount,\n      showClearOnFB = props.showClearOnFB,\n      showGoOnFB = props.showGoOnFB,\n      showGo = props.showGo,\n      showFilterConfiguration = props.showFilterConfiguration,\n      showRestoreOnFB = props.showRestoreOnFB,\n      showClearButton = props.showClearButton,\n      showRestoreButton = props.showRestoreButton,\n      showSearchOnFiltersDialog = props.showSearchOnFiltersDialog,\n      hideToggleFiltersButton = props.hideToggleFiltersButton,\n      style = props.style,\n      className = props.className,\n      tooltip = props.tooltip,\n      slot = props.slot,\n      search = props.search,\n      variants = props.variants,\n      as = props.as,\n      portalContainer = props.portalContainer,\n      onToggleFilters = props.onToggleFilters,\n      onFiltersDialogOpen = props.onFiltersDialogOpen,\n      onFiltersDialogCancel = props.onFiltersDialogCancel,\n      onFiltersDialogClose = props.onFiltersDialogClose,\n      onFiltersDialogSave = props.onFiltersDialogSave,\n      onFiltersDialogClear = props.onFiltersDialogClear,\n      onClear = props.onClear,\n      onFiltersDialogSelectionChange = props.onFiltersDialogSelectionChange,\n      onFiltersDialogSearch = props.onFiltersDialogSearch,\n      onGo = props.onGo,\n      onRestore = props.onRestore,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  useDeprecationNoticeForTooltip('FilterBar', props.tooltip);\n\n  var _useState = useState(useToolbar ? filterBarExpanded : true),\n      _useState2 = _slicedToArray(_useState, 2),\n      showFilters = _useState2[0],\n      setShowFilters = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mountFilters = _useState4[0],\n      setMountFilters = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dialogOpen = _useState6[0],\n      setDialogOpen = _useState6[1];\n\n  var _useState7 = useState(undefined),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchValue = _useState8[0],\n      setSearchValue = _useState8[1];\n\n  var searchRef = useRef(null);\n  var filterRefs = useRef({});\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dialogRefs = _useState10[0],\n      setDialogRefs = _useState10[1];\n\n  var _useState11 = useState({}),\n      _useState12 = _slicedToArray(_useState11, 2),\n      toggledFilters = _useState12[0],\n      setToggledFilters = _useState12[1];\n\n  var prevVisibleInFilterBarProps = useRef({});\n  var prevSearchInputPropsValueRef = useRef();\n  var filterBarButtonsRef = useRef(null);\n  var filterAreaRef = useRef(null);\n\n  var _useSyncRef = useSyncRef(ref),\n      _useSyncRef2 = _slicedToArray(_useSyncRef, 2),\n      componentRef = _useSyncRef2[0],\n      filterBarRef = _useSyncRef2[1];\n\n  var i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  var clearText = i18nBundle.getText(CLEAR);\n  var restoreText = i18nBundle.getText(RESTORE);\n  var showFilterBarText = i18nBundle.getText(SHOW_FILTER_BAR);\n  var hideFilterBarText = i18nBundle.getText(HIDE_FILTER_BAR);\n  var goText = i18nBundle.getText(GO);\n  var filtersText = useToolbar ? i18nBundle.getText(FILTERS) : i18nBundle.getText(ADAPT_FILTERS);\n  var isRtl = useIsRTL(filterBarRef);\n  var transformRightRTL = isRtl ? 'Left' : 'Right';\n  useEffect(function () {\n    Children.toArray(children).forEach(function (item) {\n      setToggledFilters(function (prev) {\n        if (!item.props.hasOwnProperty('visibleInFilterBar') && (prev === null || prev === void 0 ? void 0 : prev[item.key]) === undefined) {\n          return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, item.key, true));\n        }\n\n        if (item.props.hasOwnProperty('visibleInFilterBar')) {\n          return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, item.key, item.props.visibleInFilterBar));\n        }\n\n        return prev;\n      });\n    });\n  }, [children, setToggledFilters]);\n  useEffect(function () {\n    setShowFilters(useToolbar ? filterBarExpanded : true);\n  }, [setShowFilters, useToolbar, filterBarExpanded]);\n  var classes = useStyles();\n  var filterAreaClasses = clsx(classes.filterArea, showFilters ? classes.filterAreaOpen : classes.filterAreaClosed);\n\n  var getFilterElements = function getFilterElements() {\n    var _searchRef$current;\n\n    var search = (_searchRef$current = searchRef.current) === null || _searchRef$current === void 0 ? void 0 : _searchRef$current.querySelector(\"[data-component-name=\\\"FilterBarSearch\\\"]\");\n    return {\n      filters: filterRefs !== null && filterRefs !== void 0 && filterRefs.current ? Object.values(filterRefs.current).filter(Boolean) : [],\n      search: search\n    };\n  };\n\n  var handleToggle = function handleToggle(e) {\n    if (onToggleFilters) {\n      onToggleFilters(enrichEventWithDetails(e, _objectSpread({\n        visible: !showFilters\n      }, getFilterElements())));\n    }\n\n    setShowFilters(!showFilters);\n  };\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      executeGo = _useState14[0],\n      setExecuteGo = _useState14[1];\n\n  var handleDialogSave = function handleDialogSave(e, newRefs, updatedToggledFilters) {\n    var go = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    setDialogRefs(newRefs);\n\n    var details = _objectSpread({\n      elements: newRefs,\n      toggledElements: _objectSpread(_objectSpread({}, toggledFilters), updatedToggledFilters)\n    }, getFilterElements());\n\n    if (typeof onGo === 'function' && go) {\n      setExecuteGo(enrichEventWithDetails(e, details));\n    }\n\n    setToggledFilters(function (old) {\n      return _objectSpread(_objectSpread({}, old), updatedToggledFilters);\n    });\n\n    if (onFiltersDialogSave) {\n      onFiltersDialogSave(enrichEventWithDetails(e, details));\n    }\n\n    handleDialogClose(e);\n  };\n\n  var handleDialogOpen = function handleDialogOpen(e) {\n    setDialogOpen(true);\n\n    if (onFiltersDialogOpen) {\n      onFiltersDialogOpen(e);\n    }\n  };\n\n  var handleDialogClose = function handleDialogClose(e) {\n    if (onFiltersDialogClose) {\n      onFiltersDialogClose(enrichEventWithDetails(e));\n    }\n\n    setDialogOpen(false);\n  };\n\n  var handleGoOnFb = function handleGoOnFb(e) {\n    if (typeof onGo === 'function') {\n      onGo(enrichEventWithDetails(e, _objectSpread({\n        elements: filterRefs.current\n      }, getFilterElements())));\n    }\n  };\n\n  var safeChildren = function safeChildren() {\n    if (Object.keys(toggledFilters).length > 0) {\n      return Children.toArray(children).map(function (child) {\n        if ((toggledFilters === null || toggledFilters === void 0 ? void 0 : toggledFilters[child.key]) !== undefined) {\n          return /*#__PURE__*/cloneElement(child, {\n            visibleInFilterBar: toggledFilters[child.key]\n          });\n        }\n\n        return child;\n      });\n    }\n\n    return Children.toArray(children);\n  };\n\n  var prevChildren = useRef({});\n\n  var renderChildren = function renderChildren() {\n    var _childProps;\n\n    var childProps = (_childProps = {\n      considerGroupName: considerGroupName\n    }, _defineProperty(_childProps, 'data-in-fb', true), _defineProperty(_childProps, 'data-with-toolbar', useToolbar), _childProps);\n    return safeChildren().filter(function (item) {\n      var _item$props, _item$props2;\n\n      return (item === null || item === void 0 ? void 0 : (_item$props = item.props) === null || _item$props === void 0 ? void 0 : _item$props.visible) && ((_item$props2 = item.props) === null || _item$props2 === void 0 ? void 0 : _item$props2.visibleInFilterBar);\n    }).map(function (child) {\n      var _prevChildren$current, _child$props$children, _child$props$children2, _prevChildren$current2, _prevChildren$current3, _child$props$children3, _child$props$children4, _prevChildren$current4, _prevChildren$current5, _child$props$children5, _child$props$children6, _child$props$children7, _child$props$children8, _child$props$children9, _prevChildren$current6, _prevChildren$current7, _prevChildren$current8; // necessary because of varying widths of input elements\n\n\n      if (filterContainerWidth) {\n        childProps.style = _objectSpread({\n          width: filterContainerWidth\n        }, child.props.style);\n      }\n\n      if (!showFilterConfiguration) {\n        return /*#__PURE__*/cloneElement(child, _objectSpread({}, childProps));\n      }\n\n      prevVisibleInFilterBarProps.current[child.key] = child.props.visibleInFilterBar;\n      var filterItemProps = {};\n\n      if (Object.keys(dialogRefs).length > 0) {\n        var dialogItemRef = dialogRefs[child.key];\n\n        if (dialogItemRef) {\n          filterItemProps = filterValue(dialogItemRef, child);\n        }\n      }\n\n      if (!child.props.children) {\n        return /*#__PURE__*/cloneElement(child, _objectSpread({}, childProps));\n      }\n\n      if ((_prevChildren$current = prevChildren.current) !== null && _prevChildren$current !== void 0 && _prevChildren$current[child.key] && ( //Input\n      ((_child$props$children = child.props.children) === null || _child$props$children === void 0 ? void 0 : (_child$props$children2 = _child$props$children.props) === null || _child$props$children2 === void 0 ? void 0 : _child$props$children2.value) !== ((_prevChildren$current2 = prevChildren.current) === null || _prevChildren$current2 === void 0 ? void 0 : (_prevChildren$current3 = _prevChildren$current2[child.key]) === null || _prevChildren$current3 === void 0 ? void 0 : _prevChildren$current3.value) || //Checkbox\n      ((_child$props$children3 = child.props.children) === null || _child$props$children3 === void 0 ? void 0 : (_child$props$children4 = _child$props$children3.props) === null || _child$props$children4 === void 0 ? void 0 : _child$props$children4.checked) !== ((_prevChildren$current4 = prevChildren.current) === null || _prevChildren$current4 === void 0 ? void 0 : (_prevChildren$current5 = _prevChildren$current4[child.key]) === null || _prevChildren$current5 === void 0 ? void 0 : _prevChildren$current5.checked) || //Selectable\n      Array.isArray((_child$props$children5 = child.props.children) === null || _child$props$children5 === void 0 ? void 0 : (_child$props$children6 = _child$props$children5.props) === null || _child$props$children6 === void 0 ? void 0 : _child$props$children6.children) && ((_child$props$children7 = child.props.children) === null || _child$props$children7 === void 0 ? void 0 : (_child$props$children8 = _child$props$children7.props) === null || _child$props$children8 === void 0 ? void 0 : (_child$props$children9 = _child$props$children8.children) === null || _child$props$children9 === void 0 ? void 0 : _child$props$children9.map(function (item) {\n        return item.props.selected;\n      }).join(',')) !== (prevChildren === null || prevChildren === void 0 ? void 0 : (_prevChildren$current6 = prevChildren.current) === null || _prevChildren$current6 === void 0 ? void 0 : (_prevChildren$current7 = _prevChildren$current6[child.key]) === null || _prevChildren$current7 === void 0 ? void 0 : (_prevChildren$current8 = _prevChildren$current7.children) === null || _prevChildren$current8 === void 0 ? void 0 : _prevChildren$current8.map(function (item) {\n        return item.props.selected;\n      }).join(',')))) {\n        // @ts-ignore\n        var _child$key = child.key;\n        dialogRefs[_child$key];\n\n        var _rest = _objectWithoutProperties(dialogRefs, [_child$key].map(_toPropertyKey));\n\n        setDialogRefs(_rest);\n      }\n\n      prevChildren.current[child.key] = child.props.children.props;\n      return /*#__PURE__*/cloneElement(child, _objectSpread(_objectSpread({}, childProps), {}, {\n        children: _objectSpread(_objectSpread({}, child.props.children), {}, {\n          props: _objectSpread(_objectSpread({}, child.props.children.props), filterItemProps),\n          ref: function ref(node) {\n            filterRefs.current[child.key] = node;\n            if (!dialogOpen) syncRef(child.props.children.ref, node);\n          }\n        })\n      }));\n    });\n  };\n\n  var handleRestoreFilters = function handleRestoreFilters(e, source, filterElements) {\n    if (source === 'dialog' && showGo) {\n      setDialogOpen(false);\n      setDialogOpen(true);\n    } else if (source === 'filterBar' && showGoOnFB) {\n      setMountFilters(false);\n      setMountFilters(true);\n    }\n\n    if (onRestore) {\n      onRestore(enrichEventWithDetails(e, _objectSpread({\n        source: source\n      }, filterElements)));\n    }\n  };\n\n  var handleFBRestore = function handleFBRestore(e) {\n    handleRestoreFilters(e, 'filterBar', getFilterElements());\n  };\n\n  var handleClear = function handleClear(e) {\n    if (typeof onClear === 'function') {\n      onClear(enrichEventWithDetails(e, getFilterElements()));\n    }\n  };\n\n  var cssClasses = clsx(classes.outerContainer, className, useToolbar && classes.outerContainerWithToolbar);\n  useEffect(function () {\n    var _search$props;\n\n    prevSearchInputPropsValueRef.current = search === null || search === void 0 ? void 0 : (_search$props = search.props) === null || _search$props === void 0 ? void 0 : _search$props.value;\n  }, [search === null || search === void 0 ? void 0 : (_search$props2 = search.props) === null || _search$props2 === void 0 ? void 0 : _search$props2.value]);\n  var prevSearchInputPropsValue = prevSearchInputPropsValueRef.current;\n  useEffect(function () {\n    var _search$props3;\n\n    if (prevSearchInputPropsValue !== (search === null || search === void 0 ? void 0 : (_search$props3 = search.props) === null || _search$props3 === void 0 ? void 0 : _search$props3.value)) {\n      var _search$props4;\n\n      setSearchValue(search === null || search === void 0 ? void 0 : (_search$props4 = search.props) === null || _search$props4 === void 0 ? void 0 : _search$props4.value);\n    }\n  }, [prevSearchInputPropsValue, search === null || search === void 0 ? void 0 : (_search$props5 = search.props) === null || _search$props5 === void 0 ? void 0 : _search$props5.value]);\n  var ToolbarButtons = /*#__PURE__*/React.createElement(React.Fragment, null, showClearOnFB && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClear,\n    design: ButtonDesign.Transparent\n  }, clearText), showRestoreOnFB && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleFBRestore,\n    design: ButtonDesign.Transparent\n  }, restoreText), !hideToggleFiltersButton && useToolbar && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleToggle,\n    design: ButtonDesign.Transparent,\n    className: classes.showFiltersBtn\n  }, showFilters ? hideFilterBarText : showFilterBarText), showFilterConfiguration && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDialogOpen,\n    \"aria-haspopup\": \"dialog\"\n  }, \"\".concat(filtersText).concat(activeFiltersCount && parseInt(activeFiltersCount, 10) > 0 ? \" (\".concat(activeFiltersCount, \")\") : '')), showGoOnFB && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleGoOnFb,\n    design: ButtonDesign.Emphasized\n  }, goText));\n  var hasButtons = ToolbarButtons.props.children.some(Boolean);\n\n  var _useState15 = useState(undefined),\n      _useState16 = _slicedToArray(_useState15, 2),\n      filterBarButtonsWidth = _useState16[0],\n      setFilterBarButtonsWidth = _useState16[1];\n\n  var _useState17 = useState(undefined),\n      _useState18 = _slicedToArray(_useState17, 2),\n      filterAreaWidth = _useState18[0],\n      setFilterAreaWidth = _useState18[1];\n\n  var _useState19 = useState(undefined),\n      _useState20 = _slicedToArray(_useState19, 2),\n      firstChildWidth = _useState20[0],\n      setFirstChildWidth = _useState20[1];\n\n  useEffect(function () {\n    var filterAreaObserver = new ResizeObserver(debounce(function (_ref) {\n      var _area$target, _area$target$children;\n\n      var _ref2 = _slicedToArray(_ref, 1),\n          area = _ref2[0];\n\n      var firstChild = (_area$target = area.target) === null || _area$target === void 0 ? void 0 : (_area$target$children = _area$target.children) === null || _area$target$children === void 0 ? void 0 : _area$target$children[0];\n\n      if (firstChild && firstChild.offsetWidth !== firstChildWidth) {\n        setFirstChildWidth(firstChild.offsetWidth + 16\n        /*margin*/\n        );\n      }\n    }, 100));\n\n    if (!useToolbar && filterAreaRef.current) {\n      filterAreaObserver.observe(filterAreaRef.current);\n    }\n\n    return function () {\n      filterAreaObserver.disconnect();\n    };\n  }, [filterAreaRef.current, useToolbar]);\n  useEffect(function () {\n    var filterAreaObserver = new ResizeObserver(debounce(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 1),\n          area = _ref4[0];\n\n      var filterWidth = resizeObserverEntryWidth(area);\n\n      if (filterWidth !== filterBarButtonsWidth) {\n        setFilterAreaWidth(filterWidth);\n      }\n    }, 100));\n\n    if (!useToolbar && filterAreaRef.current) {\n      filterAreaObserver.observe(filterAreaRef.current);\n    }\n\n    return function () {\n      filterAreaObserver.disconnect();\n    };\n  }, [filterAreaWidth, filterAreaRef.current, useToolbar]);\n  useEffect(function () {\n    var filterBarButtonsObserver = new ResizeObserver(debounce(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 1),\n          buttons = _ref6[0];\n\n      var buttonsWidth = resizeObserverEntryWidth(buttons);\n\n      if (buttonsWidth !== filterBarButtonsWidth) {\n        setFilterBarButtonsWidth(buttonsWidth);\n      }\n    }, 100));\n\n    if (!useToolbar && filterBarButtonsRef.current) {\n      filterBarButtonsObserver.observe(filterBarButtonsRef.current);\n    }\n\n    return function () {\n      filterBarButtonsObserver.disconnect();\n    };\n  }, [filterBarButtonsRef.current, useToolbar, filterBarButtonsWidth]);\n  var calculatedChildren = renderChildren();\n  useEffect(function () {\n    if (executeGo) {\n      setExecuteGo(function (prevEvent) {\n        onGo(prevEvent);\n        return false;\n      });\n    }\n  }, [executeGo]); // calculates the number of spacers depending on the available width inside the row\n\n  var renderSpacers = function renderSpacers() {\n    if (firstChildWidth && filterAreaWidth && filterBarButtonsWidth) {\n      var spacers = [];\n      var filterItemsWidth = calculatedChildren.length * firstChildWidth; //early return if enough space is available\n\n      if (filterAreaWidth - filterBarButtonsWidth > filterItemsWidth) {\n        return null;\n      }\n\n      var usedSpaceLastRow = filterItemsWidth % filterAreaWidth;\n      var emptySpaceLastRow = filterAreaWidth - usedSpaceLastRow; // deduct width of buttons container of the empty space in the last row to calculate number of spacers\n\n      var numberOfSpacers = Math.floor((emptySpaceLastRow - filterBarButtonsWidth) / firstChildWidth);\n\n      for (var i = 0; i < numberOfSpacers; i++) {\n        spacers.push( /*#__PURE__*/React.createElement(\"div\", {\n          key: \"filter-spacer-\".concat(i),\n          className: classes.spacer,\n          style: _defineProperty({}, \"margin\".concat(transformRightRTL), '1rem')\n        }));\n      }\n\n      return spacers;\n    }\n\n    return null;\n  };\n\n  var CustomTag = as;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, dialogOpen && showFilterConfiguration && /*#__PURE__*/React.createElement(FilterDialog, {\n    filterBarRefs: filterRefs,\n    open: dialogOpen,\n    handleDialogClose: handleDialogClose,\n    onGo: onGo,\n    handleRestoreFilters: handleRestoreFilters,\n    searchValue: (_searchRef$current2 = searchRef.current) === null || _searchRef$current2 === void 0 ? void 0 : _searchRef$current2.children[0].value,\n    handleSearchValueChange: setSearchValue,\n    showClearButton: showClearButton,\n    showRestoreButton: showRestoreButton,\n    showSearch: showSearchOnFiltersDialog,\n    renderFBSearch: search,\n    handleClearFilters: onFiltersDialogClear,\n    handleSelectionChange: onFiltersDialogSelectionChange,\n    handleDialogSave: handleDialogSave,\n    showGoButton: showGo,\n    handleDialogSearch: onFiltersDialogSearch,\n    handleDialogCancel: onFiltersDialogCancel,\n    portalContainer: portalContainer\n  }, safeChildren()), /*#__PURE__*/React.createElement(CustomTag, _extends({\n    ref: componentRef,\n    className: cssClasses,\n    style: _objectSpread(_defineProperty({}, '--_ui5wcr_filter_group_item_flex_basis', filterContainerWidth), style),\n    title: tooltip,\n    slot: slot\n  }, rest), loading ? /*#__PURE__*/React.createElement(BusyIndicator, {\n    active: true,\n    className: classes.loadingContainer,\n    size: BusyIndicatorSize.Large\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, useToolbar && /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.filterBarHeader,\n    toolbarStyle: ToolbarStyle.Clear\n  }, variants, variants && search && /*#__PURE__*/React.createElement(ToolbarSeparator, null), search && /*#__PURE__*/React.createElement(\"div\", {\n    ref: searchRef\n  }, renderSearchWithValue(search, searchValue)), hasButtons && /*#__PURE__*/React.createElement(ToolbarSpacer, null), ToolbarButtons), mountFilters && /*#__PURE__*/React.createElement(\"div\", {\n    className: filterAreaClasses,\n    style: {\n      position: 'relative'\n    },\n    ref: filterAreaRef\n  }, calculatedChildren, !useToolbar && /*#__PURE__*/React.createElement(React.Fragment, null, renderSpacers(), /*#__PURE__*/React.createElement(\"div\", {\n    style: _defineProperty({\n      width: filterBarButtonsWidth ? \"\".concat(filterBarButtonsWidth, \"px\") : '120px',\n      minWidth: filterBarButtonsWidth ? \"\".concat(filterBarButtonsWidth, \"px\") : '120px'\n    }, \"margin\".concat(transformRightRTL), '1rem'),\n    className: classes.lastSpacer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.filterBarButtons,\n    ref: filterBarButtonsRef,\n    style: (_ref9 = {}, _defineProperty(_ref9, \"margin\".concat(transformRightRTL), '1rem'), _defineProperty(_ref9, \"left\", isRtl ? 0 : 'auto'), _defineProperty(_ref9, \"right\", isRtl ? 'auto' : 0), _ref9)\n  }, ToolbarButtons)))))));\n});\nFilterBar.defaultProps = {\n  as: 'div',\n  filterContainerWidth: '13.125rem',\n  useToolbar: true,\n  filterBarExpanded: true,\n  portalContainer: document.body\n};\nFilterBar.displayName = 'FilterBar';\nexport { FilterBar };","map":{"version":3,"sources":["../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/FilterBar/FilterBar.jss.ts","../src/internal/stopPropagation.ts","../src/components/FilterBar/FilterBarDialog.jss.ts","../src/components/FilterBar/utils.tsx","../src/components/FilterBar/FilterDialog.tsx","../src/components/FilterBar/index.tsx"],"names":["useDeprecationNoticeForTooltip","useEffect","deprecationNotice","styles","outerContainer","background","ThemingParameters","outerContainerWithToolbar","paddingTop","paddingLeft","paddingRight","paddingBottom","boxShadow","sapContent_HeaderShadow","filterBarHeader","alignItems","display","minHeight","flexWrap","filterArea","marginBottom","transition","filterAreaClosed","maxHeight","opacity","padding","margin","overflowY","filterAreaOpen","showFiltersBtn","minWidth","loadingContainer","width","justifyContent","filterBarButtons","position","right","marginLeft","marginRight","spacer","height","marginTop","flexGrow","flexShrink","maxWidth","isIE","flexBasis","lastSpacer","stopPropagation","e","dialog","flexDirection","header","footer","groupContainer","groupTitle","filters","singleFilter","gridTemplateColumns","CssSizeVariables","gridTemplateRows","gridColumnGap","placeSelf","fbSearch","gridRowGap","inputTagNames","filterValue","tagName","ref","filterItemProps","value","selectedIndices","item","el","selectedIndicesSet","options","cloneElement","selected","children","checked","renderSearchWithValue","searchValue","renderSearchElement","syncRef","useStyles","createUseStyles","name","FilterDialog","filterBarRefs","open","handleDialogClose","showClearButton","showRestoreButton","showGoButton","showSearch","renderFBSearch","handleClearFilters","handleRestoreFilters","handleDialogSave","handleSearchValueChange","onGo","handleSelectionChange","handleDialogSearch","handleDialogCancel","portalContainer","props","classes","searchString","setSearchString","useState","searchRef","useRef","toggledFilters","setToggledFilters","dialogRefs","dialogRef","dialogSearchRef","i18nBundle","useI18nBundle","basicText","cancelText","clearText","restoreText","saveText","searchForFiltersText","showOnFilterBarText","filtersTitle","goText","handleSearch","enrichEventWithDetails","element","target","handleSave","go","handleClose","handleDialogGo","handleCancel","getFilterElements","search","dialogFilterRefs","dialogSearch","current","handleRestore","handleClear","renderChildren","filterBarItemRef","child","handleCheckBoxChange","useCallback","renderGroups","groups","dialogFilters","Children","childGroups","filterGroups","x","y","node","FlexBoxJustifyContent","FlexBoxAlignItems","Center","TitleLevel","index","createPortal","FlexBoxDirection","BarDesign","ButtonDesign","resizeObserverEntryWidth","entry","Array","FilterBar","forwardRef","useToolbar","loading","filterBarExpanded","considerGroupName","filterContainerWidth","activeFiltersCount","showClearOnFB","showGoOnFB","showGo","showFilterConfiguration","showRestoreOnFB","showSearchOnFiltersDialog","hideToggleFiltersButton","style","className","tooltip","slot","variants","as","onToggleFilters","onFiltersDialogOpen","onFiltersDialogCancel","onFiltersDialogClose","onFiltersDialogSave","onFiltersDialogClear","onClear","onFiltersDialogSelectionChange","onFiltersDialogSearch","onRestore","rest","showFilters","setShowFilters","mountFilters","setMountFilters","dialogOpen","setDialogOpen","setSearchValue","filterRefs","setDialogRefs","prevVisibleInFilterBarProps","prevSearchInputPropsValueRef","filterBarButtonsRef","filterAreaRef","componentRef","filterBarRef","useSyncRef","showFilterBarText","hideFilterBarText","filtersText","isRtl","useIsRTL","transformRightRTL","filterAreaClasses","clsx","Object","handleToggle","visible","executeGo","setExecuteGo","details","elements","toggledElements","handleDialogOpen","handleGoOnFb","safeChildren","visibleInFilterBar","prevChildren","childProps","dialogItemRef","source","handleFBRestore","cssClasses","prevSearchInputPropsValue","ToolbarButtons","Transparent","parseInt","Emphasized","hasButtons","filterBarButtonsWidth","setFilterBarButtonsWidth","filterAreaWidth","setFilterAreaWidth","firstChildWidth","setFirstChildWidth","filterAreaObserver","debounce","area","firstChild","filterWidth","filterBarButtonsObserver","buttons","buttonsWidth","calculatedChildren","renderSpacers","spacers","filterItemsWidth","usedSpaceLastRow","emptySpaceLastRow","numberOfSpacers","Math","i","CustomTag","BusyIndicatorSize","Large","ToolbarStyle","Clear","document","body"],"mappings":"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","sourcesContent":["import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import { isIE } from '@ui5/webcomponents-base/dist/Device.js';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nconst styles = {\n  outerContainer: {\n    background: ThemingParameters.sapObjectHeader_Background,\n    '--_ui5_input_width': '100%'\n  },\n  outerContainerWithToolbar: {\n    paddingTop: '0.5rem',\n    paddingLeft: '2rem',\n    paddingRight: '2rem',\n    paddingBottom: '1px',\n    boxShadow: ThemingParameters.sapContent_HeaderShadow\n  },\n  filterBarHeader: {\n    alignItems: 'center',\n    display: 'flex',\n    background: ThemingParameters.sapObjectHeader_Background,\n    minHeight: '3rem',\n    paddingBottom: '0.5rem',\n    boxShadow: 'none',\n    flexWrap: 'wrap'\n  },\n  filterArea: {\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    paddingTop: '1rem',\n    marginBottom: '1rem',\n    background: ThemingParameters.sapObjectHeader_Background,\n    transition: 'max-height 0.2s ease-out, opacity 0.2s ease-in'\n  },\n  filterAreaClosed: {\n    maxHeight: '0',\n    opacity: 0,\n    padding: 0,\n    margin: 0,\n    overflowY: 'auto'\n  },\n  filterAreaOpen: {\n    opacity: 1\n  },\n  showFiltersBtn: { minWidth: '108px' },\n  loadingContainer: {\n    marginBottom: '0.5rem',\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'center'\n  },\n  filterBarButtons: {\n    display: 'flex',\n    alignItems: 'center',\n    position: 'absolute',\n    right: 0,\n    marginBottom: '1rem',\n    '& > *:not(:first-child)': {\n      marginLeft: '0.25rem'\n    },\n    '& > *:not(:last-child)': {\n      marginRight: '0.25rem'\n    }\n  },\n  spacer: {\n    height: 0,\n    marginTop: 0,\n    flexGrow: 1,\n    flexShrink: 0,\n    maxWidth: isIE() ? '26.25rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis) * 2)',\n    flexBasis: isIE() ? '13.125rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis))'\n  },\n  lastSpacer: {\n    height: 'var(--_ui5_input_height)',\n    flexGrow: 1,\n    flexShrink: 0,\n    maxWidth: isIE() ? '26.25rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis) * 2)',\n    flexBasis: isIE() ? '13.125rem' : 'calc(var(--_ui5wcr_filter_group_item_flex_basis))'\n  }\n};\n\nexport default styles;\n","export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation?.();\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { sapUiContentPadding } from '@ui5/webcomponents-react-base/dist/spacing';\n\nconst styles = {\n  dialog: {\n    ...sapUiContentPadding,\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: '960px',\n    width: '80vw',\n    maxHeight: '70vh',\n    '--_ui5_input_width': '100%'\n  },\n  header: {\n    width: '100%',\n    padding: '0.25rem 1rem 0 1rem',\n    '& *': {\n      margin: '0.25rem 0 0.25rem 0'\n    },\n    '& ui5-input': {\n      width: '100%'\n    }\n  },\n  footer: {\n    '& :not(:last-child)': {\n      marginRight: '0.25rem'\n    }\n  },\n  groupContainer: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  groupTitle: {\n    maxWidth: '85%',\n    marginRight: '0.5rem'\n  },\n  filters: {\n    padding: '1rem 0 2rem 0'\n  },\n  singleFilter: {\n    display: 'grid',\n    gridTemplateColumns: `auto minmax(${CssSizeVariables.sapWcrCheckBoxWidthHeight},7%)`,\n    gridTemplateRows: 'auto',\n    gridColumnGap: '0.5rem',\n    '@media(max-width:700px)': {\n      marginTop: '0.5rem'\n    },\n    '& ui5-checkbox': {\n      placeSelf: 'center start',\n      '@media(max-width:700px)': {\n        marginTop: '0.8rem',\n        paddingLeft: 0,\n        placeSelf: 'end start'\n      }\n    }\n  },\n\n  fbSearch: {\n    '@media(min-width:700px)': {\n      display: 'grid',\n      gridTemplateColumns: '20% auto 7%',\n      gridTemplateRows: 'auto',\n      gridRowGap: '0.5rem',\n      gridColumnGap: '0.5rem'\n    },\n    paddingBottom: '2rem',\n    width: '100%',\n    '& ui5-input': {\n      width: '100%'\n    }\n  }\n};\n\nexport default styles;\n","import { cloneElement, Ref } from 'react';\n\nconst inputTagNames = new Set([\n  'UI5-COMBOBOX',\n  'UI5-DATE-PICKER',\n  'UI5-DATERANGE-PICKER',\n  'UI5-DATETIME-PICKER',\n  'UI5-DURATION-PICKER',\n  'UI5-INPUT',\n  'UI5-MULTI-INPUT',\n  'UI5-RATING-INDICATOR',\n  'UI5-STEP-INPUT',\n  'UI5-TIME-PICKER'\n]);\n\nexport const filterValue = (ref, child) => {\n  const tagName = ref.tagName;\n  let filterItemProps = {};\n  if (inputTagNames.has(tagName)) {\n    filterItemProps = { value: ref.value ?? '' };\n  }\n  if (tagName === 'UI5-SELECT' || tagName === 'UI5-MULTI-COMBOBOX') {\n    const selectedIndices = Array.from(ref.children as HTMLCollectionOf<any>)\n      .map((item, index) => (item.selected ? index : false))\n      .filter((el) => el !== false);\n    const selectedIndicesSet = new Set(selectedIndices);\n    const options = child.props.children.props.children?.map((item, index) => {\n      if (selectedIndicesSet.has(index)) {\n        return cloneElement(item, { selected: true });\n      }\n      return cloneElement(item, { selected: false });\n    });\n    filterItemProps = { children: options };\n  }\n  if (tagName === 'UI5-SWITCH' || tagName === 'UI5-CHECKBOX') {\n    filterItemProps = { checked: ref.checked };\n  }\n  return filterItemProps;\n};\n\nexport const renderSearchWithValue = (renderSearchElement, searchValue) => {\n  return cloneElement(renderSearchElement, {\n    value: searchValue ?? renderSearchElement?.props?.value,\n    'data-component-name': 'FilterBarSearch'\n  });\n};\n\nexport const syncRef = (ref: Ref<unknown>, node: unknown): void => {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    } else if (ref.hasOwnProperty('current')) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      ref.current = node;\n    }\n  }\n};\n","import '@ui5/webcomponents-icons/dist/search.js';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  BASIC,\n  CANCEL,\n  CLEAR,\n  FILTERS,\n  GO,\n  RESTORE,\n  SAVE,\n  SEARCH_FOR_FILTERS,\n  SHOW_ON_FILTER_BAR\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Bar } from '@ui5/webcomponents-react/dist/Bar';\nimport { BarDesign } from '@ui5/webcomponents-react/dist/BarDesign';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { CheckBox } from '@ui5/webcomponents-react/dist/CheckBox';\nimport { Dialog } from '@ui5/webcomponents-react/dist/Dialog';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/dist/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/dist/FlexBoxDirection';\nimport { FlexBoxJustifyContent } from '@ui5/webcomponents-react/dist/FlexBoxJustifyContent';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { Input } from '@ui5/webcomponents-react/dist/Input';\nimport { Text } from '@ui5/webcomponents-react/dist/Text';\nimport { Title } from '@ui5/webcomponents-react/dist/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/dist/TitleLevel';\nimport { DialogDomRef } from '@ui5/webcomponents-react/dist/Dialog';\nimport React, { Children, cloneElement, ReactElement, useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport styles from './FilterBarDialog.jss';\nimport { filterValue, renderSearchWithValue, syncRef } from './utils';\n\nconst useStyles = createUseStyles(styles, { name: 'FilterBarDialog' });\nexport const FilterDialog = (props) => {\n  const {\n    filterBarRefs,\n    open,\n    handleDialogClose,\n    children,\n    showClearButton,\n    showRestoreButton,\n    showGoButton,\n    showSearch,\n    renderFBSearch,\n    handleClearFilters,\n    handleRestoreFilters,\n    handleDialogSave,\n    searchValue,\n    handleSearchValueChange,\n    onGo,\n    handleSelectionChange,\n    handleDialogSearch,\n    handleDialogCancel,\n    portalContainer\n  } = props;\n  const classes = useStyles();\n  const [searchString, setSearchString] = useState('');\n  const searchRef = useRef(null);\n  const [toggledFilters, setToggledFilters] = useState({});\n  const dialogRefs = useRef({});\n  const dialogRef = useRef<DialogDomRef>();\n  const dialogSearchRef = useRef(null);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const basicText = i18nBundle.getText(BASIC);\n  const cancelText = i18nBundle.getText(CANCEL);\n  const clearText = i18nBundle.getText(CLEAR);\n  const restoreText = i18nBundle.getText(RESTORE);\n  const saveText = i18nBundle.getText(SAVE);\n  const searchForFiltersText = i18nBundle.getText(SEARCH_FOR_FILTERS);\n  const showOnFilterBarText = i18nBundle.getText(SHOW_ON_FILTER_BAR);\n  const filtersTitle = i18nBundle.getText(FILTERS);\n  const goText = i18nBundle.getText(GO);\n\n  useEffect(() => {\n    if (open) {\n      dialogRef.current.show();\n    }\n  }, [open]);\n\n  const handleSearch = (e) => {\n    if (handleDialogSearch) {\n      handleDialogSearch(enrichEventWithDetails(e, { value: e.target.value, element: e.target }));\n    }\n    setSearchString(e.target.value);\n  };\n  const handleSave = (e, go = false) => {\n    if (renderFBSearch) {\n      handleSearchValueChange(searchRef.current?.children[1].value);\n    }\n    if (go) {\n      handleDialogSave(e, dialogRefs.current, toggledFilters, true);\n    } else {\n      handleDialogSave(e, dialogRefs.current, toggledFilters);\n    }\n  };\n\n  const handleClose = (e) => {\n    stopPropagation(e);\n    if (!showGoButton) {\n      handleSave(e);\n      return;\n    }\n    handleDialogClose(e);\n  };\n\n  const handleDialogGo = (e) => {\n    if (typeof onGo === 'function') {\n      handleSave(e, true);\n    }\n  };\n\n  const handleCancel = (e) => {\n    if (handleDialogCancel) {\n      handleDialogCancel(enrichEventWithDetails(e));\n    }\n    handleDialogClose(e);\n  };\n\n  const getFilterElements = () => {\n    const search = searchRef.current?.querySelector(`[data-component-name=\"FilterBarSearch\"]`);\n    return {\n      filters: dialogFilterRefs.current,\n      search,\n      dialogSearch: dialogSearchRef.current\n    };\n  };\n\n  const handleRestore = (e) => {\n    handleRestoreFilters(e, 'dialog', getFilterElements());\n  };\n\n  const handleClear = (e) => {\n    if (typeof handleClearFilters === 'function') {\n      handleClearFilters(enrichEventWithDetails(e, getFilterElements()));\n    }\n  };\n\n  const renderChildren = () => {\n    return children\n      .filter((item) => {\n        return (\n          !!item?.props &&\n          item.props?.visible &&\n          (item.props?.label?.toLowerCase().includes(searchString.toLowerCase()) || searchString.length === 0)\n        );\n      })\n      .map((child) => {\n        const filterBarItemRef = filterBarRefs.current[child.key];\n        let filterItemProps = {};\n        if (filterBarItemRef) {\n          filterItemProps = filterValue(filterBarItemRef, child);\n        }\n        if (!child.props.children) return child;\n        return cloneElement(child as ReactElement<any>, {\n          children: {\n            ...child.props.children,\n            props: {\n              ...child.props.children.props,\n              ...filterItemProps\n            },\n            ref: (node) => {\n              if (node) {\n                dialogRefs.current[child.key] = node;\n                syncRef(child.props.children.ref, node);\n              }\n            }\n          }\n        });\n      });\n  };\n\n  const handleCheckBoxChange = useCallback(\n    (element) => (e) => {\n      if (handleSelectionChange) {\n        handleSelectionChange(enrichEventWithDetails(e, { element, checked: e.target.checked }));\n      }\n      setToggledFilters((old) => ({ ...old, [element.key]: e.target.checked }));\n    },\n    [setToggledFilters, handleSelectionChange]\n  );\n  const dialogFilterRefs = useRef([]);\n  const renderGroups = () => {\n    const groups = {};\n    let dialogFilters = [];\n    Children.forEach(renderChildren(), (child) => {\n      const childGroups = child.props.groupName ?? 'default';\n      if (groups[childGroups]) {\n        groups[childGroups].push(child);\n      } else {\n        groups[childGroups] = [child];\n      }\n    });\n\n    const filterGroups = Object.keys(groups)\n      .sort((x, y) => (x === 'default' ? -1 : y === 'role' ? 1 : 0))\n      .map((item, index) => {\n        const filters = groups[item].map((el) => {\n          return (\n            <div\n              className={classes.singleFilter}\n              key={`${el.key}-container`}\n              ref={(node) => {\n                if (node) {\n                  dialogFilters.push(node.children?.[0]?.children?.[0]?.children?.[1]);\n                }\n              }}\n            >\n              {el}\n              <CheckBox\n                role=\"checkbox\"\n                checked={el.props.visibleInFilterBar || el.props.required || el.type.displayName !== 'FilterGroupItem'}\n                onChange={handleCheckBoxChange(el)}\n                disabled={el.props.required || el.type.displayName !== 'FilterGroupItem'}\n              />\n            </div>\n          );\n        });\n        return (\n          <div className={classes.groupContainer} key={item}>\n            <FlexBox justifyContent={FlexBoxJustifyContent.SpaceBetween} alignItems={FlexBoxAlignItems.Center}>\n              <Title\n                level={TitleLevel.H5}\n                className={index === 0 ? classes.groupTitle : ''}\n                title={item === 'default' ? basicText : item}\n              >\n                {item === 'default' ? basicText : item}\n              </Title>\n              {index === 0 && <Text wrapping={false}>{showOnFilterBarText}</Text>}\n            </FlexBox>\n            <div className={classes.filters}>{filters}</div>\n          </div>\n        );\n      });\n    dialogFilterRefs.current = dialogFilters;\n    return filterGroups;\n  };\n  return createPortal(\n    <Dialog\n      ref={dialogRef}\n      header={\n        <FlexBox direction={FlexBoxDirection.Column} alignItems={FlexBoxAlignItems.Center} className={classes.header}>\n          <Title level={TitleLevel.H4} title={filtersTitle}>\n            {filtersTitle}\n          </Title>\n          {showSearch && (\n            <Input\n              placeholder={searchForFiltersText}\n              onInput={handleSearch}\n              icon={<Icon name=\"search\" />}\n              ref={dialogSearchRef}\n            />\n          )}\n        </FlexBox>\n      }\n      footer={\n        <Bar\n          design={BarDesign.Footer}\n          endContent={\n            <FlexBox justifyContent={FlexBoxJustifyContent.End} className={classes.footer}>\n              {showGoButton && (\n                <Button onClick={handleDialogGo} design={ButtonDesign.Emphasized} title={goText}>\n                  {goText}\n                </Button>\n              )}\n              {showClearButton && <Button onClick={handleClear}>{clearText}</Button>}\n              {showRestoreButton && <Button onClick={handleRestore}>{restoreText}</Button>}\n              <Button onClick={handleSave}>{saveText}</Button>\n              <Button design={ButtonDesign.Transparent} onClick={handleCancel}>\n                {cancelText}\n              </Button>\n            </FlexBox>\n          }\n        />\n      }\n      onAfterClose={handleClose}\n    >\n      <div className={classes.dialog} role=\"dialog\">\n        {renderFBSearch && (\n          <div className={classes.fbSearch} ref={searchRef}>\n            <span />\n            {renderSearchWithValue(renderFBSearch, searchValue)}\n          </div>\n        )}\n        {renderGroups()}\n      </div>\n    </Dialog>,\n    portalContainer\n  );\n};\n","import { useI18nBundle, useIsRTL, useSyncRef } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { debounce, enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  ADAPT_FILTERS,\n  CLEAR,\n  FILTERS,\n  GO,\n  HIDE_FILTER_BAR,\n  RESTORE,\n  SHOW_FILTER_BAR\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { BusyIndicator } from '@ui5/webcomponents-react/dist/BusyIndicator';\nimport { BusyIndicatorSize } from '@ui5/webcomponents-react/dist/BusyIndicatorSize';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { InputPropTypes } from '@ui5/webcomponents-react/dist/Input';\nimport { Toolbar } from '@ui5/webcomponents-react/dist/Toolbar';\nimport { ToolbarSeparator } from '@ui5/webcomponents-react/dist/ToolbarSeparator';\nimport { ToolbarSpacer } from '@ui5/webcomponents-react/dist/ToolbarSpacer';\nimport { ToolbarStyle } from '@ui5/webcomponents-react/dist/ToolbarStyle';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport clsx from 'clsx';\nimport React, {\n  Children,\n  cloneElement,\n  CSSProperties,\n  forwardRef,\n  ReactElement,\n  ReactNode,\n  RefObject,\n  useEffect,\n  useRef,\n  useState\n} from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { Ui5CustomEvent } from '../../interfaces/Ui5CustomEvent';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport styles from './FilterBar.jss';\nimport { FilterDialog } from './FilterDialog';\nimport { filterValue, renderSearchWithValue, syncRef } from './utils';\n\nexport interface FilterBarPropTypes extends CommonProps {\n  /**\n   * Defines the filters of the `FilterBar`.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `FilterGroupItems` in order to preserve the intended design.\n   */\n  children: ReactNode | ReactNode[];\n  /**\n   * Defines the search field next to the variants of the `FilterBar`.\n   *\n   * __Note:__ If `useToolbar` is `false` this prop has no effect.\n   */\n  search?: ReactElement<InputPropTypes>;\n  /**\n   * Defines the variants of the `FilterBar`.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `VariantManagement` in order to preserve the intended design.\n   * __Note:__ If `useToolbar` is `false` this prop has no effect.\n   */\n  variants?: ReactNode;\n  /**\n   * Defines whether the toolbar on top of the filter items is displayed.\n   *\n   * __Note__: If set to `false`, `variants`, `search` and the \"Hide/Show FilterBar\" button are not available and the rest of the buttons are moved to the bottom right side of the filter area.\n   */\n  useToolbar?: boolean;\n  /**\n   * Defines whether the `FilterBar` is expanded.\n   */\n  filterBarExpanded?: boolean;\n  /**\n   * Defines the width of the `FilterGroupItems`.\n   *\n   * __Note:__ If your filter elements (e.g. `DateRangePicker`) have an internal `minWidth`, please make sure to overwrite it with `minWidth:'auto'` or the corresponding `filterContainerWidth` otherwise it can lead to unintended behavior.\n   * __Note:__ This prop is not supported with IE11, there it defaults to `13.125rem`.\n   */\n  filterContainerWidth?: CSSProperties['width'];\n  /**\n   * Defines whether the `groupName` of the `FilterGroupItems` is displayed.\n   */\n  considerGroupName?: boolean;\n  /**\n   * Defines whether the \"Clear\" button is displayed in the `FilterBar`.\n   */\n  showClearOnFB?: boolean;\n  /**\n   * Defines whether the \"Go\" button is displayed in the `FilterBar`.\n   */\n  showGoOnFB?: boolean;\n  /**\n   * Defines whether the \"Filter\" button is displayed in the `FilterBar`.\n   *\n   * __Note:__ Clicking on the button will open the filter configuration dialog, where you can add/remove filters to the `FilterBar`.\n   */\n  showFilterConfiguration?: boolean;\n  /**\n   * Defines whether the \"Clear\" button is displayed in the filter configuration dialog.\n   */\n  showClearButton?: boolean;\n  /**\n   * Defines whether the \"Restore\" button is displayed in the filter configuration dialog.\n   */\n  showRestoreButton?: boolean;\n  /**\n   * Defines whether the \"Go\" button is displayed in the filter configuration dialog.\n   */\n  showGo?: boolean;\n  /**\n   * Defines whether the \"Hide/Show Filters\" button is displayed in the `FilterBar`.\n   *\n   * __Note:__ If `useToolbar` is `false` this prop has no effect.\n   */\n  hideToggleFiltersButton?: boolean;\n  /**\n   * Defines the number of active filters displayed in the \"Filter\" button.\n   *\n   * __Note__: If `showFilterConfiguration` is `false` this prop has no effect.\n   */\n  activeFiltersCount?: number | string;\n  /**\n   * Indicates whether a loading indicator should be shown in the `FilterBar`.\n   */\n  loading?: boolean;\n  /**\n   * Defines whether a search field for filters is displayed in the filter configuration dialog.\n   */\n  showSearchOnFiltersDialog?: boolean;\n  /**\n   * Defines whether the \"Restore\" button is displayed in the `FilterBar`.\n   */\n  showRestoreOnFB?: boolean;\n  /**\n   * Sets the components outer HTML tag.\n   *\n   * __Note:__ For TypeScript the types of `ref` are bound to the default tag name, if you change it you are responsible to set the respective types yourself.\n   */\n  as?: keyof HTMLElementTagNameMap;\n  /**\n   * Defines where modals are rendered into via `React.createPortal`.\n   *\n   * Defaults to: `document.body`\n   */\n  portalContainer?: Element;\n  /**\n   * The event is fired when the `FilterBar` is collapsed/expanded.\n   */\n  onToggleFilters?: (event: CustomEvent<{ visible: boolean; filters: HTMLElement[]; search: HTMLElement }>) => void;\n  /**\n   * The event is fired when the \"Save\" button of the filter configuration dialog is clicked.\n   */\n  onFiltersDialogSave?: (\n    event: CustomEvent<{\n      elements: Record<string, HTMLElement>;\n      toggledElements?: Record<string, HTMLElement>;\n      filters: HTMLElement[];\n      search: HTMLElement;\n    }>\n  ) => void;\n  /**\n   * The event is fired when the \"Clear\" button of the filter configuration dialog is clicked.\n   */\n  onFiltersDialogClear?: (\n    event: CustomEvent<{ dialogSearch: HTMLElement; filters: HTMLElement[]; search: HTMLElement }>\n  ) => void;\n  /**\n   * The event is fired when the \"Cancel\" button of the filter configuration dialog is clicked.\n   */\n  onFiltersDialogCancel?: (event: Ui5CustomEvent<HTMLElement>) => void;\n  /**\n   * The event is fired when the filter configuration dialog is opened.\n   */\n  onFiltersDialogOpen?: (event: Ui5CustomEvent<HTMLElement>) => void;\n  /**\n   * The event is fired when the filter configuration dialog is closed.\n   */\n  onFiltersDialogClose?: (event: Ui5CustomEvent<HTMLElement>) => void;\n  /**\n   * The event is fired when a filter is selected/unselected in the filter configuration dialog.\n   */\n  onFiltersDialogSelectionChange?: (\n    event: CustomEvent<{ elements: Record<string, HTMLElement>; toggledElements?: Record<string, HTMLElement> }>\n  ) => void;\n  /**\n   * The event is fired on input in the filter configuration dialog search field.\n   */\n  onFiltersDialogSearch?: (event: CustomEvent<{ value: string; element: HTMLElement }>) => void;\n  /**\n   * The event is fired when the \"Clear\" button is clicked.\n   */\n  onClear?: (event: CustomEvent<{ dialogSearch: HTMLElement; filters: HTMLElement[]; search: HTMLElement }>) => void;\n  /**\n   * The event is fired when the \"Go\" button is clicked.\n   */\n  onGo?: (\n    event: CustomEvent<{\n      elements: Record<string, HTMLElement>;\n      toggledElements?: Record<string, HTMLElement>;\n      filters: HTMLElement[];\n      search: HTMLElement;\n    }>\n  ) => void;\n  /**\n   * The event is fired when the \"Restore\" button is clicked.\n   */\n  onRestore?: (\n    event: CustomEvent<{ source: string; filters: HTMLElement[]; search: HTMLElement; dialogSearch?: HTMLElement }>\n  ) => void;\n}\n\nconst resizeObserverEntryWidth = (entry) => {\n  if (entry.borderBoxSize) {\n    // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n    return Array.isArray(entry.borderBoxSize) ? entry.borderBoxSize[0]?.inlineSize : entry.borderBoxSize?.inlineSize;\n  }\n  // Safari doesn't implement `borderBoxSize`\n  return entry.target.getBoundingClientRect().width;\n};\n\nconst useStyles = createUseStyles(styles, { name: 'FilterBar' });\n/**\n * The `FilterBar` displays filters in a user-friendly manner to populate values for a query. It consists of a row containing the `VariantManagement`, the related buttons, and an area underneath displaying the filters. The filters are arranged in a logical row that is divided depending on the space available and the width of the filters. The area containing the filters can be hidden or shown using the \"Hide FilterBar / Show FilterBar\" button, the \"Filters\" button shows the filter dialog.\n In this dialog, the consumer has full control over the FilterBar. The filters in this dialog are displayed in one column and organized in groups. Each filter can be marked as visible in the FilterBar by selecting \"Add to FilterBar\".\n */\nconst FilterBar = forwardRef((props: FilterBarPropTypes, ref: RefObject<HTMLDivElement>) => {\n  const {\n    children,\n    useToolbar,\n    loading,\n    filterBarExpanded,\n    considerGroupName,\n    filterContainerWidth,\n    activeFiltersCount,\n    showClearOnFB,\n    showGoOnFB,\n    showGo,\n    showFilterConfiguration,\n    showRestoreOnFB,\n    showClearButton,\n    showRestoreButton,\n    showSearchOnFiltersDialog,\n    hideToggleFiltersButton,\n    style,\n    className,\n    tooltip,\n    slot,\n    search,\n    variants,\n    as,\n    portalContainer,\n\n    onToggleFilters,\n    onFiltersDialogOpen,\n    onFiltersDialogCancel,\n    onFiltersDialogClose,\n    onFiltersDialogSave,\n    onFiltersDialogClear,\n    onClear,\n    onFiltersDialogSelectionChange,\n    onFiltersDialogSearch,\n    onGo,\n    onRestore,\n    ...rest\n  } = props;\n\n  useDeprecationNoticeForTooltip('FilterBar', props.tooltip);\n\n  const [showFilters, setShowFilters] = useState(useToolbar ? filterBarExpanded : true);\n  const [mountFilters, setMountFilters] = useState(true);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [searchValue, setSearchValue] = useState<string>(undefined);\n  const searchRef = useRef(null);\n  const filterRefs = useRef({});\n  const [dialogRefs, setDialogRefs] = useState({});\n  const [toggledFilters, setToggledFilters] = useState({});\n  const prevVisibleInFilterBarProps = useRef({});\n  const prevSearchInputPropsValueRef = useRef<string>();\n  const filterBarButtonsRef = useRef(null);\n  const filterAreaRef = useRef(null);\n  const [componentRef, filterBarRef] = useSyncRef<HTMLDivElement>(ref);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const clearText = i18nBundle.getText(CLEAR);\n  const restoreText = i18nBundle.getText(RESTORE);\n  const showFilterBarText = i18nBundle.getText(SHOW_FILTER_BAR);\n  const hideFilterBarText = i18nBundle.getText(HIDE_FILTER_BAR);\n  const goText = i18nBundle.getText(GO);\n  const filtersText = useToolbar ? i18nBundle.getText(FILTERS) : i18nBundle.getText(ADAPT_FILTERS);\n\n  const isRtl = useIsRTL(filterBarRef);\n  const transformRightRTL = isRtl ? 'Left' : 'Right';\n\n  useEffect(() => {\n    Children.toArray(children).forEach((item: ReactElement<any>) => {\n      setToggledFilters((prev) => {\n        if (!item.props.hasOwnProperty('visibleInFilterBar') && prev?.[item.key] === undefined) {\n          return { ...prev, [item.key]: true };\n        }\n        if (item.props.hasOwnProperty('visibleInFilterBar')) {\n          return { ...prev, [item.key]: item.props.visibleInFilterBar };\n        }\n        return prev;\n      });\n    });\n  }, [children, setToggledFilters]);\n\n  useEffect(() => {\n    setShowFilters(useToolbar ? filterBarExpanded : true);\n  }, [setShowFilters, useToolbar, filterBarExpanded]);\n\n  const classes = useStyles();\n\n  const filterAreaClasses = clsx(classes.filterArea, showFilters ? classes.filterAreaOpen : classes.filterAreaClosed);\n\n  const getFilterElements = () => {\n    const search = searchRef.current?.querySelector(`[data-component-name=\"FilterBarSearch\"]`);\n    return {\n      filters: filterRefs?.current ? Object.values(filterRefs.current).filter(Boolean) : [],\n      search\n    };\n  };\n\n  const handleToggle = (e) => {\n    if (onToggleFilters) {\n      onToggleFilters(enrichEventWithDetails(e, { visible: !showFilters, ...getFilterElements() }));\n    }\n    setShowFilters(!showFilters);\n  };\n\n  const [executeGo, setExecuteGo] = useState(false);\n  const handleDialogSave = (e, newRefs, updatedToggledFilters, go = false) => {\n    setDialogRefs(newRefs);\n    const details = {\n      elements: newRefs,\n      toggledElements: { ...toggledFilters, ...updatedToggledFilters },\n      ...getFilterElements()\n    };\n    if (typeof onGo === 'function' && go) {\n      setExecuteGo(enrichEventWithDetails(e, details));\n    }\n\n    setToggledFilters((old) => ({ ...old, ...updatedToggledFilters }));\n    if (onFiltersDialogSave) {\n      onFiltersDialogSave(enrichEventWithDetails(e, details));\n    }\n    handleDialogClose(e);\n  };\n\n  const handleDialogOpen = (e) => {\n    setDialogOpen(true);\n    if (onFiltersDialogOpen) {\n      onFiltersDialogOpen(e);\n    }\n  };\n\n  const handleDialogClose = (e) => {\n    if (onFiltersDialogClose) {\n      onFiltersDialogClose(enrichEventWithDetails(e));\n    }\n    setDialogOpen(false);\n  };\n\n  const handleGoOnFb = (e) => {\n    if (typeof onGo === 'function') {\n      onGo(enrichEventWithDetails(e, { elements: filterRefs.current, ...getFilterElements() }));\n    }\n  };\n\n  const safeChildren = () => {\n    if (Object.keys(toggledFilters).length > 0) {\n      return Children.toArray(children).map((child: ReactElement) => {\n        if (toggledFilters?.[child.key] !== undefined) {\n          return cloneElement(child, {\n            visibleInFilterBar: toggledFilters[child.key]\n          });\n        }\n        return child;\n      });\n    }\n    return Children.toArray(children) as unknown[];\n  };\n  const prevChildren = useRef({});\n\n  const renderChildren = () => {\n    const childProps = { considerGroupName, ['data-in-fb']: true, ['data-with-toolbar']: useToolbar } as any;\n    return safeChildren()\n      .filter((item: ReactElement<any, any>) => {\n        return item?.props?.visible && item.props?.visibleInFilterBar;\n      })\n      .map((child: ReactElement<any, any>) => {\n        // necessary because of varying widths of input elements\n        if (filterContainerWidth) {\n          childProps.style = { width: filterContainerWidth, ...child.props.style };\n        }\n        if (!showFilterConfiguration) {\n          return cloneElement(child as ReactElement<any>, { ...childProps });\n        }\n        prevVisibleInFilterBarProps.current[child.key] = child.props.visibleInFilterBar;\n        let filterItemProps = {};\n        if (Object.keys(dialogRefs).length > 0) {\n          const dialogItemRef = dialogRefs[child.key];\n          if (dialogItemRef) {\n            filterItemProps = filterValue(dialogItemRef, child);\n          }\n        }\n        if (!child.props.children) {\n          return cloneElement(child as ReactElement<any>, {\n            ...childProps\n          });\n        }\n        if (\n          prevChildren.current?.[child.key] &&\n          //Input\n          (child.props.children?.props?.value !== prevChildren.current?.[child.key]?.value ||\n            //Checkbox\n            child.props.children?.props?.checked !== prevChildren.current?.[child.key]?.checked ||\n            //Selectable\n            (Array.isArray(child.props.children?.props?.children) &&\n              child.props.children?.props?.children?.map((item) => item.props.selected).join(',') !==\n                prevChildren?.current?.[child.key]?.children?.map((item) => item.props.selected).join(',')))\n        ) {\n          // @ts-ignore\n          const { [child.key]: omit, ...rest } = dialogRefs;\n          setDialogRefs(rest);\n        }\n        prevChildren.current[child.key] = child.props.children.props;\n\n        return cloneElement(child as ReactElement<any>, {\n          ...childProps,\n          children: {\n            ...child.props.children,\n            props: {\n              ...child.props.children.props,\n              ...filterItemProps\n            },\n            ref: (node) => {\n              filterRefs.current[child.key] = node;\n              if (!dialogOpen) syncRef(child.props.children.ref, node);\n            }\n          }\n        });\n      });\n  };\n  const handleRestoreFilters = (e, source, filterElements) => {\n    if (source === 'dialog' && showGo) {\n      setDialogOpen(false);\n      setDialogOpen(true);\n    } else if (source === 'filterBar' && showGoOnFB) {\n      setMountFilters(false);\n      setMountFilters(true);\n    }\n    if (onRestore) {\n      onRestore(enrichEventWithDetails(e, { source, ...filterElements }));\n    }\n  };\n\n  const handleFBRestore = (e) => {\n    handleRestoreFilters(e, 'filterBar', getFilterElements());\n  };\n\n  const handleClear = (e) => {\n    if (typeof onClear === 'function') {\n      onClear(enrichEventWithDetails(e, getFilterElements()));\n    }\n  };\n\n  const cssClasses = clsx(classes.outerContainer, className, useToolbar && classes.outerContainerWithToolbar);\n\n  useEffect(() => {\n    prevSearchInputPropsValueRef.current = search?.props?.value;\n  }, [search?.props?.value]);\n\n  const prevSearchInputPropsValue = prevSearchInputPropsValueRef.current;\n\n  useEffect(() => {\n    if (prevSearchInputPropsValue !== search?.props?.value) {\n      setSearchValue(search?.props?.value);\n    }\n  }, [prevSearchInputPropsValue, search?.props?.value]);\n\n  const ToolbarButtons = (\n    <>\n      {showClearOnFB && (\n        <Button onClick={handleClear} design={ButtonDesign.Transparent}>\n          {clearText}\n        </Button>\n      )}\n      {showRestoreOnFB && (\n        <Button onClick={handleFBRestore} design={ButtonDesign.Transparent}>\n          {restoreText}\n        </Button>\n      )}\n      {!hideToggleFiltersButton && useToolbar && (\n        <Button onClick={handleToggle} design={ButtonDesign.Transparent} className={classes.showFiltersBtn}>\n          {showFilters ? hideFilterBarText : showFilterBarText}\n        </Button>\n      )}\n      {showFilterConfiguration && (\n        <Button onClick={handleDialogOpen} aria-haspopup=\"dialog\">\n          {`${filtersText}${\n            activeFiltersCount && parseInt(activeFiltersCount as string, 10) > 0 ? ` (${activeFiltersCount})` : ''\n          }`}\n        </Button>\n      )}\n      {showGoOnFB && (\n        <Button onClick={handleGoOnFb} design={ButtonDesign.Emphasized}>\n          {goText}\n        </Button>\n      )}\n    </>\n  );\n\n  const hasButtons = ToolbarButtons.props.children.some(Boolean);\n  const [filterBarButtonsWidth, setFilterBarButtonsWidth] = useState(undefined);\n\n  const [filterAreaWidth, setFilterAreaWidth] = useState(undefined);\n  const [firstChildWidth, setFirstChildWidth] = useState(undefined);\n  useEffect(() => {\n    const filterAreaObserver = new ResizeObserver(\n      debounce(([area]) => {\n        const firstChild = area.target?.children?.[0];\n        if (firstChild && firstChild.offsetWidth !== firstChildWidth) {\n          setFirstChildWidth(firstChild.offsetWidth + 16 /*margin*/);\n        }\n      }, 100)\n    );\n    if (!useToolbar && filterAreaRef.current) {\n      filterAreaObserver.observe(filterAreaRef.current);\n    }\n    return () => {\n      filterAreaObserver.disconnect();\n    };\n  }, [filterAreaRef.current, useToolbar]);\n\n  useEffect(() => {\n    const filterAreaObserver = new ResizeObserver(\n      debounce(([area]) => {\n        const filterWidth = resizeObserverEntryWidth(area);\n        if (filterWidth !== filterBarButtonsWidth) {\n          setFilterAreaWidth(filterWidth);\n        }\n      }, 100)\n    );\n    if (!useToolbar && filterAreaRef.current) {\n      filterAreaObserver.observe(filterAreaRef.current);\n    }\n    return () => {\n      filterAreaObserver.disconnect();\n    };\n  }, [filterAreaWidth, filterAreaRef.current, useToolbar]);\n\n  useEffect(() => {\n    const filterBarButtonsObserver = new ResizeObserver(\n      debounce(([buttons]) => {\n        const buttonsWidth = resizeObserverEntryWidth(buttons);\n        if (buttonsWidth !== filterBarButtonsWidth) {\n          setFilterBarButtonsWidth(buttonsWidth);\n        }\n      }, 100)\n    );\n    if (!useToolbar && filterBarButtonsRef.current) {\n      filterBarButtonsObserver.observe(filterBarButtonsRef.current);\n    }\n    return () => {\n      filterBarButtonsObserver.disconnect();\n    };\n  }, [filterBarButtonsRef.current, useToolbar, filterBarButtonsWidth]);\n\n  const calculatedChildren = renderChildren();\n\n  useEffect(() => {\n    if (executeGo) {\n      setExecuteGo((prevEvent) => {\n        onGo(prevEvent as any);\n        return false;\n      });\n    }\n  }, [executeGo]);\n\n  // calculates the number of spacers depending on the available width inside the row\n  const renderSpacers = () => {\n    if (firstChildWidth && filterAreaWidth && filterBarButtonsWidth) {\n      let spacers = [];\n      const filterItemsWidth = calculatedChildren.length * firstChildWidth;\n      //early return if enough space is available\n      if (filterAreaWidth - filterBarButtonsWidth > filterItemsWidth) {\n        return null;\n      }\n      const usedSpaceLastRow = filterItemsWidth % filterAreaWidth;\n      const emptySpaceLastRow = filterAreaWidth - usedSpaceLastRow;\n      // deduct width of buttons container of the empty space in the last row to calculate number of spacers\n      const numberOfSpacers = Math.floor((emptySpaceLastRow - filterBarButtonsWidth) / firstChildWidth);\n      for (let i = 0; i < numberOfSpacers; i++) {\n        spacers.push(\n          <div\n            key={`filter-spacer-${i}`}\n            className={classes.spacer}\n            style={{\n              [`margin${transformRightRTL}`]: '1rem'\n            }}\n          />\n        );\n      }\n      return spacers;\n    }\n    return null;\n  };\n  const CustomTag = as as React.ElementType;\n  return (\n    <>\n      {dialogOpen && showFilterConfiguration && (\n        <FilterDialog\n          filterBarRefs={filterRefs}\n          open={dialogOpen}\n          handleDialogClose={handleDialogClose}\n          onGo={onGo}\n          handleRestoreFilters={handleRestoreFilters}\n          searchValue={searchRef.current?.children[0].value}\n          handleSearchValueChange={setSearchValue}\n          showClearButton={showClearButton}\n          showRestoreButton={showRestoreButton}\n          showSearch={showSearchOnFiltersDialog}\n          renderFBSearch={search}\n          handleClearFilters={onFiltersDialogClear}\n          handleSelectionChange={onFiltersDialogSelectionChange}\n          handleDialogSave={handleDialogSave}\n          showGoButton={showGo}\n          handleDialogSearch={onFiltersDialogSearch}\n          handleDialogCancel={onFiltersDialogCancel}\n          portalContainer={portalContainer}\n        >\n          {safeChildren()}\n        </FilterDialog>\n      )}\n      <CustomTag\n        ref={componentRef}\n        className={cssClasses}\n        style={{ ['--_ui5wcr_filter_group_item_flex_basis']: filterContainerWidth, ...style } as CSSProperties}\n        title={tooltip}\n        slot={slot}\n        {...rest}\n      >\n        {loading ? (\n          <BusyIndicator active className={classes.loadingContainer} size={BusyIndicatorSize.Large} />\n        ) : (\n          <>\n            {useToolbar && (\n              <Toolbar className={classes.filterBarHeader} toolbarStyle={ToolbarStyle.Clear}>\n                {variants}\n                {variants && search && <ToolbarSeparator />}\n                {search && <div ref={searchRef}>{renderSearchWithValue(search, searchValue)}</div>}\n                {hasButtons && <ToolbarSpacer />}\n                {ToolbarButtons}\n              </Toolbar>\n            )}\n            {mountFilters && (\n              <div className={filterAreaClasses} style={{ position: 'relative' }} ref={filterAreaRef}>\n                {calculatedChildren}\n                {!useToolbar && (\n                  <>\n                    {renderSpacers()}\n                    <div\n                      style={{\n                        width: filterBarButtonsWidth ? `${filterBarButtonsWidth}px` : '120px',\n                        minWidth: filterBarButtonsWidth ? `${filterBarButtonsWidth}px` : '120px',\n                        [`margin${transformRightRTL}`]: '1rem'\n                      }}\n                      className={classes.lastSpacer}\n                    >\n                      <div\n                        className={classes.filterBarButtons}\n                        ref={filterBarButtonsRef}\n                        style={{\n                          [`margin${transformRightRTL}`]: '1rem',\n                          left: isRtl ? 0 : 'auto',\n                          right: isRtl ? 'auto' : 0\n                        }}\n                      >\n                        {ToolbarButtons}\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n          </>\n        )}\n      </CustomTag>\n    </>\n  );\n});\n\nFilterBar.defaultProps = {\n  as: 'div',\n  filterContainerWidth: '13.125rem',\n  useToolbar: true,\n  filterBarExpanded: true,\n  portalContainer: document.body\n};\n\nFilterBar.displayName = 'FilterBar';\nexport { FilterBar };\n"]},"metadata":{},"sourceType":"module"}