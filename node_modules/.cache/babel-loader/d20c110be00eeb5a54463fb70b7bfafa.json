{"ast":null,"code":"import _regeneratorRuntime from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/flo/Desktop/mdao.fioriapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { DEFAULT_THEME } from \"../generated/AssetParameters.js\";\nvar themeStyles = new Map();\nvar loaders = new Map();\nvar registeredPackages = new Set();\nvar registeredThemes = new Set();\n/**\n * Used to provide CSS Vars for a specific theme for a specific package.\n * The CSS Vars can be passed directly as a string (containing them), as an object with a \"_\" property(containing them in the \"_\" property), or as a URL.\n * This URL must point to a JSON file, containing a \"_\" property.\n *\n * Example usage:\n *  1) Pass the CSS Vars as a string directly.\n *  registerThemeProperties(\"my-package\", \"my_theme\", \":root{--var1: red;}\");\n *\n * @public\n * @param packageName - the NPM package for which CSS Vars are registered\n * @param themeName - the theme which the CSS Vars implement\n * @param style - the style content directly\n * @deprecated\n */\n\nvar registerThemeProperties = function registerThemeProperties(_packageName, _themeName, _style) {\n  throw new Error(\"`registerThemeProperties` has been depracated. Use `registerThemePropertiesLoader` instead.\");\n};\n\nvar registerThemePropertiesLoader = function registerThemePropertiesLoader(packageName, themeName, loader) {\n  loaders.set(\"\".concat(packageName, \"/\").concat(themeName), loader);\n  registeredPackages.add(packageName);\n  registeredThemes.add(themeName);\n};\n\nvar getThemeProperties = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(packageName, themeName) {\n    var style, regThemesStr, loader, data, themeProps;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            style = themeStyles.get(\"\".concat(packageName, \"_\").concat(themeName));\n\n            if (!(style !== undefined)) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", style);\n\n          case 3:\n            if (registeredThemes.has(themeName)) {\n              _context.next = 7;\n              break;\n            }\n\n            regThemesStr = _toConsumableArray(registeredThemes.values()).join(\", \");\n            console.warn(\"You have requested a non-registered theme - falling back to \".concat(DEFAULT_THEME, \". Registered themes are: \").concat(regThemesStr));\n            /* eslint-disable-line */\n\n            return _context.abrupt(\"return\", themeStyles.get(\"\".concat(packageName, \"_\").concat(DEFAULT_THEME)));\n\n          case 7:\n            loader = loaders.get(\"\".concat(packageName, \"/\").concat(themeName));\n\n            if (loader) {\n              _context.next = 11;\n              break;\n            }\n\n            // no themes for package\n            console.error(\"Theme [\".concat(themeName, \"] not registered for package [\").concat(packageName, \"]\"));\n            /* eslint-disable-line */\n\n            return _context.abrupt(\"return\");\n\n          case 11:\n            _context.prev = 11;\n            _context.next = 14;\n            return loader(themeName);\n\n          case 14:\n            data = _context.sent;\n            _context.next = 21;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](11);\n            console.error(packageName, _context.t0.message);\n            /* eslint-disable-line */\n\n            return _context.abrupt(\"return\");\n\n          case 21:\n            themeProps = data._ || data;\n            themeStyles.set(\"\".concat(packageName, \"_\").concat(themeName), themeProps);\n            return _context.abrupt(\"return\", themeProps);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[11, 17]]);\n  }));\n\n  return function getThemeProperties(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getRegisteredPackages = function getRegisteredPackages() {\n  return registeredPackages;\n};\n\nvar isThemeRegistered = function isThemeRegistered(theme) {\n  return registeredThemes.has(theme);\n};\n\nexport { registerThemePropertiesLoader, registerThemeProperties, getThemeProperties, getRegisteredPackages, isThemeRegistered };","map":{"version":3,"sources":["/Users/flo/Desktop/mdao.fioriapp/node_modules/@ui5/webcomponents-base/dist/asset-registries/Themes.js"],"names":["DEFAULT_THEME","themeStyles","Map","loaders","registeredPackages","Set","registeredThemes","registerThemeProperties","_packageName","_themeName","_style","Error","registerThemePropertiesLoader","packageName","themeName","loader","set","add","getThemeProperties","style","get","undefined","has","regThemesStr","values","join","console","warn","error","data","message","themeProps","_","getRegisteredPackages","isThemeRegistered","theme"],"mappings":"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","sourcesContent":["import { DEFAULT_THEME } from \"../generated/AssetParameters.js\";\n\nconst themeStyles = new Map();\nconst loaders = new Map();\nconst registeredPackages = new Set();\nconst registeredThemes = new Set();\n\n/**\n * Used to provide CSS Vars for a specific theme for a specific package.\n * The CSS Vars can be passed directly as a string (containing them), as an object with a \"_\" property(containing them in the \"_\" property), or as a URL.\n * This URL must point to a JSON file, containing a \"_\" property.\n *\n * Example usage:\n *  1) Pass the CSS Vars as a string directly.\n *  registerThemeProperties(\"my-package\", \"my_theme\", \":root{--var1: red;}\");\n *\n * @public\n * @param packageName - the NPM package for which CSS Vars are registered\n * @param themeName - the theme which the CSS Vars implement\n * @param style - the style content directly\n * @deprecated\n */\nconst registerThemeProperties = (_packageName, _themeName, _style) => {\n\tthrow new Error(\"`registerThemeProperties` has been depracated. Use `registerThemePropertiesLoader` instead.\");\n};\n\nconst registerThemePropertiesLoader = (packageName, themeName, loader) => {\n\tloaders.set(`${packageName}/${themeName}`, loader);\n\tregisteredPackages.add(packageName);\n\tregisteredThemes.add(themeName);\n};\n\nconst getThemeProperties = async (packageName, themeName) => {\n\tconst style = themeStyles.get(`${packageName}_${themeName}`);\n\tif (style !== undefined) { // it's valid for style to be an empty string\n\t\treturn style;\n\t}\n\n\tif (!registeredThemes.has(themeName)) {\n\t\tconst regThemesStr = [...registeredThemes.values()].join(\", \");\n\t\tconsole.warn(`You have requested a non-registered theme - falling back to ${DEFAULT_THEME}. Registered themes are: ${regThemesStr}`); /* eslint-disable-line */\n\t\treturn themeStyles.get(`${packageName}_${DEFAULT_THEME}`);\n\t}\n\n\tconst loader = loaders.get(`${packageName}/${themeName}`);\n\tif (!loader) {\n\t\t// no themes for package\n\t\tconsole.error(`Theme [${themeName}] not registered for package [${packageName}]`); /* eslint-disable-line */\n\t\treturn;\n\t}\n\tlet data;\n\ttry {\n\t\tdata = await loader(themeName);\n\t} catch (e) {\n\t\tconsole.error(packageName, e.message); /* eslint-disable-line */\n\t\treturn;\n\t}\n\tconst themeProps = data._ || data;\n\n\tthemeStyles.set(`${packageName}_${themeName}`, themeProps);\n\treturn themeProps;\n};\n\nconst getRegisteredPackages = () => {\n\treturn registeredPackages;\n};\n\nconst isThemeRegistered = theme => {\n\treturn registeredThemes.has(theme);\n};\n\nexport {\n\tregisterThemePropertiesLoader,\n\tregisterThemeProperties,\n\tgetThemeProperties,\n\tgetRegisteredPackages,\n\tisThemeRegistered,\n};\n"]},"metadata":{},"sourceType":"module"}